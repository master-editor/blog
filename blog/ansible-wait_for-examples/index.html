<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">

<title>Ansible wait_for module examples - How to | Devops Junction</title>
<meta name="description" content="ansible wait_for examples. Examples of frequently used cases like ansible wait for the port to be available or not available, ansible wait_for the file to be created or removed, ansible wait_for examples, ansible wait_for the server to come up after reboot. wait_for a String to be available in the log, or wait_for SSH" />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Ansible wait_for module examples - How to | Devops Junction" />
<meta property="og:description" content="ansible wait_for examples. Examples of frequently used cases like ansible wait for the port to be available or not available, ansible wait_for the file to be created or removed, ansible wait_for examples, ansible wait_for the server to come up after reboot. wait_for a String to be available in the log, or wait_for SSH" />
<meta property="og:url" content="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="http://www.facebook.com/devopsjunc" />
<meta property="article:published_time" content="2019-01-01T16:42:22+00:00" />
<meta property="article:modified_time" content="2022-01-19T05:46:27+00:00" />
<meta property="og:image" content="../../wp-content/uploads/2019/01/wait-for.jpeg" />
<meta property="og:image:width" content="634" />
<meta property="og:image:height" content="951" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["http://www.facebook.com/devopsjunc","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://www.middlewareinventory.com/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#primaryimage","inLanguage":"en-US","url":"../../wp-content/uploads/2019/01/wait-for.jpeg","width":634,"height":951,"caption":"ansible wait_for examples"},{"@type":"WebPage","@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#webpage","url":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/","name":"Ansible wait_for module examples - How to | Devops Junction","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#primaryimage"},"datePublished":"2019-01-01T16:42:22+00:00","dateModified":"2022-01-19T05:46:27+00:00","description":"ansible wait_for examples. Examples of frequently used cases like ansible wait for the port to be available or not available, ansible wait_for the file to be created or removed, ansible wait_for examples, ansible wait_for the server to come up after reboot. wait_for a String to be available in the log, or wait_for SSH","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://www.middlewareinventory.com/blog/ansible-wait_for-examples/"]}]},{"@type":"Article","@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#article","isPartOf":{"@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"Ansible wait_for module examples &#8211; How to | Devops Junction","datePublished":"2019-01-01T16:42:22+00:00","dateModified":"2022-01-19T05:46:27+00:00","mainEntityOfPage":{"@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#webpage"},"commentCount":0,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#primaryimage"},"articleSection":"Ansible","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://www.middlewareinventory.com/blog/ansible-wait_for-examples/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Ansible wait_for module examples &#8211; How to | Devops Junction Comments Feed" href="feed/index.rss" />

<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.12.2';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-84162240-1';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}

	if ( 'undefined' === typeof gaOptout ) {
		function gaOptout() {
			__gaTrackerOptout();
		}
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-84162240-1', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('require', 'linkid', 'linkid.js');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>


<script type="text/javascript" data-cfasync="false">
			window.google_analytics_uacct = 'UA-84162240-1';

        </script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"3d8661396b"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://www.middlewareinventory.com/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/2346.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-wait_for-examples-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-wait_for-examples-&amp;format=xml.xml" />
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="Ansible wait_for module examples &#8211; How to | Devops Junction - Middleware Inventory" />
<meta property="og:description" content="Introduction to Ansible wait_for module
Ansible wait_for module can be used to pause your playbook execution and to wait for many different things or conditions before continuing with the execution. The wait_for module of ansible is to make your playbook or task execution halt or pause for various reasons and for numerous conditions.

You can compare it with the sleep of any given" />
<meta property="og:url" content="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="../../wp-content/uploads/2019/01/wait-for.jpeg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Introduction to Ansible wait_for module
Ansible wait_for module can be used to pause your playbook execution and to wait for many different things or conditions before continuing with the execution. The wait_for module of ansible is to make your playbook or task execution halt or pause for various reasons and for numerous conditions.

You can compare it with the sleep of any given" />
<meta name="twitter:title" content="Ansible wait_for module examples &#8211; How to | Devops Junction - Middleware Inventory" />
<meta property="twitter:image" content="../../wp-content/uploads/2019/01/wait-for.jpeg" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.middlewareinventory.com/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 22px;
}
code
{
  color: rgb(232, 44, 88);
}


blockquote {
     padding: 2%;
}

li {
    padding: 2px;
    margin-left: 2%;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-2346 single-format-standard wp-custom-logo cookies-not-set elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="300" height="107" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="300" height="107" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="../../about/index.html">About Us</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>
<li id="menu-item-8820" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8820"><a href="../../newsletter/index.html">Newsletter</a></li>
<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-2346" class="post-2346 post type-post status-publish format-standard has-post-thumbnail hentry category-ansible wpautop">
<header class="entry-header">
<h1 class="entry-title">Ansible wait_for module examples &#8211; How to | Devops Junction</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="10:12 pm" rel="bookmark"><time class="entry-date published updated" datetime="January 19, 2022">January 19, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=Ansible%20wait_for%20module%20examples%20%E2%80%93%20How%20to%20%7C%20Devops%20Junction&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-wait_for-examples%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="2346" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=Ansible+wait_for+module+examples+%E2%80%93+How+to+%7C+Devops+Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-wait_for-examples%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="2346" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=Ansible%20wait_for%20module%20examples%20%E2%80%93%20How%20to%20%7C%20Devops%20Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-wait_for-examples%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="2346" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-wait_for-examples%2F&subject=Ansible%20wait_for%20module%20examples%20%E2%80%93%20How%20to%20%7C%20Devops%20Junction" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="2346" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="2346" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Introduction_to_Ansible_wait_for_module" title="Introduction to Ansible wait_for module">Introduction to Ansible wait_for module</a></li><li><a href="#Ansible_wait_for_examples" title="Ansible wait_for examples">Ansible wait_for examples</a><ul><li><a href="#Ansible_wait_for_the_port_to_open" title="Ansible wait for the port to open">Ansible wait for the port to open</a></li><li><a href="#ansible_wait_for_the_port_to_close" title="ansible wait for the port to close">ansible wait for the port to close</a></li><li><a href="#ansible_wait_for_the_port_to_drain_and_close_active_connections" title="ansible wait_for the port to drain and close active connections">ansible wait_for the port to drain and close active connections</a></li><li><a href="#ansible_Wait_for_file_to_be_created" title="ansible Wait_for file to be created">ansible Wait_for file to be created</a></li><li><a href="#ansible_Wait_for_file_to_be_deleted_or_lock_file_to_be_removed" title="ansible Wait_for file to be deleted or lock file to be removed">ansible Wait_for file to be deleted or lock file to be removed</a></li><li><a href="#ansible_wait_for_seconds_or_sleep_for_seconds" title="ansible wait for seconds or sleep for seconds">ansible wait for seconds or sleep for seconds</a></li><li><a href="#ansible_Wait_for_reboot_wait_for_SSH" title="ansible Wait_for reboot ( wait_for SSH )">ansible Wait_for reboot ( wait_for SSH )</a></li><li><a href="#ansible_Wait_for_the_string_to_be_available_in_the_log_file" title="ansible Wait_for the string to be available in the log file">ansible Wait_for the string to be available in the log file</a></li><li><a href="#ansible_wait_for_some_process_to_finish" title="ansible wait_for some process to finish">ansible wait_for some process to finish</a></li></ul></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Introduction_to_Ansible_wait_for_module">Introduction to Ansible wait_for module</span></h2>
<p>Ansible <strong>wait_for</strong> module can be used to pause your playbook execution and to wait for many different things or conditions before continuing with the execution. The wait_for module of ansible is to make your playbook or task execution halt or pause for various reasons and for numerous conditions.</p>
<p>You can compare it with the sleep of any given programming language but it is more than that. Yes, it does have a conditional validation.</p>
<p>Take our real-life examples.</p>
<p><em>We Sleep</em> When we are expecting our friend who is always late, <em>We Sleep</em> till mom kicks us out of bed, <em>We Sleep</em> till our spouse spill water at our face and angrily say &#8220;WAKE UP&#8221;</p>
<p>Besides all,  there are few like me. We Sleep for no specific reason.</p>
<blockquote><p>Ansible Wait_for module is capable to make your playbook Sleep for no specific reason ( Simply Sleep) as well as while we wait for something ( A Conditional Sleep)</p></blockquote>
<p>Like people, Our playbooks also have different conditions to wait for and sleep and we have listed some of the most known and used conditions where ansible playbook has to go sleep or wait for.</p>
<p><img class="wp-image-2600 size-medium alignright lazyload" style="color: #000000;" src="../../wp-content/ewww/lazy/placeholder-200x300.png" alt="ansible wait_for examples" width="200" height="300" data-src="../../wp-content/uploads/2019/01/wait-for-200x300.jpeg" loading="lazy" data-srcset="../../wp-content/uploads/2019/01/wait-for-200x300.jpeg 200w, ../../wp-content/uploads/2019/01/wait-for.jpeg 634w" data-sizes="auto" /><noscript><img class="wp-image-2600 size-medium alignright" style="color: #000000;" src="../../wp-content/uploads/2019/01/wait-for-200x300.jpeg" alt="ansible wait_for examples" width="200" height="300" srcset="../../wp-content/uploads/2019/01/wait-for-200x300.jpeg 200w, ../../wp-content/uploads/2019/01/wait-for.jpeg 634w" sizes="(max-width: 200px) 100vw, 200px" data-eio="l" /></noscript></p>
<ul>
<li><span style="font-size: 14pt;">wait_for the port to be available or not available</span></li>
<li><span style="font-size: 14pt;">wait_for the file to be created with a state, present or absent</span></li>
<li><span style="font-size: 14pt;">wait_for some period of time, Simply sleep for a specified time (in seconds)</span></li>
<li><span style="font-size: 14pt;">wait_for the server to come up or get rebooted.</span></li>
<li><span style="font-size: 14pt;">wait_for a String to be available in the log file  Like Log Parsing or Searching </span></li>
<li><span style="font-size: 14pt;">wait_for SSH to be ready at the remote servers</span></li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>We are going to see all these aforementioned usage scenarios (or) test cases of ansible wait_for module with the examples (playbooks) I have written. one by one.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Ansible_wait_for_examples">Ansible wait_for examples</span></h2>
<p>We have given short snippets of ansible task and playbooks for each of the aforementioned scenarios.</p>
<p>These are examples we have covered in this post</p>
<ol>
<li>ansible wait_for the port to open</li>
<li>ansible wait_for the port to close</li>
<li>ansible wait_for the port to drain and close active connections</li>
<li>ansible Wait_for file to be created</li>
<li>ansible Wait_for file to be deleted or lock file to be removed</li>
<li>ansible wait_for seconds or sleep for seconds</li>
<li>ansible Wait_for reboot ( wait_for SSH )</li>
<li>ansible Wait_for the string to be available in the log file</li>
<li>ansible wait_for the process to finish</li>
</ol>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Ansible_wait_for_the_port_to_open">Ansible wait for the port to open</span></h3>
<p>Using ansible wait_for module along with <code>host</code> and <code>port</code>, we can wait a maximum of <code>timeout</code> seconds for the port to be available or not available.</p>
<p>Consider the following task snippet which waits for the port to be available.  Actually, this task is validating if the server has come up and RUNNING by validating that the port is open.</p>
<p><span style="font-size: 14pt;"><strong>The Playbook Snippet</strong></span></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Validating if the WebServer is UP and OPENED the PORT
<span class="hljs-attr" style="color: #f92672;">    tags:</span> amvalidate1
<span class="hljs-attr" style="color: #f92672;">    wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">        host:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{inventory_hostname}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">        port:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{webserver_port}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">        delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">        timeout:</span> <span class="hljs-number" style="color: #ae81ff;">30</span>
<span class="hljs-attr" style="color: #f92672;">        state:</span> started
<span class="hljs-attr" style="color: #f92672;">        msg:</span> <span class="hljs-string" style="color: #e6db74;">"WebServer PORT is not Listening"</span>
<span class="hljs-attr" style="color: #f92672;">    when:</span> ansible_hostname == <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{inventory_hostname}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    register:</span> amvalidate1
<span class="hljs-attr" style="color: #f92672;">    ignore_errors:</span> <span class="hljs-literal" style="color: #ae81ff;">true</span></pre>
<p><span style="font-size: 14pt;"><strong>Explanation:</strong></span></p>
<p><strong>host:</strong> The Hostname<br />
<strong>port:</strong> The port to listen<br />
<strong>delay:</strong> Delay in seconds before starting the validation<br />
<strong>timeout:</strong> timeout after defined seconds.<br />
<strong>state:</strong>  Make sure the Port if OPEN<br />
<strong>msg:</strong> A Custom message to be printed in case of failure after the allocated time(timeout) elapsed.</p>
<p>While the previous snippet was designed to run in the remote node, Here we present another way around to accomplish the same using <code>local_action</code> module.</p>
<p><span style="font-size: 14pt;">Running the same task Local ( An Another Approach)</span></p>
<p><strong><span style="font-size: 14pt;">The Playbook Snippet ( local_action)</span></strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Wait for webserver to start.
<span class="hljs-attr" style="color: #f92672;">  local_action:</span> 
<span class="hljs-attr" style="color: #f92672;">    module:</span> wait_for
<span class="hljs-attr" style="color: #f92672;">    host:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{ inventory_hostname }}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    port:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{ webserver_port }}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">    timeout:</span> <span class="hljs-number" style="color: #ae81ff;">300</span>
<span class="hljs-attr" style="color: #f92672;">    state:</span> started</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="ansible_wait_for_the_port_to_close">ansible wait for the port to close</span></h3>
<p>If you modify the playbook given in Example 1 a little bit. you would be able to achieve the requirement of waiting till the port to close</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Validating if the WebServer port is closed.
<span class="hljs-attr" style="color: #f92672;">    tags:</span> amvalidate1
<span class="hljs-attr" style="color: #f92672;">    wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">        host:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{inventory_hostname}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">        port:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{webserver_port}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">        delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">        timeout:</span> <span class="hljs-number" style="color: #ae81ff;">30</span>
<span class="hljs-attr" style="color: #f92672;">        state:</span> stopped
<span class="hljs-attr" style="color: #f92672;">        msg:</span> <span class="hljs-string" style="color: #e6db74;">"WebServer PORT is not yet stopped"</span>
<span class="hljs-attr" style="color: #f92672;">    when:</span> ansible_hostname == <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{inventory_hostname}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    register:</span> amvalidate1
<span class="hljs-attr" style="color: #f92672;">    ignore_errors:</span> <span class="hljs-literal" style="color: #ae81ff;">true</span></pre>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>&nbsp;</p>
<h3></h3>
<h3><span class="ez-toc-section" id="ansible_wait_for_the_port_to_drain_and_close_active_connections">ansible wait_for the port to drain and close active connections</span></h3>
<p>you can wait_for the port to drain its active connections (or) close its active connections  using the <code>state: drained</code> argument</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Validating if the port is drained 
<span class="hljs-attr" style="color: #f92672;">    tags:</span> portvalidate
<span class="hljs-attr" style="color: #f92672;">    wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">        host:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{inventory_hostname}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">        port:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{webserver_port}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">        delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">        timeout:</span> <span class="hljs-number" style="color: #ae81ff;">30</span>
<span class="hljs-attr" style="color: #f92672;">        state:</span> drained</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="ansible_Wait_for_file_to_be_created">ansible Wait_for file to be created</span></h3>
<p>The following task snippet is to validate if the file is present in other it will validate if the file is created already using <code>state: present</code></p>
<p>If you change the state argument of wait_for to <code>state: absent</code> it will make sure that the file is not present (absent) in other words removed or deleted.</p>
<p><strong><span style="font-size: 14pt;">The Playbook Snippet</span></strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Making sure that the Log file is present in the corresponding directory
<span class="hljs-attr" style="color: #f92672;">  tags:</span> filepresensevalidation
<span class="hljs-attr" style="color: #f92672;">  register:</span> filepresensevalidation
<span class="hljs-attr" style="color: #f92672;">  wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">    path:</span>  <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{logfile}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">    timeout:</span> <span class="hljs-number" style="color: #ae81ff;">30</span>
<span class="hljs-attr" style="color: #f92672;">    state:</span> present
<span class="hljs-attr" style="color: #f92672;">    msg:</span> <span class="hljs-string" style="color: #e6db74;">"Specified LOG FILE is not present"</span>
<span class="hljs-attr" style="color: #f92672;">  when:</span> ansible_hostname == <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{groups['app'][0]}}</span>"</span> and adminlogfile is defined
<span class="hljs-attr" style="color: #f92672;">  ignore_errors:</span> <span class="hljs-literal" style="color: #ae81ff;">true</span></pre>
<p><strong><span style="font-size: 14pt;">Explanation:</span></strong></p>
<p><strong>path:</strong> The fully qualified location of the file we are validating.<br />
<strong>delay:</strong> Delay in seconds before starting the validation<br />
<strong>timeout:</strong> timeout after defined seconds.<br />
<strong>state:</strong>  Make sure the file is available(present)<br />
<strong>msg:</strong> A Custom message to be printed in case of failure. which is when the file is not present.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="ansible_Wait_for_file_to_be_deleted_or_lock_file_to_be_removed">ansible Wait_for file to be deleted or lock file to be removed</span></h3>
<p>we can use wait_for module to wait for the file deletion as well. such as waiting for the lock file to be deleted before starting the instance</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Making sure that the lock file is not present (or) removed
<span class="hljs-attr" style="color: #f92672;">  wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">    path:</span>  <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{lockfile}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">    timeout:</span> <span class="hljs-number" style="color: #ae81ff;">30</span>
<span class="hljs-attr" style="color: #f92672;">    state:</span> absent
<span class="hljs-attr" style="color: #f92672;">    msg:</span> <span class="hljs-string" style="color: #e6db74;">"Specified LOCK FILE is still present"</span></pre>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3><span class="ez-toc-section" id="ansible_wait_for_seconds_or_sleep_for_seconds">ansible wait for seconds or sleep for seconds</span></h3>
<p>wait_for module can also be used to simply make the execution of the play to sleep for certain seconds. in other words, simply pause the playbook execution.</p>
<p>This can be done with simply setting the <code>delay</code> and <code>timeout</code> arguments. Consider the following playbook with the task to sleep for</p>
<p><strong><span style="font-size: 14pt;">The Playbook Snippet</span></strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-meta" style="color: #75715e;">---</span>
<span class="hljs-attr" style="color: #f92672;">  - name:</span> Sleep Playbook
<span class="hljs-attr" style="color: #f92672;">    hosts:</span> app
<span class="hljs-attr" style="color: #f92672;">    gather_facts:</span> <span class="hljs-literal" style="color: #ae81ff;">no</span>
<span class="hljs-attr" style="color: #f92672;">    tasks:</span>
<span class="hljs-attr" style="color: #f92672;">       -  name:</span> Sleep for <span class="hljs-number" style="color: #ae81ff;">60</span> seconds and timeout
<span class="hljs-attr" style="color: #f92672;">          tags:</span> sleep60
<span class="hljs-attr" style="color: #f92672;">          wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">            delay:</span> <span class="hljs-number" style="color: #ae81ff;">60</span>
<span class="hljs-attr" style="color: #f92672;">            timeout:</span> <span class="hljs-number" style="color: #ae81ff;">0</span></pre>
<p><strong><span style="font-size: 14pt;">Explanation:</span></strong></p>
<p><strong>delay:</strong> Delay in seconds before starting the validation (or) processing<br />
<strong>timeout:</strong> timeout after defined seconds.</p>
<p>Here no validation is being performed like file presence or port status. The task is just to pause the execution for 60 seconds just like <strong>sleep</strong> statement  in any programming language</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2></h2>
<h3></h3>
<h3><span class="ez-toc-section" id="ansible_Wait_for_reboot_wait_for_SSH">ansible Wait_for reboot ( wait_for SSH )</span></h3>
<p>There are cases where we want our remote nodes to be rebooted or restarted. For example, Take the Patching as an example. As part of quarterly patching, we upgrade the installed software and packages and do various other stuff along with a final reboot to make the changes effective.</p>
<p>When we reboot the box. you might get your ansible play failed with the error <strong>&#8220;Shared connection closed&#8221;</strong></p>
<p>But this can be avoided and you can reboot the box and wait for the server to come back up and execute the post-reboot validations or checks.</p>
<p>There are many methods to accomplish this</p>
<blockquote><p><strong>For Ansible 2.7 and more</strong> &#8211; There is a dedicated <strong><span style="color: #1092c2;">reboot</span></strong> module<br />
<strong>For previous versions</strong> &#8211;  Either use ansible <span style="color: #1092c2;"><strong>wait_for</strong></span> or ansible <span style="color: #1092c2;"><strong>wait_for_connection </strong></span></p></blockquote>
<p>Since this post is about ansible wait_for module. Let us go with the same option. Consider the following playbook I have created for linux patching. It performs <code>yum update</code> and <code>reboot</code> the box and print the <code>uptime</code></p>
<p><strong><span style="font-size: 14pt;">The Playbook</span></strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-meta" style="color: #75715e;">---</span>
<span class="hljs-attr" style="color: #f92672;">  - name:</span> Patch the server and Reboot
<span class="hljs-attr" style="color: #f92672;">    hosts:</span> app
<span class="hljs-attr" style="color: #f92672;">    gather_facts:</span> <span class="hljs-literal" style="color: #ae81ff;">no</span>
<span class="hljs-attr" style="color: #f92672;">    tasks:</span>
<span class="hljs-attr" style="color: #f92672;">      - name:</span> Patch the server
<span class="hljs-attr" style="color: #f92672;">        become:</span> <span class="hljs-literal" style="color: #ae81ff;">yes</span>
<span class="hljs-attr" style="color: #f92672;">        become_user:</span> root
<span class="hljs-attr" style="color: #f92672;">        tags:</span> Patch
<span class="hljs-attr" style="color: #f92672;">        shell:</span> <span class="hljs-string" style="color: #e6db74;">"yum -y update"</span>
<span class="hljs-attr" style="color: #f92672;">        register:</span> patchresult

<span class="hljs-attr" style="color: #f92672;">      - name:</span> Reboot the server
<span class="hljs-attr" style="color: #f92672;">        tags:</span> reboot
<span class="hljs-attr" style="color: #f92672;">        become:</span> <span class="hljs-literal" style="color: #ae81ff;">yes</span>
<span class="hljs-attr" style="color: #f92672;">        become_user:</span> root
<span class="hljs-attr" style="color: #f92672;">        shell:</span> <span class="hljs-string" style="color: #e6db74;">"sleep 5 &amp; reboot"</span>
        <span class="hljs-attr" style="color: #f92672;">async:</span><span class="hljs-comment" style="color: #75715e;"> 1</span>
<span class="hljs-attr" style="color: #f92672;">        poll:</span> <span class="hljs-number" style="color: #ae81ff;">0</span>
    
<span class="hljs-attr" style="color: #f92672;">      - name:</span> Wait for the reboot and reconnect 
<span class="hljs-attr" style="color: #f92672;">        wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">          port:</span> <span class="hljs-number" style="color: #ae81ff;">22</span>
<span class="hljs-attr" style="color: #f92672;">          host:</span> <span class="hljs-string" style="color: #e6db74;">'<span class="hljs-template-variable" style="color: #e6db74;">{{ (ansible_ssh_host|default(ansible_host))|default(inventory_hostname) }}</span>'</span>
<span class="hljs-attr" style="color: #f92672;">          search_regex:</span> OpenSSH
<span class="hljs-attr" style="color: #f92672;">          delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">          timeout:</span> <span class="hljs-number" style="color: #ae81ff;">60</span>
<span class="hljs-attr" style="color: #f92672;">        connection:</span> local

<span class="hljs-attr" style="color: #f92672;">      - name:</span> Check the Uptime of the servers
<span class="hljs-attr" style="color: #f92672;">        shell:</span> <span class="hljs-string" style="color: #e6db74;">"uptime"</span>
<span class="hljs-attr" style="color: #f92672;">        register:</span> Uptime

<span class="hljs-attr" style="color: #f92672;">      - debug:</span> var=Uptime</pre>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt;">Explanation</span></strong></p>
<p>In the preceding playbook, we have four tasks.</p>
<p><span style="color: #db0d6a; font-size: 14pt;">The first task</span> is running a single command <span style="color: #09478f;">&#8220;yum -y update&#8221;</span> over the shell module, which is responsible for updating the packages and software in the boxes.</p>
<p><span style="font-size: 14pt; color: #db0d6a;">The Second task </span>is to reboot the server. we execute the <span style="color: #09478f;">reboot</span> command over shell module. The task contains two important arguments which are <em>async</em> and <em>poll</em></p>
<p><strong>async:  </strong>By default, the tasks in playbook block the execution till it gets completed.  If you mention async in the task. It will be run asynchronously, in other words, it runs detached and in the background.  ansible master keeps track of this task by using the <em>poll </em>interval.  <em>it accepts the time in seconds it should keep the connection open before times out</em><br />
<strong>poll: </strong>Time in seconds, at what interval the ansible master should poll the Job/task to know whether it is completed.</p>
<blockquote><p>when the poll is set to 0 seconds, Ansible will <strong>fire the task and forget it. </strong>which is used specifically in here so that despite the remote servers shutdown the playbook will still be on</p></blockquote>
<p><span style="color: #db0d6a; font-size: 14pt;">The Third task</span> is <span style="color: #09478f;">wait_for</span>. which is our primary focus so let me explain all the arguments of this task</p>
<p><strong>port:  </strong>we are waiting for the port 22 (SSH Default port) to be open<br />
<strong>host:  </strong>we are using the ansible built-in variables here <code>inventory_hostname</code> or <code>ansible_host</code> which will represent the current host from of the host group defined in the playbook (app)<br />
<strong>search_regex:  </strong>we are looking for a word <code><span style="color: #09478f;">OpenSSH</span></code> once the Port is open.<br />
<strong>delay:</strong> Delay in seconds before starting the validation<br />
<strong>timeout:</strong> timeout the execution after defined seconds.<br />
<strong>connection: </strong> Execute the connection from local (master)</p>
<blockquote><p>When the connection is set to local. The Master will try to connect to the remote boxes from the master. It is more like executing  <span style="color: #09478f;"><code>nc</code></span> or <span style="color: #09478f;"><code>telnet</code></span> command to make sure the port is open</p></blockquote>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3><span class="ez-toc-section" id="ansible_Wait_for_the_string_to_be_available_in_the_log_file">ansible Wait_for the string to be available in the log file</span></h3>
<p>Log files are the Swiss Army Knife of every IT analyst. We rely on the logs for various things in our day to day life. Let it be for troubleshooting or for quick validation like making sure the server is UP and RUNNING.</p>
<p>Let us take some real-time examples, The task snippet given below is created to validate if the Weblogic AdminServer is successfully started.</p>
<p>Weblogic will write clear information in the log file similar to what is given below.</p>
<pre class="p1"><code></code></pre>
<p><em><span class="s1">&lt;Dec 28, 2018 3:23:07,661 PM IST&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;Saravanans-MacBook-Air.local&gt; &lt;AdminServer&gt; &lt;[STANDBY] ExecuteThread: &#8216;2&#8217; for queue: &#8216;weblogic.kernel.Default (self-tuning)&#8217;&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;d5ba0f5f-250c-4991-aa59-e6d3f3cb0ec7-0000001a&gt; &lt;1545990787661&gt; &lt;[severity-value: 32] [rid: 0] [partition-id: 0] [partition-name: DOMAIN] &gt; &lt;BEA-000360&gt; &lt;The server started in RUNNING mode.&gt;</span></em></p>
<pre class="p1"><code></code></pre>
<p>So here our search string is <span style="color: #075173;"><code><code></code></code><em><span class="s1">The server started in RUNNING mode</span></em></span></p>
<p><strong><span style="font-size: 14pt;">The Playbook Snippet</span></strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Validating if the AdminServer state is RUNNING
<span class="hljs-attr" style="color: #f92672;">  tags:</span> validatestart
<span class="hljs-attr" style="color: #f92672;">  wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">    path:</span> <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{serverlogfile}}</span>"</span>
<span class="hljs-attr" style="color: #f92672;">    search_regex:</span> <span class="hljs-string" style="color: #e6db74;">"The server started in RUNNING mode"</span>
<span class="hljs-attr" style="color: #f92672;">    delay:</span> <span class="hljs-number" style="color: #ae81ff;">10</span>
<span class="hljs-attr" style="color: #f92672;">    timeout:</span> <span class="hljs-number" style="color: #ae81ff;">60</span>
<span class="hljs-attr" style="color: #f92672;">    msg:</span> <span class="hljs-string" style="color: #e6db74;">"Not able to find the String RUNNING in the Logfile"</span>
<span class="hljs-attr" style="color: #f92672;">  when:</span> ansible_hostname == <span class="hljs-string" style="color: #e6db74;">"<span class="hljs-template-variable" style="color: #e6db74;">{{groups['app'][0]}}</span>"</span> and serverlogfile is defined
<span class="hljs-attr" style="color: #f92672;">  register:</span> validatestart
</pre>
<p><strong><span style="font-size: 14pt;">Explanation</span></strong></p>
<p><strong>path:  </strong>Fully Qualified log file name including the path<br />
<strong>search_regex</strong>: The Search String we are going look for in the log file, Also support regular expressions<br />
<strong>delay</strong>:  Start the task after a defined second of initial delay<br />
<strong>timeout</strong>: When to stop and time out the task, in seconds<br />
<strong>msg</strong>: Custom message in case of failure</p>
<p>in the when conditional statement, you can also see that we have pre-validation to make sure that the <code>serverlogfile</code> variable is defined</p>
<p>this example can also be interpreted for ansible wait_for service to start. you can use ansible wait_for till the service is starting. Here we have taken weblogic application server. you can choose any other and apply the same example. Hope it helps.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="ansible_wait_for_some_process_to_finish">ansible wait_for some process to finish</span></h3>
<p>In Linux based Operating System, if you want to wait for the process to finish. The best approach to get that done is using the PID and the proc file.</p>
<p>Whenever the process is started in the Linux based os, there will be a PID assigned to it and the pid will have a reference in the /proc directory of linux. in other words, there will be a new file created in the /proc directory with the pid.</p>
<p>All you have to do is wait for that file to be removed. When the file is removed you can consider the process is died or finished.</p>
<p>let us say our process has the PID 8798 and here is the playbook snippet you could use to wait for it to get completed (or) finish.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #23241f; color: #f8f8f2;"><span class="hljs-attr" style="color: #f92672;">- name:</span> Wait until the process is finished and pid was destroyed
<span class="hljs-attr" style="color: #f92672;">  wait_for:</span>
<span class="hljs-attr" style="color: #f92672;">    path:</span> /proc/<span class="hljs-number" style="color: #ae81ff;">8798</span>/status
<span class="hljs-attr" style="color: #f92672;">    state:</span> absent</pre>
<p>&nbsp;</p>
<p>Further References:  <a href="https://docs.ansible.com/ansible/2.5/modules/wait_for_module.html">Ansible Wait_for module</a> &#8211; Ansible documentation</p>
<p>Rate this article [ratings]</p>
<p>&nbsp;</p>
<p>Thanks,<br />
SaravAK</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#6e060b0202012e091c071a0817400d0103"> <span class="__cf_email__" data-cfemail="234b464f4f4c6344514a57455a0d404c4e">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657191701" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="2346" />
<input type="hidden" name="es_email_page_url" value="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="915ddf1a10" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657191701" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657191701"></span>
</div>
</div>
<hr>
<p>&nbsp;</p>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible_wait_for_reboot_to_complete/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="ansible wait for reboot" data-src="../../wp-content/uploads/2019/01/Screen-Shot-2019-01-02-at-3.29.36-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/01/Screen-Shot-2019-01-02-at-3.29.36-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="ansible wait for reboot" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible_wait_for_reboot_to_complete/index.html'>Ansible Reboot system and wait_for reboot to complete</a><p>The Objective The purpose of this post is to explain with an example of how ansible initiate the reboot and wait for the reboot to complete There are cases where we want our remote nodes to be rebooted or restarted. For example, Take the Patching as an example. As part&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-search-string-file-check-if-string-exists/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2019/01/file_search-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/01/file_search-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-search-string-file-check-if-string-exists/index.html'>ansible search for string in file or check if string exists in file</a><p>The Objective of this post is to show how to search for a string in a file with ansible. ansible provides various ways to accomplish the same.&nbsp; We will cover,&nbsp; three major ways to search for a string in a file. Lineinfile module Using the Shell module and grep command&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-when-variable-is-defined-or-undefined-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2018/12/Screen-Shot-2018-12-01-at-7.06.23-AM-150x150.png.html" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2018/12/Screen-Shot-2018-12-01-at-7.06.23-AM-150x150.png.html" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-when-variable-is-defined-or-undefined-examples/index.html'>Ansible When Variable is defined or undefined Examples</a><p>The Purpose The purpose of this post is to give you a real-time example and explanation of how ansible variable is defined and not defined (undefined) conditionals are working along with "when"&nbsp;conditional statement and how it controls the flow of the task and the play. The following ansible playbook is&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-command-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Command" data-src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Command" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-command-examples/index.html'>Ansible Command Module Examples</a><p>Ansible Command Module Introduction Ansible Command module is used to execute commands on a remote node. The Command module, is used mostly to run simple Linux commands on a remote node/server which is part of a host group or Stand alone server mentioned in the host group. If you want&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-replace-line-in-file-ansible-replace-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible replace examples" data-src="../../wp-content/uploads/2019/02/Screen-Shot-2019-02-07-at-3.21.33-PM-1-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/02/Screen-Shot-2019-02-07-at-3.21.33-PM-1-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible replace examples" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-replace-line-in-file-ansible-replace-examples/index.html'>Ansible replace line in file - Ansible Replace Examples | Devops Junction</a><p>This article is about "how to replace a line in file using ansible and seeing various other examples of ansible replace module".&nbsp; Ansible facilitates us with a dedicated module named as replace&nbsp;The working principle of this module is more like find and replace&nbsp;in your favourite editor and it also supports&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../upgrade-jdbc-driver-in-weblogic-12c-or-11g/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>JDBC Driver Upgrade in weblogic 12c (or) 11g</a></div><div class="nav-next"><a href="../ansible_wait_for_reboot_to_complete/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>Ansible Reboot system and wait_for reboot to complete</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>

<ins class="adsbygoogle" style="display:inline-block;width:270px;height:400px" data-ad-client="ca-pub-3398911159151128" data-ad-slot="5950599981"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="search-3" class="widget widget_search clearfix">
<form role="search" method="get" class="search-form" action="../../index.html">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:" />
</label>
<button type="submit" class="search-submit">
<span class="genericon-search"></span>
<span class="screen-reader-text">Search</span>
</button>
</form>
</aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 100%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 100%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-2346 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=Ansible+wait_for+module+examples+%E2%80%93+How+to+%7C+Devops+Junction&url=https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=Ansible+wait_for+module+examples+%E2%80%93+How+to+%7C+Devops+Junction&body=https://www.middlewareinventory.com/blog/ansible-wait_for-examples/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://web.whatsapp.com/send?text=https://www.middlewareinventory.com/blog/ansible-wait_for-examples/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"2346 http:\/\/www.middlewareinventory.com\/?p=2346","disqusShortname":"mwinventory","disqusTitle":"Ansible wait_for module examples \u2013 How to | Devops Junction","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/ansible-wait_for-examples\/","postId":"2346"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"2019084a26"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"b4d440853b","post_id":"2346"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"0b980bed5f","ip":"77.243.181.169","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://www.middlewareinventory.com/blog/ansible-wait_for-examples/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
<script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657191701;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="#" id="cn-refuse-cookie" data-cookie-set="refuse" class="cn-set-cookie cn-button bootstrap button">No</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
<div class="cookie-notice-revoke-container"><a href="#" class="cn-revoke-cookie cn-button bootstrap button">Revoke cookies</a></div>
</div>
</body>
</html>
