<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">


<title>Ansible read JSON file - JSON file Parsing | DevOps Junction</title>
<meta name="description" content="Ansible JSON file, Ansible read JSON file and parse the JSON Data with Ansible. Parsing JSON with ansible example. Ansible JSON_query and Ansible JSON example. In this article we are covering in detail how to read JSON data into Ansible playbook and use it as a variable and facts and Store it as runtime Ansible facts" />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Ansible read JSON file - JSON file Parsing | DevOps Junction" />
<meta property="og:description" content="Ansible JSON file, Ansible read JSON file and parse the JSON Data with Ansible. Parsing JSON with ansible example. Ansible JSON_query and Ansible JSON example. In this article we are covering in detail how to read JSON data into Ansible playbook and use it as a variable and facts and Store it as runtime Ansible facts" />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="https://www.facebook.com/rumenlishkov" />
<meta property="article:published_time" content="2020-03-02T13:23:25+00:00" />
<meta property="article:modified_time" content="2022-06-19T05:52:22+00:00" />
<meta property="og:image" content="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png" />
<meta property="og:image:width" content="1778" />
<meta property="og:image:height" content="1088" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://airdata.gitlab.io/blog/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["https://www.facebook.com/rumenlishkov","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/#logo","inLanguage":"en-US","url":"https://airdata.gitlab.io/blog/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://airdata.gitlab.io/blog/#logo"}},{"@type":"WebSite","@id":"https://airdata.gitlab.io/blog/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://airdata.gitlab.io/blog/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#primaryimage","inLanguage":"en-US","url":"../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png","width":1778,"height":1088},{"@type":"WebPage","@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#webpage","url":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/","name":"Ansible read JSON file - JSON file Parsing | DevOps Junction","isPartOf":{"@id":"https://airdata.gitlab.io/blog/#website"},"primaryImageOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#primaryimage"},"datePublished":"2020-03-02T13:23:25+00:00","dateModified":"2022-06-19T05:52:22+00:00","description":"Ansible JSON file, Ansible read JSON file and parse the JSON Data with Ansible. Parsing JSON with ansible example. Ansible JSON_query and Ansible JSON example. In this article we are covering in detail how to read JSON data into Ansible playbook and use it as a variable and facts and Store it as runtime Ansible facts","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/"]}]},{"@type":"Article","@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#article","isPartOf":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#webpage"},"author":{"@id":"https://airdata.gitlab.io/blog/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"Ansible read JSON file &#8211; JSON file Parsing","datePublished":"2020-03-02T13:23:25+00:00","dateModified":"2022-06-19T05:52:22+00:00","mainEntityOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#webpage"},"commentCount":0,"publisher":{"@id":"https://airdata.gitlab.io/blog/#organization"},"image":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#primaryimage"},"articleSection":"Ansible","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/#respond"]}]},{"@type":"Person","@id":"https://airdata.gitlab.io/blog/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Ansible read JSON file  &#8211; JSON file Parsing Comments Feed" href="feed/index.rss" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GMY2GVPFFX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GMY2GVPFFX');
</script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"3d8661396b"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://airdata.gitlab.io/blog/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/5219.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-playbook-read-json-file-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-playbook-read-json-file-&amp;format=xml.xml" />
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="Ansible read JSON file  &#8211; JSON file Parsing - Middleware Inventory" />
<meta property="og:description" content="In this article, we are going to see how to read the JSON file in ansible-playbook

JSON is the most famous data representation it is widely used to store and transmit data. When you are working in Ansible automation, you might get a requirement to work with JSON files and read JSON files into Ansible playbook and process the data and" />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="In this article, we are going to see how to read the JSON file in ansible-playbook

JSON is the most famous data representation it is widely used to store and transmit data. When you are working in Ansible automation, you might get a requirement to work with JSON files and read JSON files into Ansible playbook and process the data and" />
<meta name="twitter:title" content="Ansible read JSON file  &#8211; JSON file Parsing - Middleware Inventory" />
<meta property="twitter:image" content="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://airdata.gitlab.io/blog/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 22px;
}
li {
    padding: 2px;
    margin-left: 2%;
}
article h2
{
    background-color: #29558c;
    color: white;
    padding-left: 1%;
    border-left: 15px solid crimson;
    font-weight: 400;
    font-size: 22px;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-5219 single-format-standard wp-custom-logo cookies-not-set elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="160" height="120" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="160" height="120" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>

<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-5219" class="post-5219 post type-post status-publish format-standard has-post-thumbnail hentry category-ansible wpautop">
<header class="entry-header">
<h1 class="entry-title">Ansible read JSON file &#8211; JSON file Parsing</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="6:53 pm" rel="bookmark"><time class="entry-date published updated" datetime="June 19, 2022">June 19, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=Ansible%20read%20JSON%20file%20%20%E2%80%93%20JSON%20file%20Parsing&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-playbook-read-json-file%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="5219" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=Ansible+read+JSON+file++%E2%80%93+JSON+file+Parsing&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-playbook-read-json-file%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="5219" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=Ansible%20read%20JSON%20file%20%20%E2%80%93%20JSON%20file%20Parsing&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-playbook-read-json-file%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="5219" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-playbook-read-json-file%2F&subject=Ansible%20read%20JSON%20file%20%20%E2%80%93%20JSON%20file%20Parsing" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="5219" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="5219" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<p>In this article, we are going to see how to read the JSON file in ansible-playbook</p>
<p>JSON is the most famous data representation it is widely used to store and transmit data. When you are working in Ansible automation, you might get a requirement to work with JSON files and read JSON files into Ansible playbook and process the data and store the data as a variables.</p>
<p>In general, JSON data can be processed easily with <code>json_query</code> module of ansible and you can read more about it <a href="../ansible_json_query/index.html">in our previous article</a></p>
<p>Our primary objective of this article is to talk about how to process the JSON FILE and read the JSON file into ansible playbook and process it.</p>
<p>in the <a href="../ansible_json_query/index.html">previous</a> article, we have talked about how to directly <strong>use the JSON output of a website or URL</strong> and use it for further processing. but now we are going to use the file as our source of data in this article.</p>
<p><a href="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png"><img class="alignnone size-full wp-image-6249 lazyload" src="../../wp-content/ewww/lazy/placeholder-1778x1088.png" alt="" width="1778" height="1088" data-src="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png 1778w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-300x184.png 300w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-1024x627.png 1024w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-768x470.png 768w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-1536x940.png 1536w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-6249" src="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png" alt="" width="1778" height="1088" srcset="../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM.png 1778w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-300x184.png 300w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-1024x627.png 1024w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-768x470.png 768w, ../../wp-content/uploads/2020/03/Screenshot-2020-10-19-at-1.17.22-AM-1536x940.png 1536w" sizes="(max-width: 1778px) 100vw, 1778px" data-eio="l" /></noscript></a></p>
<p>we are going to take some sample JSON file which contains elements and sub elements in both array and single line formats, to understand this better.</p>
<p>&nbsp;</p>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Sample_JSON_file_for_our_testing" title="Sample JSON file for our testing">Sample JSON file for our testing</a></li><li><a href="#How_to_read_JSON_file_into_ansible_playbook" title="How to read JSON file into ansible playbook">How to read JSON file into ansible playbook</a></li><li><a href="#How_to_use_the_JSON_data_in_your_playbook_as_a_variable" title="How to use the JSON data in your playbook as a variable">How to use the JSON data in your playbook as a variable</a><ul><li><a href="#Execution_result_of_this_playbook" title="Execution result of this playbook">Execution result of this playbook</a></li></ul></li><li><a href="#Complex_JSON_JMES_Queries_and_Ansible_Playbook" title="Complex JSON JMES Queries and Ansible Playbook">Complex JSON JMES Queries and Ansible Playbook</a></li><li><a href="#Conclusion" title="Conclusion">Conclusion</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Sample_JSON_file_for_our_testing">Sample JSON file for our testing</span></h2>
<p>This is the JSON file we are going to be using this article. the file name is <code>config.json</code> it was ideally designed for weblogic ansible installation setup but this can serve as a viable example in here.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;">{
    <span class="hljs-attr">"domain"</span>:{
           <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"mwidomain"</span>,
           <span class="hljs-attr">"prod_mode"</span>: <span class="hljs-string" style="color: #dd1144;">"prod"</span>,
           <span class="hljs-attr">"user"</span>: <span class="hljs-string" style="color: #dd1144;">"weblogic"</span>,
           <span class="hljs-attr">"password"</span>: <span class="hljs-string" style="color: #dd1144;">"weblogic1"</span>,

           <span class="hljs-attr">"admin"</span>: {
            <span class="hljs-attr">"servername"</span>: <span class="hljs-string" style="color: #dd1144;">"AdminServer"</span>,
            <span class="hljs-attr">"listenport"</span>: <span class="hljs-string" style="color: #dd1144;">"8001"</span>
            },

            <span class="hljs-attr">"machines"</span>: [
                {
                    <span class="hljs-attr">"refname"</span>: <span class="hljs-string" style="color: #dd1144;">"Machine1"</span>,
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"MWINODE01"</span>
                },
                {
                    <span class="hljs-attr">"refname"</span>: <span class="hljs-string" style="color: #dd1144;">"Machine2"</span>,
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"MWINODE02"</span>
                }
            ],

            <span class="hljs-attr">"clusters"</span>: [
                {
                    <span class="hljs-attr">"refname"</span>: <span class="hljs-string" style="color: #dd1144;">"Cluster1"</span>,
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"App1Cluster"</span>,
                    <span class="hljs-attr">"machine"</span>: <span class="hljs-string" style="color: #dd1144;">"Box1"</span>
                },
                {
                    <span class="hljs-attr">"refname"</span>: <span class="hljs-string" style="color: #dd1144;">"Cluster2"</span>,
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"App2Cluster"</span>,
                    <span class="hljs-attr">"machine"</span>: <span class="hljs-string" style="color: #dd1144;">"Box2"</span>
                }
            ],
            <span class="hljs-attr">"servers"</span>: [
                {
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"ms1"</span>,
                    <span class="hljs-attr">"port"</span>: <span class="hljs-number" style="color: teal;">9001</span>,
                    <span class="hljs-attr">"machine"</span>: <span class="hljs-string" style="color: #dd1144;">"Box1"</span>,
                    <span class="hljs-attr">"clusterrefname"</span>: <span class="hljs-string" style="color: #dd1144;">"Cluster1"</span>
                },
                {
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"ms2"</span>,
                    <span class="hljs-attr">"port"</span>: <span class="hljs-number" style="color: teal;">9002</span>,
                    <span class="hljs-attr">"machine"</span>: <span class="hljs-string" style="color: #dd1144;">"Box2"</span>,
                    <span class="hljs-attr">"clusterrefname"</span>: <span class="hljs-string" style="color: #dd1144;">"Cluster2"</span>
                },
                {
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"ms3"</span>,
                    <span class="hljs-attr">"port"</span>: <span class="hljs-number" style="color: teal;">9003</span>,
                    <span class="hljs-attr">"machine"</span>: <span class="hljs-string" style="color: #dd1144;">"Box1"</span>,
                    <span class="hljs-attr">"clusterrefname"</span>: <span class="hljs-string" style="color: #dd1144;">"Cluster1"</span>
                },
                {
                    <span class="hljs-attr">"name"</span>: <span class="hljs-string" style="color: #dd1144;">"ms4"</span>,
                    <span class="hljs-attr">"port"</span>: <span class="hljs-number" style="color: teal;">9004</span>,
                    <span class="hljs-attr">"machine"</span>: <span class="hljs-string" style="color: #dd1144;">"Box2"</span>,
                    <span class="hljs-attr">"clusterrefname"</span>: <span class="hljs-string" style="color: #dd1144;">"Cluster2"</span>
                }
            ]

    }
}</pre>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="How_to_read_JSON_file_into_ansible_playbook">How to read JSON file into ansible playbook</span></h2>
<p>To read JSON file into the ansible playbook, ansible has given us a filter named <code>from_json</code></p>
<p>but, of course, we need to use it along with few more commands and module like shell to read the json file.</p>
<p>here is the quick ansible playbook example that reads JSON file</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;">  - name:</span> ReadJsonfile
<span class="hljs-attr" style="color: #6d9cbe;">    hosts:</span> localhost
<span class="hljs-attr" style="color: #6d9cbe;">    tasks:</span>
<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Display the JSON file content
<span class="hljs-attr" style="color: #6d9cbe;">        shell:</span> cat config.json
<span class="hljs-attr" style="color: #6d9cbe;">        register:</span> result

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> save the Json data to a Variable as a Fact
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jsondata:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ result.stdout | from_json }}</span>"</span></pre>
<p>Let us see how this playbook works.</p>
<p>&nbsp;</p>
<ul>
<li><strong>The First task</strong> or play is to display the json file using the normal Shell command <code>cat</code> at this same tasks we are saving this output into a ansible register variable named <code>result</code></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><strong>The Second task</strong> or play is to read the register variable of the previous task named <code>result</code> and convert that into a proper <code>json</code> data, this is done using <code>from_json</code> filter  and then we store it into a new ansible fact variable named <code>jsondata</code></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>Now we have our JSON file content stored in <code>jsondata</code> variable after being formatted as proper JSON, which can be easily parsed now using ansible json query module.</li>
</ul>
<p>&nbsp;</p>
<p>As simple as that we have now learnt how to read JSON data into ansible playbook using <code>from_json</code> and shell module.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="How_to_use_the_JSON_data_in_your_playbook_as_a_variable">How to use the JSON data in your playbook as a variable</span></h2>
<p>So now we have processed the JSON file and imported it into our playbook but here comes the next part of the equation. So how are we going to use this JSON data in our playbook or store it as a variable?</p>
<p>Refer the following ansible playbook, A continuation of our previous read json playbook, in this ansible playbook we are taking out the necessary elements/keys and using in our playbook by setting it as ansible fact.</p>
<p>once the values are stored as ansible fact. it can be referred from anywhere in the playbook or ansible role using jinja 2 syntax <code>{{ }}</code></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;">  - name:</span> ReadJsonfile
<span class="hljs-attr" style="color: #6d9cbe;">    hosts:</span> localhost
<span class="hljs-attr" style="color: #6d9cbe;">    tasks:</span>
<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Display the JSON file content
<span class="hljs-attr" style="color: #6d9cbe;">        shell:</span> cat config.json
<span class="hljs-attr" style="color: #6d9cbe;">        register:</span> result

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> save the Json data to a Variable as a Fact
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jsondata:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ result.stdout | from_json }}</span>"</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> setDomainName
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          domain_name:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ jsondata | json_query(jmesquery) }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        vars:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jmesquery:</span> <span class="hljs-string" style="color: #a5c261;">'domain.name'</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> setDomainUsername
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          domain_username:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ jsondata | json_query(jmesquery) }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        vars:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jmesquery:</span> <span class="hljs-string" style="color: #a5c261;">'domain.user'</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> setDomainPassword
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          domain_password:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ jsondata | json_query(jmesquery) }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        vars:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jmesquery:</span> <span class="hljs-string" style="color: #a5c261;">'domain.password'</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> setadmin_Listenport
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          admin_ListenPort:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ jsondata | json_query(jmesquery) }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        vars:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jmesquery:</span> <span class="hljs-string" style="color: #a5c261;">'domain.admin.listenport'</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Debug the values
<span class="hljs-attr" style="color: #6d9cbe;">        debug:</span> msg=<span class="hljs-string" style="color: #a5c261;">" Admin Listen Port =&gt; <span class="hljs-template-variable" style="color: #a5c261;">{{ admin_ListenPort }}</span>, DomainName =&gt; <span class="hljs-template-variable" style="color: #a5c261;">{{ domain_name }}</span>, DomainUserName =&gt; <span class="hljs-template-variable" style="color: #a5c261;">{{ domain_username }}</span> , Domain Password =&gt; <span class="hljs-template-variable" style="color: #a5c261;">{{ domain_password }}</span>"</span></pre>
<p>&nbsp;</p>
<p>Explanation of this playbook.</p>
<ul>
<li>Other than the previously explained two tasks/plays of <code>shell</code> and <code>from_json</code>  we have more tasks added with <code>set_fact</code> in this playbook</li>
</ul>
<p>&nbsp;</p>
<ul>
<li><code>set_fact</code> is used to create a new ansible variable at a run time of the playbook. we can also call it as run time variables or dynamic variables.</li>
</ul>
<p>&nbsp;</p>
<ul>
<li>To filter out the required key or element from an otherwise big JSON data set. we are here using ansible  <code>jmes_query</code> which has been covered in detail <a href="../ansible_json_query/index.html">here</a></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>vars is used to set a limited variable for every task/play.  it was primarily used to create a variable named <code>jmesquery</code> which contains the actual <a href="http://jmespath.org/examples.html">jmesquery</a></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>The Last play or task in this playbook is to display the created facts/variables using set_fact.</li>
</ul>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Execution_result_of_this_playbook">Execution result of this playbook</span></h3>
<p>Here is the output of the playbook.</p>
<p><script id="asciicast-sruG2Ypw789KKLG98VarkOLeQ" src="https://asciinema.org/a/sruG2Ypw789KKLG98VarkOLeQ.js" async></script></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Complex_JSON_JMES_Queries_and_Ansible_Playbook">Complex JSON JMES Queries and Ansible Playbook</span></h2>
<p>Sometimes we would want to create a list from the JSON data like a Dictionary or array. Or let&#8217;s say we want to find all the server names and their ports from the JSON we have taken for example.</p>
<p>here is the playbook that creates a dictionary of data by processing the JSON file.</p>
<p>It simply creates a list or dictionary of servers and their port numbers.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;">  - name:</span> ReadJsonfile
<span class="hljs-attr" style="color: #6d9cbe;">    hosts:</span> localhost
<span class="hljs-attr" style="color: #6d9cbe;">    tasks:</span>
<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Display the JSON file content
<span class="hljs-attr" style="color: #6d9cbe;">        shell:</span> cat config.json
<span class="hljs-attr" style="color: #6d9cbe;">        register:</span> result
      
<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> save the Json data to a Variable as a Fact
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">          jsondata:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ result.stdout | from_json }}</span>"</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Server Names
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>  
<span class="hljs-attr" style="color: #6d9cbe;">          servernames:</span>  <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ jsondata | json_query(jmesquery) }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        vars:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jmesquery:</span> <span class="hljs-string" style="color: #a5c261;">'*.servers[*].name'</span>
      
<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Server Names and Ports
<span class="hljs-attr" style="color: #6d9cbe;">        set_fact:</span>  
<span class="hljs-attr" style="color: #6d9cbe;">          serverinfo:</span>  <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ jsondata | json_query(jmesquery) }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        vars:</span>
<span class="hljs-attr" style="color: #6d9cbe;">          jmesquery:</span> <span class="hljs-string" style="color: #a5c261;">'*.servers[*].[name, port]'</span>
      
<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Print all server names
<span class="hljs-attr" style="color: #6d9cbe;">        debug:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">          msg:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ item}}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        with_items:</span> 
<span class="hljs-bullet" style="color: #6d9cbe;">          -</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ servernames }}</span>"</span>

<span class="hljs-attr" style="color: #6d9cbe;">      - name:</span> Print all server names
<span class="hljs-attr" style="color: #6d9cbe;">        debug:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">          msg:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ item }}</span>"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        with_items:</span> 
<span class="hljs-bullet" style="color: #6d9cbe;">        -</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{ serverinfo }}</span>"</span>
</pre>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><strong>Explanation</strong></p>
<ul>
<li>With the help of <code>jmespath</code> queries, we are filtering out the Server names and Server Names with Port number like the same way we did in the previous playbook examples.</li>
<li>Now we are printing all the server names using the loop iteration <code>with_items</code></li>
</ul>
<p>&nbsp;</p>
<p><strong>Result of the playbook</strong></p>
<p><strong><br />
<a href="../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM.png"><img class="alignnone size-full wp-image-5225 lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x1367.png" alt="Ansible JSON" width="2930" height="2086" data-src="../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM.png 2930w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-300x214.png 300w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-768x547.png 768w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-1024x729.png 1024w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-90x65.png 90w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5225" src="../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM.png" alt="Ansible JSON" width="2930" height="2086" srcset="../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM.png 2930w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-300x214.png 300w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-768x547.png 768w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-1024x729.png 1024w, ../../wp-content/uploads/2020/03/Screenshot-2020-03-02-at-4.39.57-PM-90x65.png 90w" sizes="(max-width: 2930px) 100vw, 2930px" data-eio="l" /></noscript></a><br />
</strong></p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Conclusion">Conclusion</span></h2>
<p>I hope this article was helpful to understand how to read and process JSON file with Ansible. Feel free to ask in comments if you have any questions.</p>
<p>Cheers<br />
Sarav</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#1f777a7373705f786d766b7966317c7072"> <span class="__cf_email__" data-cfemail="c3aba6afafac83a4b1aab7a5baeda0acae">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657192662" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="5219" />
<input type="hidden" name="es_email_page_url" value="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="915ddf1a10" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657192662" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657192662"></span>
</div>
</div>
<hr>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible_json_query/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="ansible json_query" data-src="../../wp-content/uploads/2019/12/Screenshot-2019-12-13-at-5.15.00-PM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/12/Screenshot-2019-12-13-at-5.15.00-PM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="ansible json_query" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible_json_query/index.html'>Ansible JSON - Parse JSON using Ansible json_query</a><p>Ansible json_query is an on-demand feature that every ansible user wants to explore. In this post we are going to how Ansible JSON processing works. During the infrastructure automation, we might end up in a situation where we need to process Huge datasets, especially in JSON format.&nbsp; &nbsp; We might&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-search-string-file-check-if-string-exists/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2019/01/file_search-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/01/file_search-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-search-string-file-check-if-string-exists/index.html'>ansible search for string in file or check if string exists in file</a><p>The Objective of this post is to show how to search for a string in a file with ansible. ansible provides various ways to accomplish the same.&nbsp; We will cover,&nbsp; three major ways to search for a string in a file. Lineinfile module Using the Shell module and grep command&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-update-etc-hosts-file-across-all-hosts/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2019/01/Ansible-HostUpdate-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/01/Ansible-HostUpdate-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-update-etc-hosts-file-across-all-hosts/index.html'>ansible update /etc/hosts file with IP of all hosts across all hosts</a><p>In Ansible, SSH Communication is everything. Let it be connecting to remote servers from your controller laptop/desktop (mac/windows) or to enable connectivity between servers on the host group. Especially this will be a huge task to accomplish when you do not have a DNS&nbsp; where each remote host can easily&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-unarchive-module-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible unarchive" data-src="../../wp-content/uploads/2019/12/Screenshot-2019-12-07-at-4.53.15-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/12/Screenshot-2019-12-07-at-4.53.15-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible unarchive" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-unarchive-module-examples/index.html'>Ansible Unarchive Module Examples</a><p>What is Ansible Unarchive Module and How does it work Ansible Unarchive module helps to unpack or uncompress the files from an archive file such as tar, tar.gz, zip&nbsp; . Ansible unarchive module can optionally copy the files to the remote server before uncompressing them. Though the unarchive module is&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-get_url-examples-how-to-download-file-from-url/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2019/04/download-url-ansible-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/04/download-url-ansible-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-get_url-examples-how-to-download-file-from-url/index.html'>Ansible get_url Examples - How to download file from URL</a><p>In this post, we are going to see how to download a file from URL using ansible get_url module in other words ansible curl.&nbsp; As we know it already, Ansible has a lot of built-in modules to accomplish all the tasks we might need for configuration management and automation. Ansible&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../kubernetes-ingress-example/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>Kubernetes Ingress Example on Google Cloud</a></div><div class="nav-next"><a href="../ansible-lookup-file/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>Ansible lookup file &#8211; How to Read file into variable in Ansible</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 75%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 75%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-5219 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=Ansible+read+JSON+file++%E2%80%93+JSON+file+Parsing&url=https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=Ansible+read+JSON+file++%E2%80%93+JSON+file+Parsing&body=https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://web.whatsapp.com/send?text=https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"5219 https:\/\/www.middlewareinventory.com\/?p=5219","disqusShortname":"mwinventory","disqusTitle":"Ansible read JSON file  \u2013 JSON file Parsing","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/ansible-playbook-read-json-file\/","postId":"5219"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"2019084a26"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"b4d440853b","post_id":"5219"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"0b980bed5f","ip":"2a00:23c5:af8b:be01:c52c:89cc:14a3:ed35","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://airdata.gitlab.io/blog/blog/ansible-playbook-read-json-file/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
<script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657192662;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="#" id="cn-refuse-cookie" data-cookie-set="refuse" class="cn-set-cookie cn-button bootstrap button">No</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
<div class="cookie-notice-revoke-container"><a href="#" class="cn-revoke-cookie cn-button bootstrap button">Revoke cookies</a></div>
</div>
</body>
</html>
