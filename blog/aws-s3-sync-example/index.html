<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">

<title>AWS S3 Sync Examples - Sync S3 buckets AWS CLI | Devops Junction</title>
<meta name="description" content="AWS S3 Sync Examples. Sync S3 buckets and local files or directories using aws s3 cli. aws s3 sync two s3 buckets one to another. aws s3 sync copy files example." />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="AWS S3 Sync Examples - Sync S3 buckets AWS CLI | Devops Junction" />
<meta property="og:description" content="AWS S3 Sync Examples. Sync S3 buckets and local files or directories using aws s3 cli. aws s3 sync two s3 buckets one to another. aws s3 sync copy files example." />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="https://www.facebook.com/rumenlishkov" />
<meta property="article:published_time" content="2022-06-21T11:24:43+00:00" />
<meta property="article:modified_time" content="2022-06-21T11:30:32+00:00" />
<meta property="og:image" content="../../wp-content/uploads/2022/06/aws-s3-sync.png" />
<meta property="og:image:width" content="1748" />
<meta property="og:image:height" content="1240" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["https://www.facebook.com/rumenlishkov","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://airdata.gitlab.io/blog/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#primaryimage","inLanguage":"en-US","url":"../../wp-content/uploads/2022/06/aws-s3-sync.png","width":1748,"height":1240,"caption":"aws s3 sync"},{"@type":"WebPage","@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#webpage","url":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/","name":"AWS S3 Sync Examples - Sync S3 buckets AWS CLI | Devops Junction","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#primaryimage"},"datePublished":"2022-06-21T11:24:43+00:00","dateModified":"2022-06-21T11:30:32+00:00","description":"AWS S3 Sync Examples. Sync S3 buckets and local files or directories using aws s3 cli. aws s3 sync two s3 buckets one to another. aws s3 sync copy files example.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/"]}]},{"@type":"Article","@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#article","isPartOf":{"@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"AWS S3 Sync Examples &#8211; Sync S3 buckets AWS CLI","datePublished":"2022-06-21T11:24:43+00:00","dateModified":"2022-06-21T11:30:32+00:00","mainEntityOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#webpage"},"commentCount":0,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#primaryimage"},"articleSection":"AWS","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; AWS S3 Sync Examples &#8211; Sync S3 buckets AWS CLI Comments Feed" href="feed/index.rss" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-6674956-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6674956-8');
</script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"3d8661396b"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://airdata.gitlab.io/blog/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/8667.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-aws-s3-sync-example-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-aws-s3-sync-example-&amp;format=xml.xml" />
<script>
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/" + ";secure;";
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/";
    if ( ! /(^|;)\s*cca_is_eu=/.test(document.cookie) ) {  // if check prevents reload loop
		  document.cookie = "cca_is_eu=false;max-age=" + 3600*24*364 + "; path=/";
      var ccaURL = window.location.protocol + '//',
      hostname = window.location.host + '/' + window.location.pathname;
			if ( '0' === '1' ) {
        window.location.reload( true );
      }
   }
</script>
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="AWS S3 Sync Examples &#8211; Sync S3 buckets AWS CLI - Middleware Inventory" />
<meta property="og:description" content="In this article, we are going to see how to use the powerful aws s3 sync CLI command.

In the Linux world, if we want to compare two directories and copy the files on the same machine or between two machines over the remote (ssh) we use rsync

Those who have used it know how powerful it is. similarly, aws s3 sync is" />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="../../wp-content/uploads/2022/06/aws-s3-sync.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="In this article, we are going to see how to use the powerful aws s3 sync CLI command.

In the Linux world, if we want to compare two directories and copy the files on the same machine or between two machines over the remote (ssh) we use rsync

Those who have used it know how powerful it is. similarly, aws s3 sync is" />
<meta name="twitter:title" content="AWS S3 Sync Examples &#8211; Sync S3 buckets AWS CLI - Middleware Inventory" />
<meta property="twitter:image" content="../../wp-content/uploads/2022/06/aws-s3-sync.png" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://airdata.gitlab.io/blog/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 22px;
}
#precode
{
  background-color: transparent !important;
  color: #00193a !important;
  font-size: 16px;
}
.post-img
{
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  border: 1px solid lightgray;
}
article h2
{
    color:black
}
pre
{
  display: block; 
  overflow-x: auto; 
  padding-left: 2em;
  padding-top: 3em;
  padding-bottom: 3em;
  background: #eaeef3 none repeat scroll 0% 0%; 
  color: #00193a;
}
li {
    padding: 2px;
    margin-left: 2%;
}
code
{
  color: black;
}
blockquote {
    padding: 2%;
    background-color: none !important;
}
div.enlighter{
  font-size: 1.2em;  
}
.enlighter-default {
    font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
    background: #eaeef3 none repeat scroll 0% 0% !important;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-8667 single-format-standard wp-custom-logo cookies-not-set elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="160" height="120" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="160" height="120" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>
<li id="menu-item-8820" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8820"><a href="../../newsletter/index.html">Newsletter</a></li>
<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-8667" class="post-8667 post type-post status-publish format-standard has-post-thumbnail hentry category-aws wpautop">
<header class="entry-header">
<h1 class="entry-title">AWS S3 Sync Examples &#8211; Sync S3 buckets AWS CLI</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="4:54 pm" rel="bookmark"><time class="entry-date published updated" datetime="June 21, 2022">June 21, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=AWS%20S3%20Sync%20Examples%20%E2%80%93%20Sync%20S3%20buckets%20AWS%20CLI&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-s3-sync-example%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="8667" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=AWS+S3+Sync+Examples+%E2%80%93+Sync+S3+buckets+AWS+CLI&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-s3-sync-example%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="8667" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=AWS%20S3%20Sync%20Examples%20%E2%80%93%20Sync%20S3%20buckets%20AWS%20CLI&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-s3-sync-example%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="8667" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-s3-sync-example%2F&subject=AWS%20S3%20Sync%20Examples%20%E2%80%93%20Sync%20S3%20buckets%20AWS%20CLI" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="8667" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="8667" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<p>In this article, we are going to see how to use the powerful aws s3 sync CLI command.</p>
<p>In the Linux world, if we want to compare two directories and copy the files on the same machine or between two machines over the remote (ssh) we use <strong>rsync</strong></p>
<p>Those who have used it know how powerful it is. similarly, <strong>aws s3 sync </strong>is for the S3 bucket or S3 file system ( it is technically not a file system, it is an object store)</p>
<p>Now let us see some real-time use cases for the aws s3 sync command.</p>
<p><a href="../../wp-content/uploads/2022/06/aws-s3-sync.png"><img class="post-img alignnone wp-image-8730 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1748x1240.png" alt="aws s3 sync" width="1748" height="1240" data-src="../../wp-content/uploads/2022/06/aws-s3-sync.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/aws-s3-sync.png 1748w, ../../wp-content/uploads/2022/06/aws-s3-sync-300x213.png 300w, ../../wp-content/uploads/2022/06/aws-s3-sync-1024x726.png 1024w, ../../wp-content/uploads/2022/06/aws-s3-sync-768x545.png 768w, ../../wp-content/uploads/2022/06/aws-s3-sync-1536x1090.png 1536w, ../../wp-content/uploads/2022/06/aws-s3-sync-90x65.png 90w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8730 size-full" src="../../wp-content/uploads/2022/06/aws-s3-sync.png" alt="aws s3 sync" width="1748" height="1240" srcset="../../wp-content/uploads/2022/06/aws-s3-sync.png 1748w, ../../wp-content/uploads/2022/06/aws-s3-sync-300x213.png 300w, ../../wp-content/uploads/2022/06/aws-s3-sync-1024x726.png 1024w, ../../wp-content/uploads/2022/06/aws-s3-sync-768x545.png 768w, ../../wp-content/uploads/2022/06/aws-s3-sync-1536x1090.png 1536w, ../../wp-content/uploads/2022/06/aws-s3-sync-90x65.png 90w" sizes="(max-width: 1748px) 100vw, 1748px" data-eio="l" /></noscript></a></p>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Where_can_aws_s3_sync_be_used" title="Where can aws s3 sync be used?">Where can aws s3 sync be used?</a></li><li><a href="#AWS_CLI_Installation_and_Configuration" title="AWS CLI Installation and Configuration">AWS CLI Installation and Configuration</a><ul><li><a href="#Setup_your_Programmatic_Access_Create_Access_Key" title="Setup your Programmatic Access – Create Access Key">Setup your Programmatic Access – Create Access Key</a></li><li><a href="#Install_AWS_CLI" title="Install AWS CLI">Install AWS CLI</a></li><li><a href="#Configure_AWS_CLI" title="Configure AWS CLI">Configure AWS CLI</a></li></ul></li><li><a href="#AWS_S3_SYNC_Examples_Local_and_S3_bucket" title="AWS S3 SYNC Examples ( Local and S3 bucket )">AWS S3 SYNC Examples ( Local and S3 bucket )</a><ul><li><a href="#AWS_S3_sync_Local_to_S3_bucket_CopyingUploading_files" title="AWS S3 sync Local to S3 bucket &#8211; Copying/Uploading files">AWS S3 sync Local to S3 bucket &#8211; Copying/Uploading files</a></li><li><a href="#Sync_S3_bucket_to_Local_Downloading_Files_from_S3_to_local" title="Sync S3 bucket to Local &#8211; Downloading Files from S3 to local">Sync S3 bucket to Local &#8211; Downloading Files from S3 to local</a></li><li><a href="#Sync_and_delete_the_extra_files_on_the_S3_destination" title="Sync and delete the extra files on the S3 destination">Sync and delete the extra files on the S3 destination</a></li><li><a href="#Sync_and_delete_the_extra_files_on_the_Local_destination" title="Sync and delete the extra files on the Local destination">Sync and delete the extra files on the Local destination</a></li></ul></li><li><a href="#AWS_S3_Sync_two_S3_buckets" title="AWS S3 Sync two S3 buckets">AWS S3 Sync two S3 buckets</a><ul><li><a href="#AWS_S3_sync_two_s3_buckets" title="AWS S3 sync two s3 buckets">AWS S3 sync two s3 buckets</a></li><li><a href="#AWS_S3_sync_two_s3_buckets_Delete_extra_files" title="AWS S3 sync two s3 buckets &#8211; Delete extra files">AWS S3 sync two s3 buckets &#8211; Delete extra files</a></li></ul></li><li><a href="#AWS_S3_Sync_Exclude_and_Include_files" title="AWS S3 Sync &#8211; Exclude and Include files">AWS S3 Sync &#8211; Exclude and Include files</a></li><li><a href="#Conclusion" title="Conclusion">Conclusion</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Where_can_aws_s3_sync_be_used">Where can aws s3 sync be used?</span></h2>
<ul>
<li>To upload a Large directory with files to the remote S3 bucket recursively</li>
<li>download a Large directory with files from S3 to local</li>
<li>To compare two S3 buckets and copy files between them ( only the missing )</li>
<li>compare a local directory with a remote S3 bucket and copy the missing files on the remote or vice versa</li>
<li>Syncing two buckets in two different regions</li>
<li>Including or Excluding files during the copy between source and destination</li>
<li>To update the website content and set cache if your website hosted on S3</li>
<li>Uploading files from local with different file permissions on bulk</li>
</ul>
<p>There are more use cases of aws s3 sync than I have listed here.</p>
<p>While not all of them are mostly used across the industry. we will try to address some of the examples of the aws s3 sync command</p>
<p>Let us start with some basics</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2><span class="ez-toc-section" id="AWS_CLI_Installation_and_Configuration">AWS CLI Installation and Configuration</span></h2>
<p>For us to be able to use aws s3 sync command. we need to have the aws CLI installed and configured.</p>
<p>If you already have the AWS CLI installed and configured in your local. please ignore this section and move on or follow through.</p>
<p>Here we are trying to create a new user with full Admin access privileges for testing purposes.</p>
<p>You can give fewer privileges or just <code>s3</code> related permissions are also fine just to try this article.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Setup_your_Programmatic_Access_Create_Access_Key"><span id="Setup_your_Programmatic_Access_Create_Access_Key" class="ez-toc-section">Setup your Programmatic Access – Create Access Key</span></span></h3>
<p>If you would like to create a new user in IAM along with the Access Key follow these steps.</p>
<ol>
<li>
<div>Login to AWS Console</div>
</li>
<li>
<div>In the services go to IAM</div>
</li>
<li>
<div>Create a User and Click on map existing Policies</div>
</li>
<li>
<div>Choose UserName and Select the Policy (Administrator Access Policy)</div>
</li>
<li>
<div>Create user</div>
</li>
<li>
<div>The final Stage would present the AccessKEY and Secret Access as given below.</div>
</li>
</ol>
<figure id="attachment_3140" class="wp-caption alignleft"><a href="../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png"><img class="post-img alignleft wp-image-3140 size-full" src="../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png" sizes="819px" srcset="../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png 996w, ../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-300x116.png 300w, ../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-768x297.png 768w" alt="" width="996" height="385" data-src="../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png" data-srcset="../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png 996w, ../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-300x116.png 300w, ../../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-768x297.png 768w" data-sizes="auto" /></a><figcaption class="wp-caption-text">API key creation Successful Message Banner</figcaption></figure>
<p>&nbsp;</p>
<p>If you would like to Choose the existing user and create an Access Key follow this</p>
<ol>
<li>Sign in to the AWS Management Console and open the IAM console at https://console.aws.amazon.com/iam/.</li>
<li>In the navigation pane, choose Users.</li>
<li>Choose the name of the user whose access keys you want to create, and then choose the Security credentials tab.</li>
<li>In the Access keys section, choose to create an access key.</li>
<li>To view the new access key pair, choose Show. You will not have access to the secret access key again after this dialog box closes. ( Refer to the image given above)</li>
</ol>
<p>&nbsp;</p>
<h3 id="install-cli"><span class="ez-toc-section" id="Install_AWS_CLI"><span id="Install_AWS_CLI" class="ez-toc-section">Install AWS CLI</span></span></h3>
<p>Based on your base machine the AWS CLI installation and command might vary.</p>
<p>Amazon has given clear instructions on how to install AWS CLI on each platform. Choose any of the following links and get your AWS CLI installed and ready</p>
<ul>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html" target="_blank" rel="noopener noreferrer">AWS CLI version 2 on Linux or Unix</a></li>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-macOS.html" target="_blank" rel="noopener noreferrer">AWS CLI version 2 on macOS</a></li>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-windows.html" target="_blank" rel="noopener noreferrer">Installing AWS CLI version 2 on Windows</a></li>
</ul>
<h3></h3>
<h3 id="configure-cli"><span class="ez-toc-section" id="Configure_AWS_CLI"><span id="Configure_AWS_CLI" class="ez-toc-section">Configure AWS CLI</span></span></h3>
<p>I presume that you have installed the AWS CLI package and if everything went well.</p>
<p>You should be able to see the version of the AWS CLI installed when entering the following command in your terminal or command prompt</p>
<pre>aws --version</pre>
<p>I am using the AWS CLI Version1 as CLI Version 2 is still in Beta.</p>
<p>Now it is time to configure the AWS CLI, Just enter the following command and you would be prompted with a few questions about the Access Key and Passwords.</p>
<pre>aws configure</pre>
<p>it would look like this as you are setting it up.</p>
<p>You enter your own <code>AWS Access Key ID</code> and <code>Secret Access Key</code> and the one given below is not correct. Just a made-up.</p>
<pre>➜ ~ aws configure
AWS Access Key ID [None]: AKIAS790KQGK63WUK6T5
AWS Secret Access Key [None]: kkQEiBjJSKrDkWBLO9G/JJKQWIOKL/CpHjMGyoiJWW
Default region name [None]: us-east-1
Default output format [None]:</pre>
<p>Well done. You are ready with AWS CLI</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="AWS_S3_SYNC_Examples_Local_and_S3_bucket">AWS S3 SYNC Examples ( Local and S3 bucket )</span></h2>
<p>Hope you are ready with all the necessary items to test things in practice.</p>
<p>Here are some examples of aws s3 sync</p>
<p>First, let us see how to use aws s3 sync to upload and download data. In other words, syncing the local to S3 bucket and S3 bucket to local</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM.png"><img class="post-img alignnone wp-image-8703 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1812x1062.png" alt="aws s3 sync" width="1812" height="1062" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM.png 1812w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-300x176.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-1024x600.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-768x450.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-1536x900.png 1536w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8703 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM.png" alt="aws s3 sync" width="1812" height="1062" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM.png 1812w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-300x176.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-1024x600.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-768x450.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-19-at-11.54.37-PM-1536x900.png 1536w" sizes="(max-width: 1812px) 100vw, 1812px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="AWS_S3_sync_Local_to_S3_bucket_CopyingUploading_files">AWS S3 sync Local to S3 bucket &#8211; Copying/Uploading files</span></h3>
<p>When you want to copy a large number of files in Linux, we always use RSYNC as it compares the existence of the files in both source and destination and copies only the files which are not present or recently modified.</p>
<p><strong>rsync</strong> provides options to delete the files in case you want the sync to be perfect.</p>
<p>AWS S3 Sync also provides similar options too. we will get there.</p>
<p>For now, let us see a simple example of uploading a directory using s3 sync</p>
<p>I have a directory named <code>tobeuploaded</code> on my local and I want to sync it to the remote S3 bucket which is empty.</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM.png"><img class="post-img alignnone wp-image-8668 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1358x420.png" alt="aws s3 cli" width="1358" height="420" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM.png 1358w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM-300x93.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM-1024x317.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM-768x238.png 768w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8668 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM.png" alt="aws s3 cli" width="1358" height="420" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM.png 1358w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM-300x93.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM-1024x317.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-18-at-12.32.10-AM-768x238.png 768w" sizes="(max-width: 1358px) 100vw, 1358px" data-eio="l" /></noscript></a></p>
<p>Let us execute the aws s3 sync command to upload the files/directories on the <code>tobeuploaded</code> directory to the S3 bucket recursively</p>
<pre>⚡ aws s3 sync tobeuploaded/. s3://gritfy-s3-bucket1</pre>
<p>You can also execute this command in another way.</p>
<pre>⚡ cd tobeuploaded
⚡ aws s3 sync . s3://gritfy-s3-bucket1</pre>
<p>In this example, we are <code>cd</code> going into that directory and syncing the file both would give the same result.</p>
<p>Here is the execution/implementation terminal record</p>
<p><script id="asciicast-S9bLps6EPuKeYNGKUU4mV05H9" src="https://asciinema.org/a/S9bLps6EPuKeYNGKUU4mV05H9.js" async></script></p>
<p>After the upload, if you execute the <code>aws s3 ls</code> command you would see the output as shown below.</p>
<pre><span style="color: #000000;"><strong>⚡</strong> </span>aws s3 ls s3://gritfy-s3-bucket1

2022-06-17 21:42:30 0 testfile1
2022-06-17 21:42:30 0 testfile2
2022-06-17 21:42:30 0 testfile3</pre>
<p>If you notice, you can see the subdirectories are not being copied.</p>
<blockquote><p><strong>Note*:</strong> s3 sync does not consider the empty directories in both upload/download. <strong>the empty directories would not be considered at the destination if they are empty on the source.</strong></p></blockquote>
<p>Now, I hope you know why the subdirectories were not considered by the aws s3 sync command.</p>
<p>Let us create some test files in the subdirectories and re-sync.</p>
<p><script id="asciicast-i4yAs4wCA4AC6jeTwIeilyqt2" src="https://asciinema.org/a/i4yAs4wCA4AC6jeTwIeilyqt2.js" async></script></p>
<p>As you can see on the preceding terminal record. the subdirectories are now copied or synced to the S3</p>
<p>the output of aws s3 ls with the recursive flag would yield the following result</p>
<pre><span style="color: #000000;"><strong>⚡ </strong>aws s3 ls s3://gritfy-s3-bucket1 --recursive
2022-06-18 00:47:40 0 testdir1/testfile1
2022-06-18 00:47:41 0 testdir2/testfile1
2022-06-17 21:42:30 0 testfile1
2022-06-17 21:42:30 0 testfile2
2022-06-17 21:42:30 0 testfile3</span></pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Sync_S3_bucket_to_Local_Downloading_Files_from_S3_to_local">Sync S3 bucket to Local &#8211; Downloading Files from S3 to local</span></h3>
<p>In the previous example, we have seen in detail how to sync the local directory and files to the s3 bucket.</p>
<p>Now let us see how can we sync the S3 bucket to the local directory.</p>
<p>In other words, we can say downloading the content from the S3 bucket to local.</p>
<p>To sync the S3 bucket to the local, all we need to change is the order of S3 URI and the local path</p>
<p>Here is the recorded video of me trying to sync the S3 bucket to local</p>
<p><script id="asciicast-AfsiZFDRby8UW7TVgsO82feWZ" src="https://asciinema.org/a/AfsiZFDRby8UW7TVgsO82feWZ.js" async></script></p>
<p>As you can see in the preceding video, Existing files would not be copied or overwritten by default</p>
<p>Let&#8217;s suppose our local directory has these files</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>ls -lrt
total 0
-rw-r--r-- 1 sarav staff 0 Jun 17 21:40 testfile1
-rw-r--r-- 1 sarav staff 0 Jun 17 21:40 testfile2
-rw-r--r-- 1 sarav staff 0 Jun 17 21:40 testfile3
drwxr-xr-x 3 sarav staff 96 Jun 18 00:46 testdir1
drwxr-xr-x 3 sarav staff 96 Jun 18 00:46 testdir2</pre>
<p>Our S3 buckets have these files</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 ls s3://gritfy-s3-bucket1 --recursive
2022-06-18 00:47:40 0 testdir1/testfile1
2022-06-18 00:47:41 0 testdir2/testfile1
<span style="color: #993300;">2022-06-19 22:29:58 0 testdir3/testfile1</span>
2022-06-17 21:42:30 0 testfile1
2022-06-17 21:42:30 0 testfile2
2022-06-17 21:42:30 0 testfile3</pre>
<p>As you can see, we have an extra directory on the S3 bucket which is not present on the local path</p>
<p>If I sync my local path to the S3.  No action would be taken as the source is our local path and the destination is an s3 bucket</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 sync . s3://gritfy-s3-bucket1</pre>
<p>If I sync the S3 bucket to my local path, In this context, the source is the S3 bucket and the destination is the local path</p>
<p>The missing file or directory (non-empty) on my local would be copied over from the S3</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 sync s3://gritfy-s3-bucket1 .
  download: s3://gritfy-s3-bucket1/testdir3/testfile1 to testdir3/testfile1</pre>
<p>As you can see the <code>testdir3</code> is now being copied from the S3 to local.</p>
<blockquote><p>If you are trying to sync the S3 bucket to an empty local directory, <strong>you could be able to download all the files from the S3 bucket recursively</strong></p></blockquote>
<p>Hope you have now understood about S3 sync and source and destination.</p>
<p>Here is the pictorial representation of what we did now.</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM.jpg"><img class="post-img alignnone wp-image-8711 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1360x1020.png" alt="aws s3 sync" width="1360" height="1020" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM.jpg" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM.jpg 1360w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM-300x225.jpg 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM-1024x768.jpg 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM-768x576.jpg 768w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8711 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM.jpg" alt="aws s3 sync" width="1360" height="1020" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM.jpg 1360w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM-300x225.jpg 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM-1024x768.jpg 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-4.04.39-PM-768x576.jpg 768w" sizes="(max-width: 1360px) 100vw, 1360px" data-eio="l" /></noscript></a></p>
<p>how to upload and download with s3 sync.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Sync_and_delete_the_extra_files_on_the_S3_destination">Sync and delete the extra files on the S3 destination</span></h3>
<p>&nbsp;</p>
<p>While performing the sync, What if we want to remove some files to maintain the sync state either at the source or destination. local path or S3</p>
<p>Let&#8217;s suppose <strong>we have a file in the <span style="color: #149be3;">S3 bucket</span> but not on the <span style="color: #800080;">local path. </span></strong></p>
<p>As we have seen if we use the S3 path as the source and local path as the destination and perform the sync, the missing file would be downloaded</p>
<p>Let&#8217;s suppose <strong>we have a file in the <span style="color: #149be3;">Local path</span> but not on the <span style="color: #800080;">S3 bucket</span></strong></p>
<p>If we do a sync with the local path as a source and the S3 bucket as destination the file would be uploaded to the s3 bucket.</p>
<p><span style="color: #003366;">Now let&#8217;s say we want to delete the file at the destination if the file is not present in the source.</span></p>
<p>How to do it?</p>
<p>You need a special option to be passed to the aws s3 sync command</p>
<blockquote><p>&#8211;delete (boolean) Files that exist in the destination but not in the<br />
source are deleted during sync.</p></blockquote>
<p>Let us see it in real time</p>
<p>I have the local directory ( source )  with the following files</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>tree .
.
├── testdir1
│   └── testfile1
├── testdir2
│   └── testfile1
├── testfile1
├── testfile2
└── testfile3</pre>
<p>I am trying to sync this local directory with a remote S3 bucket which has the following files</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 ls s3://gritfy-s3-bucket1 --recursive
2022-06-18 00:47:40 0 testdir1/testfile1
2022-06-18 00:47:41 0 testdir2/testfile1
2022-06-19 22:27:15 0 testdir3/
<span style="color: #800080;">2022-06-19 22:29:58 0 testdir3/testfile1</span>
2022-06-17 21:42:30 0 testfile1
2022-06-17 21:42:30 0 testfile2
2022-06-17 21:42:30 0 testfile3</pre>
<p>as you can see there is a directory named <code>testdir3</code>  and file inside, which is not present on the source</p>
<p>Let us see how to delete it on the S3 bucket.</p>
<p>Remember the file would be deleted only on the destination if they are not present on the source.</p>
<p>In our case destination is <code>S3 bucket</code></p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM.png"><img class="alignnone wp-image-8715 size-full lazyload" title="post-img" src="../../wp-content/ewww/lazy/placeholder-1382x1308.png" alt="aws s3 sync" width="1382" height="1308" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM.png 1382w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM-300x284.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM-1024x969.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM-768x727.png 768w" data-sizes="auto" /><noscript><img class="alignnone wp-image-8715 size-full" title="post-img" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM.png" alt="aws s3 sync" width="1382" height="1308" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM.png 1382w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM-300x284.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM-1024x969.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-6.41.56-PM-768x727.png 768w" sizes="(max-width: 1382px) 100vw, 1382px" data-eio="l" /></noscript></a></p>
<p>In the preceding screenshot, you can see we are using the <code>--delete</code> flag</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 sync --delete . s3://gritfy-s3-bucket1
delete: s3://gritfy-s3-bucket1/testdir3/testfile1</pre>
<p>You can see it returns the output that the additional file which is not present on the source but the destination is deleted.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Sync_and_delete_the_extra_files_on_the_Local_destination">Sync and delete the extra files on the Local destination</span></h3>
<p>we have seen how to delete the extra files which are present on the local but not on the destination s3 bucket</p>
<p>What if the destination is local and it has an extra file.</p>
<p>No difference except the change of destination, the <code>--delete</code> a flag would make sure it deletes the file on the destination irrespective of whether it is local or S3</p>
<p>Take a look at the list of files on the S3 bucket</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png"><img class="post-img alignnone wp-image-8718 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x700.png" alt="aws s3 sync" width="3142" height="1146" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png 3142w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-300x109.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1024x373.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-768x280.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1536x560.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-2048x747.png 2048w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8718 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png" alt="aws s3 sync" width="3142" height="1146" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png 3142w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-300x109.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1024x373.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-768x280.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1536x560.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-2048x747.png 2048w" sizes="(max-width: 3142px) 100vw, 3142px" data-eio="l" /></noscript></a></p>
<p>Here is the list of files on my local. let us try to sync keeping the local path as the destination</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>ls -rlt

-rw-r--r-- 1 sarav staff 0 Jun 17 21:40 testfile1
-rw-r--r-- 1 sarav staff 0 Jun 17 21:40 testfile2
<span style="color: #800080;">-rw-r--r-- 1 sarav staff 0 Jun 17 21:40 testfile3</span>
drwxr-xr-x 3 sarav staff 96 Jun 18 00:46 testdir1
drwxr-xr-x 3 sarav staff 96 Jun 18 00:46 testdir2</pre>
<p>as you can see the <code>testfile3</code> is not present on the source ( s3 path ) but the destination (local path)</p>
<p>when we execute the following command. the testfile3 should be deleted from the local path</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 sync s3://gritfy-s3-bucket1 . --delete</pre>
<p>and here is the output of this command at my end when tested</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM.png"><img class="post-img alignnone wp-image-8719 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1428x814.png" alt="aws s3 sync" width="1428" height="814" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM.png 1428w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM-300x171.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM-1024x584.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM-768x438.png 768w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8719 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM.png" alt="aws s3 sync" width="1428" height="814" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM.png 1428w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM-300x171.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM-1024x584.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.11.17-PM-768x438.png 768w" sizes="(max-width: 1428px) 100vw, 1428px" data-eio="l" /></noscript></a></p>
<p>as you can see the testfile3 is deleted on the local path ( destination)</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="AWS_S3_Sync_two_S3_buckets">AWS S3 Sync two S3 buckets</span></h2>
<p>So far we have seen how to sync upload, download and delete between the local path and s3 bucket</p>
<p>Let us see the most important feature of comparing and syncing two S3 buckets</p>
<p>Just know that all the examples we have seen earlier could be replicated to the S3 buckets.</p>
<p>The only difference is that we are going to use two S3 buckets in both source and destination, unlike our previous examples.</p>
<p>Let us see examples of how to sync two s3 buckets</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="AWS_S3_sync_two_s3_buckets">AWS S3 sync two s3 buckets</span></h3>
<p>Always remember the Source and Destination play an important role while performing a Sync.</p>
<p>While syncing two S3 buckets, the bucket which is at the source end would be considered the ideal state and the destination would be brought to the source state</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM.png"><img class="post-img alignnone wp-image-8724 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1226x776.png" alt="s3 sync two buckets" width="1226" height="776" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM.png 1226w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM-300x190.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM-1024x648.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM-768x486.png 768w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8724 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM.png" alt="s3 sync two buckets" width="1226" height="776" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM.png 1226w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM-300x190.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM-1024x648.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.52.10-PM-768x486.png 768w" sizes="(max-width: 1226px) 100vw, 1226px" data-eio="l" /></noscript></a></p>
<p>as we have mentioned the source bucket would be considered as the ideal desired state and the destination would be synced to match the source.</p>
<p>let us validate it once by testing it ourselves</p>
<p>I have two buckets.</p>
<p>here is the state of the first s3 bucket</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png"><img class="post-img alignnone wp-image-8718 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x700.png" alt="aws s3 sync" width="3142" height="1146" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png 3142w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-300x109.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1024x373.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-768x280.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1536x560.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-2048x747.png 2048w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8718 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png" alt="aws s3 sync" width="3142" height="1146" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM.png 3142w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-300x109.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1024x373.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-768x280.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-1536x560.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.03.39-PM-2048x747.png 2048w" sizes="(max-width: 3142px) 100vw, 3142px" data-eio="l" /></noscript></a></p>
<p>and the state of the second s3 bucket</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM.png"><img class="post-img alignnone wp-image-8725 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x690.png" alt="sync s3 buckets" width="3148" height="1132" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM.png 3148w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-300x108.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-1024x368.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-768x276.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-1536x552.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-2048x736.png 2048w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8725 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM.png" alt="sync s3 buckets" width="3148" height="1132" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM.png 3148w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-300x108.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-1024x368.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-768x276.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-1536x552.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-20-at-10.55.31-PM-2048x736.png 2048w" sizes="(max-width: 3148px) 100vw, 3148px" data-eio="l" /></noscript></a></p>
<p>as you can see the Second bucket <code>gritfy-s3-bucket2</code> is empty.</p>
<p>to meet the desired state, we need to have the files created on the <code>bucket2</code></p>
<pre><span style="color: #000000;"><strong>⚡ </strong>aws s3 s3://gritfy-s3-bucket1 s3://gritfy-s3-bucket2</span></pre>
<p>let us try to sync it.  See it in action</p>
<p><script id="asciicast-meOnWU73gfNtLyOwwf2KIJBLk" src="https://asciinema.org/a/meOnWU73gfNtLyOwwf2KIJBLk.js" async></script></p>
<p>you can see the files are copied from the source bucket to the destination bucket as the bucket 2 was not having the files on bucket1</p>
<p><strong>In case you want to keep bucket2 as the ideal desired state.</strong> All you have to do is to change the source and destination</p>
<p>In the following command, you can see that bucket2 is now at the source and bucket1 is on the destination end.</p>
<pre><span style="color: #000000;"><strong>⚡ </strong>aws s3 s3://gritfy-s3-bucket2 s3://gritfy-s3-bucket1</span></pre>
<p>Remember the source is considered as the desired state and the destination would be matched to the source</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="AWS_S3_sync_two_s3_buckets_Delete_extra_files">AWS S3 sync two s3 buckets &#8211; Delete extra files</span></h3>
<p>As we have seen earlier, we can delete the extra files/objects from the destination if they are not present on the source.</p>
<p>The same can be done while syncing between two S3 buckets</p>
<p>Let us see how it works in real time.</p>
<p>we will take the same buckets we have used in the previous example.</p>
<p><strong>bucket1</strong> is having the following files and directories</p>
<pre><span style="color: #000000;"><strong>⚡ </strong>aws s3 ls s3://gritfy-s3-bucket1 --recursive
2022-06-18 00:47:40 0 testdir1/testfile1
2022-06-18 00:47:41 0 testdir2/testfile1
2022-06-17 21:42:30 0 testfile1
2022-06-17 21:42:30 0 testfile2</span></pre>
<p><strong>bucket2</strong> is having the following files and directories</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 ls s3://gritfy-s3-bucket2 --recursive

2022-06-20 23:00:20 0 testdir1/testfile1
2022-06-20 23:00:21 0 testdir2/testfile1
<span style="color: #800080;">2022-06-20 23:03:53 0 testdir3/testfile1</span>
<span style="color: #800080;">2022-06-20 23:03:53 0 testdir4/testfile1</span>
2022-06-20 23:00:21 0 testfile1
2022-06-20 23:00:21 0 testfile2
<span style="color: #800080;">2022-06-20 23:03:53 0 testfile3</span></pre>
<p>as you can see we have two directories and a file extra on bucket2 which is not present on bucket1.</p>
<p>If we are using bucket1 as the source and bucket2  as the destination and perform a simple sync. No action would be taken as the source files are already present at the destination.</p>
<p>In case if you want to make sure bucket2 is exactly the same as bucket1. you should delete the extra files on the bucket2</p>
<p><code>--delete</code> option can help here. we have seen how it works earlier too.</p>
<p>It deletes the files on the destination which are not available on the source</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM.png"><img class="post-img alignnone wp-image-8726 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x906.png" alt="aws s3 sync buckets" width="2166" height="1022" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM.png 2166w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-300x142.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-1024x483.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-768x362.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-1536x725.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-2048x966.png 2048w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8726 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM.png" alt="aws s3 sync buckets" width="2166" height="1022" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM.png 2166w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-300x142.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-1024x483.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-768x362.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-1536x725.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-11.24.36-AM-2048x966.png 2048w" sizes="(max-width: 2166px) 100vw, 2166px" data-eio="l" /></noscript></a></p>
<p>In the preceding screenshot, you can see while performing the sync, the extra files on the destination are removed.</p>
<blockquote><p> Note*: You can also use an <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html">S3 access endpoint</a> in place of the S3 bucket URL.</p></blockquote>
<p>Hope you have learnt how to perform aws s3 sync between two buckets.</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="AWS_S3_Sync_Exclude_and_Include_files">AWS S3 Sync &#8211; Exclude and Include files</span></h2>
<p>we have seen so far how to upload/download files and how to sync local path and S3 bucket and also two s3 buckets.</p>
<p>sometimes we might not want all of our files to be considered while performing the sync</p>
<p>for example. let&#8217;s say you have a directory with various file types like <code>pdf, jpg, png, txt</code> etc.</p>
<p>You are interested in uploading only the image files. how would you do it?</p>
<p>there are two special options that you can use <code>--exclude</code> and <code>--include</code></p>
<p>let us see how it works</p>
<p>I have a s3 bucket, used as a backend for the CDN ( Content Delivery Network) with images.</p>
<p><a href="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM.png"><img class="post-img alignnone wp-image-8729 size-full lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x672.png" alt="s3 bucket sync " width="3616" height="1266" data-src="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM.png 3616w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-300x105.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-1024x359.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-768x269.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-1536x538.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-2048x717.png 2048w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-8729 size-full" src="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM.png" alt="s3 bucket sync " width="3616" height="1266" srcset="../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM.png 3616w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-300x105.png 300w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-1024x359.png 1024w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-768x269.png 768w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-1536x538.png 1536w, ../../wp-content/uploads/2022/06/Screenshot-2022-06-21-at-4.10.55-PM-2048x717.png 2048w" sizes="(max-width: 3616px) 100vw, 3616px" data-eio="l" /></noscript></a></p>
<p>I have some files on my local and want to upload (sync) only the image files from Local Path(source) to the s3 bucket (destination)</p>
<p>Look at the following directory listing where I have a variety of files pdf, jpg, png, txt</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>ls -lrt
total 0
-rw-r--r-- 1 sarav staff 0 Jun 21 11:35 test.jpg
-rw-r--r-- 1 sarav staff 0 Jun 21 11:35 test1.png
-rw-r--r-- 1 sarav staff 0 Jun 21 11:35 test3.pdf
-rw-r--r-- 1 sarav staff 0 Jun 21 11:35 test.txt
-rw-r--r-- 1 sarav staff 0 Jun 21 11:36 test2.jpg
-rw-r--r-- 1 sarav staff 0 Jun 21 11:36 test2.png
-rw-r--r-- 1 sarav staff 0 Jun 21 11:36 test1.pdf
-rw-r--r-- 1 sarav staff 0 Jun 21 11:36 test1.txt</pre>
<p>Let us see how can I sync (upload) only the image files. with extension <code>jpg</code> or <code>png</code> to our s3 bucket</p>
<p>see it in action here.</p>
<p><script id="asciicast-Axw68uTBWqccVluymX6cI22ou" src="https://asciinema.org/a/Axw68uTBWqccVluymX6cI22ou.js" async></script></p>
<p>As you can see on the terminal record, we are including and excluding certain files using <code>--include</code> and <code>--exclude</code></p>
<p>To include only image files, you need to exclude all the files first and include only images like this</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 sync . s3://gritfy-cdn --exclude "*" --include "*.jpg" --include "*.png"</pre>
<p>to exclude certain files only you can simply use exclude alone</p>
<pre><span style="color: #000000;"><strong>⚡ </strong></span>aws s3 sync . s3://gritfy-cdn --exclude "*.txt"</pre>
<p>You can use multiple <code>--include</code> and <code>--exclude</code> as per your requirement</p>
<p>Read more about<a href="https://docs.aws.amazon.com/cli/latest/reference/s3/index.html#use-of-exclude-and-include-filters"> include and exclude filter</a> here</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Conclusion">Conclusion</span></h2>
<p>In this article, we have learnt various use cases and examples of aws s3 sync such as</p>
<ul>
<li>How to upload a directory recursively to S3 using aws S3 CLI</li>
<li>How to download a directory recursively from S3 to local using aws S3 CLI</li>
<li>Syncing Local and S3 buckets and uploading/downloading the files</li>
<li>Source and Destination importance in the S3 command</li>
<li>Sync and delete the extra files at the destination</li>
<li>Syncing two S3 buckets and deleting extra files using aws s3 sync etc</li>
</ul>
<p>Hope this article helps.</p>
<p>If you have any requirements in Cloud and DevOps or Product Development.  For Free Consultation reach out to us at <a href="../../cdn-cgi/l/email-protection.html#d4bcb1b8b8bb94b3a6bda0b2adfab7bbb9"><span class="__cf_email__" data-cfemail="bad2dfd6d6d5faddc8d3cedcc394d9d5d7">[email&#160;protected]</span></a></p>
<a href="../../wp-content/uploads/2021/09/DaaS.svg"><img class="post-img lazyload" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1047 415'%3E%3C/svg%3E" alt="gritfy" width="1047" height="415" class="post-img lazyload" data-src="../../wp-content/uploads/2021/09/DaaS.svg" loading="lazy" /><noscript><img class="post-img" src="../../wp-content/uploads/2021/09/DaaS.svg" alt="gritfy" width="1047" height="415" class="alignnone size-full wp-image-6623" data-eio="l" /></noscript></a>
<p>&nbsp;</p>
<p>Cheers<br />
Rumen Lishkov</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#553d3039393a1532273c21332c7b363a38"> <span class="__cf_email__" data-cfemail="8be3eee7e7e4cbecf9e2ffedf2a5e8e4e6">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657191630" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="8667" />
<input type="hidden" name="es_email_page_url" value="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="915ddf1a10" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657191630" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657191630"></span>
</div>
</div>
<hr>
<p>&nbsp;</p>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../aws-s3-cp-examples-how-to-copy-files-with-s3-cli-devops-junction/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="aws s3 cp" data-src="../../wp-content/uploads/2021/09/awss3cp-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2021/09/awss3cp-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="aws s3 cp" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../aws-s3-cp-examples-how-to-copy-files-with-s3-cli-devops-junction/index.html'>AWS S3 CP Examples - How to Copy Files with S3 CLI | Devops Junction</a><p>AWS CLI has become a life saver when you want to manage your AWS infrastructure efficiently. This also provides lot of possibilities for Automation and reduce the number of times that you have to login to AWS Management console. If you are new to AWS CLI. Please consider reading this&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../aws-cli-stop-terminate-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2020/05/terminate-ec2-instance-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/05/terminate-ec2-instance-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../aws-cli-stop-terminate-examples/index.html'>AWS CLI EC2 Stop and Terminate command Examples</a><p>In AWS infrastructure, We create a lot of EC2 instances on demand and we tend to forget about the stopped instances considering that it is stopped and not being billed for. But the fact is that Even the stopped instances would cost you a couple of pennies in various forms&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-aws_s3-example/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible S3" data-src="../../wp-content/uploads/2021/12/Ansible-S3-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2021/12/Ansible-S3-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible S3" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-aws_s3-example/index.html'>How to use ansible with S3 - Ansible aws_s3 examples | Devops Junction</a><p>S3 has become the cheap and best object storage and it is used widely across enterprises and products, to securely save and access data over the internet. We have various ways to interact with the S3 bucket,&nbsp; to upload, download and copy objects back and forth to S3. SDKs (&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../aws-cli-list-efs/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="AWS CLI EFS List" data-src="../../wp-content/uploads/2021/07/Screenshot-2021-07-24-at-1.34.33-PM-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2021/07/Screenshot-2021-07-24-at-1.34.33-PM-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="AWS CLI EFS List" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../aws-cli-list-efs/index.html'>AWS CLI List EFS Filesystem sort by Size</a><p>In this post we are going to see an aws cli command to list elastic file systems sorted by Size in ascending or descending order. While am sharing all the new tricks in AWS CLI I come across. this is something I have learnt recently There is a dedicated post&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../aws-change-instance-type-ec2/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2020/01/Screenshot-2020-01-19-at-6.13.28-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/01/Screenshot-2020-01-19-at-6.13.28-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../aws-change-instance-type-ec2/index.html'>AWS change instance type - From Console or AWS CLI</a><p>How to Change AWS Instance Type or EC2 instance type is more interesting and frequently asked question by many AWS Professionals. We create EC2 instances as t2, t3.micro but soon we realize that our requirements just got bigger for good and we need more CPU and RAM on our instance.&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../kubectl-cp-example/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>kubectl cp example &#8211; copy files to and from kubernetes pod &#038; containers</a></div><div class="nav-next"><a href="../kubernetes-version-kubectl/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>How to check Kubernetes and Kubectl Version | Devops Junction</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 75%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 75%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-8667 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=AWS+S3+Sync+Examples+%E2%80%93+Sync+S3+buckets+AWS+CLI&url=https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=AWS+S3+Sync+Examples+%E2%80%93+Sync+S3+buckets+AWS+CLI&body=https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://web.whatsapp.com/send?text=https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"8667 https:\/\/www.middlewareinventory.com\/?p=8667","disqusShortname":"mwinventory","disqusTitle":"AWS S3 Sync Examples \u2013 Sync S3 buckets AWS CLI","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/aws-s3-sync-example\/","postId":"8667"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"2019084a26"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"b4d440853b","post_id":"8667"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"0b980bed5f","ip":"198.12.66.232","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", function() {
			var if_ssb_exist = document.getElementsByClassName( "simplesocialbuttons" ).length > 0;
			if (if_ssb_exist) {
				var ssb_admin_ajax = 'https://www.middlewareinventory.com/wp-admin/admin-ajax.php';
				var ssb_post_id = 8667 ;
				var ssb_post_url = 'https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/';
				var ssb_alternate_post_url = 'https://airdata.gitlab.io/blog/blog/aws-s3-sync-example/';
				jQuery( document ).ready(function(){
				var is_ssb_used = jQuery('.simplesocialbuttons');
				if( is_ssb_used ) {

					var data = {
					'action': 'ssb_fetch_data',
					'postID': ssb_post_id
				};
					jQuery.post(ssb_admin_ajax, data, function(data, textStatus, xhr) {
						var array = JSON.parse(data);
						jQuery.each( array, function( index, value ){

							if( index == 'total' ){
								jQuery('.ssb_'+ index +'_counter').html(value + '<span>Shares</span>');
							}else{
								jQuery('.ssb_'+ index +'_counter').html(value);
							}
						});

					});
				}
				})

			//ssbPlugin.fetchFacebookShares();
			}
		});

		</script><script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657191631;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
</div>
</body>
</html>
