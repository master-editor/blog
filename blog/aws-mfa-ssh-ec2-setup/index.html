<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">

<title>Enabling Two Factor Authentication for EC2 SSH - AWS MFA Setup</title>
<meta name="description" content="AWS MFA Setup -How to Secure your SSH Authentication to EC2 instance with Google Authenticator multi factor authentication(MFA). aws ec2 ssh mfa. AWS Google auth. AWS SSH MFA Configuration. SSH Security with AWS EC2. Configure Google Authenticator in Ec2 instance and how to securely SSH into your EC2 server with MFA." />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Enabling Two Factor Authentication for EC2 SSH - AWS MFA Setup" />
<meta property="og:description" content="AWS MFA Setup -How to Secure your SSH Authentication to EC2 instance with Google Authenticator multi factor authentication(MFA). aws ec2 ssh mfa. AWS Google auth. AWS SSH MFA Configuration. SSH Security with AWS EC2. Configure Google Authenticator in Ec2 instance and how to securely SSH into your EC2 server with MFA." />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="https://www.facebook.com/rumenlishkov" />
<meta property="article:published_time" content="2020-02-08T14:37:43+00:00" />
<meta property="article:modified_time" content="2022-06-19T05:52:46+00:00" />
<meta property="og:image" content="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png" />
<meta property="og:image:width" content="3296" />
<meta property="og:image:height" content="1734" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["https://www.facebook.com/rumenlishkov","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://airdata.gitlab.io/blog/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#primaryimage","inLanguage":"en-US","url":"../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png","width":3296,"height":1734,"caption":"AWS MFA"},{"@type":"WebPage","@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#webpage","url":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/","name":"Enabling Two Factor Authentication for EC2 SSH - AWS MFA Setup","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#primaryimage"},"datePublished":"2020-02-08T14:37:43+00:00","dateModified":"2022-06-19T05:52:46+00:00","description":"AWS MFA Setup -How to Secure your SSH Authentication to EC2 instance with Google Authenticator multi factor authentication(MFA). aws ec2 ssh mfa. AWS Google auth. AWS SSH MFA Configuration. SSH Security with AWS EC2. Configure Google Authenticator in Ec2 instance and how to securely SSH into your EC2 server with MFA.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/"]}]},{"@type":"Article","@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#article","isPartOf":{"@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"Enabling Two Factor Authentication for EC2 SSH &#8211; AWS MFA Setup","datePublished":"2020-02-08T14:37:43+00:00","dateModified":"2022-06-19T05:52:46+00:00","mainEntityOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#webpage"},"commentCount":1,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#primaryimage"},"articleSection":"AWS","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Enabling Two Factor Authentication for EC2 SSH &#8211; AWS MFA Setup Comments Feed" href="feed/index.rss" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GMY2GVPFFX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GMY2GVPFFX');
</script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"3d8661396b"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://airdata.gitlab.io/blog/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/4602.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-aws-mfa-ssh-ec2-setup-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-aws-mfa-ssh-ec2-setup-&amp;format=xml.xml" />
<script>
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/" + ";secure;";
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/";
    if ( ! /(^|;)\s*cca_is_eu=/.test(document.cookie) ) {  // if check prevents reload loop
		  document.cookie = "cca_is_eu=false;max-age=" + 3600*24*364 + "; path=/";
      var ccaURL = window.location.protocol + '//',
      hostname = window.location.host + '/' + window.location.pathname;
			if ( '0' === '1' ) {
        window.location.reload( true );
      }
   }
</script>
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="Enabling Two Factor Authentication for EC2 SSH &#8211; AWS MFA Setup - Middleware Inventory" />
<meta property="og:description" content="Security is always a big thing. Protecting your data is very crucial when there are lot of people out waiting for a chance to exploit.

In Enterprise Infrastructure. We have various levels of security as follows

 	Internet Firewall and Gateway
 	Load balancer Restrictions and Constraints
 	Inbound and OutBound Proxy Servers
 	Dual Factor or Multi-Factor Authentication ( RSA / Duo / Google" />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Security is always a big thing. Protecting your data is very crucial when there are lot of people out waiting for a chance to exploit.

In Enterprise Infrastructure. We have various levels of security as follows

 	Internet Firewall and Gateway
 	Load balancer Restrictions and Constraints
 	Inbound and OutBound Proxy Servers
 	Dual Factor or Multi-Factor Authentication ( RSA / Duo / Google" />
<meta name="twitter:title" content="Enabling Two Factor Authentication for EC2 SSH &#8211; AWS MFA Setup - Middleware Inventory" />
<meta property="twitter:image" content="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://airdata.gitlab.io/blog/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">code
{
  color: rgb(232, 44, 88);
}

pre {
    border-radius: 6px;
    background-color: #fafafa !important;
    border: 1px solid #ececec;
    line-height: 20px;
}

blockquote {
    padding: 2%;
}
article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 22px;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-4602 single-format-standard wp-custom-logo cookies-not-set elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="160" height="120" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="160" height="120" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>

<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-4602" class="post-4602 post type-post status-publish format-standard has-post-thumbnail hentry category-aws wpautop">
<header class="entry-header">
<h1 class="entry-title">Enabling Two Factor Authentication for EC2 SSH &#8211; AWS MFA Setup</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="8:07 pm" rel="bookmark"><time class="entry-date published updated" datetime="June 19, 2022">June 19, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=Enabling%20Two%20Factor%20Authentication%20for%20EC2%20SSH%20%E2%80%93%20AWS%20MFA%20Setup&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-mfa-ssh-ec2-setup%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="4602" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=Enabling+Two+Factor+Authentication+for+EC2+SSH+%E2%80%93+AWS+MFA+Setup&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-mfa-ssh-ec2-setup%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="4602" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=Enabling%20Two%20Factor%20Authentication%20for%20EC2%20SSH%20%E2%80%93%20AWS%20MFA%20Setup&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-mfa-ssh-ec2-setup%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="4602" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-mfa-ssh-ec2-setup%2F&subject=Enabling%20Two%20Factor%20Authentication%20for%20EC2%20SSH%20%E2%80%93%20AWS%20MFA%20Setup" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="4602" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="4602" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<p><a href="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png"><img class="alignnone size-full wp-image-5742 lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x1010.png" alt="" width="3296" height="1734" data-src="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png 3296w, ../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM-300x158.png 300w, ../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM-768x404.png 768w, ../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM-1024x539.png 1024w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5742" src="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png" alt="" width="3296" height="1734" srcset="../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM.png 3296w, ../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM-300x158.png 300w, ../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM-768x404.png 768w, ../../wp-content/uploads/2020/02/Screenshot-2020-09-16-at-12.08.42-PM-1024x539.png 1024w" sizes="(max-width: 3296px) 100vw, 3296px" data-eio="l" /></noscript></a></p>
<p>Security is always a big thing. Protecting your data is very crucial when there are lot of people out waiting for a chance to exploit.</p>
<p>In Enterprise Infrastructure. We have various levels of security as follows</p>
<ul>
<li>Internet Firewall and Gateway</li>
<li>Load balancer Restrictions and Constraints</li>
<li>Inbound and OutBound Proxy Servers</li>
<li>Dual Factor or Multi-Factor Authentication ( RSA / Duo / Google Auth)</li>
<li>Fingerprint or Iris Scanner and what not.</li>
</ul>
<p>besides designing your application with no vulnerabilities and data leaks. A Good Enterprise has to protect their infrastructure as well, with those aforementioned methodologies.</p>
<p>in this post, we are going to take up one of the key element of Enterprise Security which is <strong>Securing the SSH to the Servers</strong></p>

<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Why_SSH_Security_is_Important" title="Why SSH Security is Important?">Why SSH Security is Important?</a></li><li><a href="#What_is_Two-factor_Authentication_or_Multi-Factor_Authentication" title="What is Two-factor Authentication (or) Multi-Factor Authentication">What is Two-factor Authentication (or) Multi-Factor Authentication</a></li><li><a href="#How_to_setup_Two_Factor_Authentication_for_SSH_in_AWS_EC2_AWS_MFA_Setup" title="How to setup Two Factor Authentication for SSH in AWS EC2 &#8211; AWS MFA Setup">How to setup Two Factor Authentication for SSH in AWS EC2 &#8211; AWS MFA Setup</a><ul><li><a href="#Step1_Install_EPEL_Repo_on_the_EC2_instance" title="Step1:  Install EPEL Repo on the EC2 instance">Step1:  Install EPEL Repo on the EC2 instance</a></li><li><a href="#Step2_Install_Google_Authenticator_on_the_EC2_instance" title="Step2:  Install Google Authenticator on the EC2 instance">Step2:  Install Google Authenticator on the EC2 instance</a></li><li><a href="#Step3_Configure_EC2_SSH_to_use_Google_Authentication_module" title="Step3: Configure EC2 SSH to use Google Authentication module">Step3: Configure EC2 SSH to use Google Authentication module</a></li><li><a href="#Step4_Configure_Google_Authenticator" title="Step4:  Configure Google Authenticator">Step4:  Configure Google Authenticator</a></li><li><a href="#Step5_Restart_SSH_services_on_the_EC2_server" title="Step5:  Restart SSH services  on the EC2 server">Step5:  Restart SSH services  on the EC2 server</a></li><li><a href="#Step6_SSH_to_validate_the_AWS_MFA_setup" title="Step6: SSH to validate the AWS MFA setup.">Step6: SSH to validate the AWS MFA setup.</a></li></ul></li><li><a href="#Video_Guide_VLOG" title="Video Guide &#8211; VLOG">Video Guide &#8211; VLOG</a></li><li><a href="#Conclusion" title="Conclusion">Conclusion</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Why_SSH_Security_is_Important"><span style="color: #003366;">Why <span style="color: #de1d81;">SSH Security</span> is Important?</span></span></h2>
<p>Whether it be an On-Prem or Cloud Server. Securing and monitoring your SSH is indispensable. Because SSH is directly connecting you to the server (Often with Special Privileges). A Single Mistake or a Chance would leave your enterprise Security and Confidential Data at Risk.</p>
<p>What if your employee with Special Privileges (root) has set a basic password for his SSH and Some middle man has guessed it right.</p>
<p><strong>Besides having Strong Password policies and implementing Key-based authentication</strong>. Most companies would solve this problem by adding one more level of security, often called as  Multi-factor or <strong>Two-factor authentication.</strong></p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="What_is_Two-factor_Authentication_or_Multi-Factor_Authentication"><span style="color: #003366;">What is <span style="color: #de1d81;">Two-factor</span> Authentication (or) <span style="color: #de1d81;">Multi-Factor</span> Authentication</span></span></h2>
<p>If you are working in IT infra. There are chances you might have heard this term <code><code></code></code><a href="https://www.rsa.com/en-us/products/rsa-securid-suite">RSA Token</a> and seen some devices like this. Most often people wear it in their ID cards too.</p>
<p><a href="../../wp-content/uploads/2019/12/rsa-token.gif"><img class="alignnone size-full wp-image-4603 lazyload" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 276'%3E%3C/svg%3E" alt="" width="500" height="276" data-src="../../wp-content/uploads/2019/12/rsa-token.gif" loading="lazy" /><noscript><img class="alignnone size-full wp-image-4603" src="../../wp-content/uploads/2019/12/rsa-token.gif" alt="" width="500" height="276" data-eio="l" /></noscript></a></p>
<p>These were the First Two-factor authentication devices I was aware of. We can call it as a Classic Two Factor Authentication Device.</p>
<p>There would be a 6 digit random number designed to change every 30 seconds or so I suppose. To login to the Secured networks and Servers, we had to enter this Pin number or Code displayed on the device.</p>
<p>This is a hardware-based Two-factor authentication device. There were other few hardware and Software-based two factor or multi-factor authentication devices as per my knowledge</p>
<ol>
<li><a href="https://www.entrustdatacard.com/products/categories/sms-passcode">Entrust SMS Passcode</a></li>
<li><a href="https://www.yubico.com/">Yubi Key</a></li>
<li><a href="https://duo.com/">Duo Authentication</a></li>
</ol>
<p>While all these being an Enterprise level advanced Two-factor authentication systems.</p>
<p><a href="../../wp-content/uploads/2019/12/GoogleAuth.png"><img class="alignleft wp-image-4604 size-medium lazyload" src="../../wp-content/ewww/lazy/placeholder-300x300.png" alt="" width="300" height="300" data-src="../../wp-content/uploads/2019/12/GoogleAuth-300x300.png" loading="lazy" data-srcset="../../wp-content/uploads/2019/12/GoogleAuth-300x300.png 300w, ../../wp-content/uploads/2019/12/GoogleAuth-150x150.png 150w, ../../wp-content/uploads/2019/12/GoogleAuth.png 512w" data-sizes="auto" /><noscript><img class="alignleft wp-image-4604 size-medium" src="../../wp-content/uploads/2019/12/GoogleAuth-300x300.png" alt="" width="300" height="300" srcset="../../wp-content/uploads/2019/12/GoogleAuth-300x300.png 300w, ../../wp-content/uploads/2019/12/GoogleAuth-150x150.png 150w, ../../wp-content/uploads/2019/12/GoogleAuth.png 512w" sizes="(max-width: 300px) 100vw, 300px" data-eio="l" /></noscript></a>There are also opensource two-factor authentication systems available. While there are few products available in this slab.</p>
<p><strong>Google Authenticator</strong> is a widely used Software-based Multi-Factor Authentication solution. It is same as RSA token working with Time-based One-time passcode strategy.</p>
<p>While this is freely available and comes from the Trusted company. Most of the web applications, servers, enterprises are using this to provide additional security to the user.</p>
<p>&nbsp;</p>

<p>By this time you might have figured out this article is going to use Google Authenticator as Multi-Factor authentication provider.</p>
<p>With no further ado. Let us go to our objective.</p>
<p>In this post, we are going to choose some secure approach of using a Single Server as our Gateway or Jump Server from where you can log in to the other servers in your infrastructure.</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="How_to_setup_Two_Factor_Authentication_for_SSH_in_AWS_EC2_AWS_MFA_Setup"><span style="color: #003366;">How to setup <span style="color: #de1d81;">Two Factor Authentication</span> for SSH in AWS <span style="color: #de1d81;">EC2</span> &#8211; AWS MFA Setup</span></span></h2>
<ol>
<li>Install EPEL Repo</li>
<li>Install Google Authenticator on EC2 Instance</li>
<li>Configure EC2 SSH to use Google Authentication module
<ol>
<li>Setup Google Authenticator module</li>
<li>Configure Auth methods in SSHd config file</li>
</ol>
</li>
<li>Configure Google Authenticator in Mobile &amp; EC2
<ol>
<li>Download and Install the GoogleAuthenticator in mobile</li>
<li>Run Google Authenticator on EC2 and Get QR code</li>
<li>Scan the Shown QR code in your Google Authenticator App</li>
<li>Complete the Google Authenticator Setup in EC2</li>
</ol>
</li>
<li>Restart SSH Services on the EC2 instance</li>
<li>Login to the server and validate</li>
<li>Video GUIDE of how to perform these steps</li>
</ol>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Step1_Install_EPEL_Repo_on_the_EC2_instance">Step1:  Install EPEL Repo on the EC2 instance</span></h3>
<p>Google Authenticator is part of the EPEL repo and you should install the EPEL repo in your EC2 instance.</p>
<p>In my case, I am using Amazon EC2 Instance (OS) and I can download my EPEL 7 and install like this</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-attribute" style="color: #e84d93; font-weight: 400;">sudo</span> <span style="color: #e84d93;">yum</span> install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Step2_Install_Google_Authenticator_on_the_EC2_instance">Step2:  Install Google Authenticator on the EC2 instance</span></h3>
<p>The following command would install the Google Authenticator.  The package name may vary if your Operating system is different so you can perform a quick search using <code>yum search google</code> to find the right package name</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-attribute" style="color: #e84d93; font-weight: 400;">sudo yum</span> install google-authenticator.x86_64 -y</pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Step3_Configure_EC2_SSH_to_use_Google_Authentication_module">Step3: Configure EC2 SSH to use Google Authentication module</span></h3>
<p>In this step, we are going to perform some file modifications and editing to install google authentication and to setup MFA in this EC2 instance.</p>
<p><strong>Step3a: Update the <code>sshd</code> PAM</strong> <strong>and install Google authenticator module</strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-attribute" style="color: #e84d93; font-weight: 400;">sudo</span> vi /etc/pam.d/sshd</pre>
<p>Add the following to the bottom of the file to use Google Authenticator. If there are service accounts or users who should be able to log in without MFA, add <code>nullok</code> at the end of the following statement. This will mean that users who don’t run Google Authenticator initialization won’t be asked for a second authentication.</p>
<p><code class=" language-bash">auth required pam_google_authenticator<span class="token punctuation">.</span>so</code> or</p>
<p><code class=" language-bash">auth required pam_google_authenticator<span class="token punctuation">.</span>so nullok</code></p>
<p>Comment out the password requirement as we want to use only the key-based authentication.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-comment" style="color: #999988; font-style: italic;"><span style="color: #000000;">#auth       substack     password-auth</span> </span></pre>
<p>Don&#8217;t forget to Save the file.</p>
<p>&nbsp;</p>
<p><strong>Step3b: Update the <code>sshd</code> configuration </strong></p>
<p>In this step we are going to tell <code>sshd</code> that we have one more level of multifactor authentication for the user to login along with the Keybased auth.</p>
<p>This step is to make <code>sshd</code> daemon to prompt the user for the Verification Code.</p>
<p>Edit the file as root</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-attribute" style="color: #e84d93; font-weight: 400;">sudo</span> vi /etc/ssh/sshd_config</pre>
<p>&nbsp;</p>
<p>Comment out the line which says ChallengeResponseAuthentication ‘no’ and uncomment the line which says ‘yes’.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span style="color: #000000;"><span class="hljs-attribute" style="font-weight: 400; color: #e84d93;">ChallengeResponseAuthentication</span> yes</span>
<span class="hljs-comment" style="color: #000000; font-style: italic;">#ChallengeResponseAuthentication no</span></pre>
<p>Finally, we need to let <code>sshd</code> daemon know that it should ask the user for an SSH key and a verification code</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-attribute" style="color: #e84d93; font-weight: 400;">AuthenticationMethods</span> publickey,keyboard-interactive</pre>
<p>Save the file.</p>
<h3><span class="ez-toc-section" id="Step4_Configure_Google_Authenticator">Step4:  Configure Google Authenticator</span></h3>
<p>It has two phases or two levels of configuration.</p>
<p><strong>Step4a) Install Google Authenticator</strong></p>
<p>First task has to be done at your mobile where you need to download the <code>Google Authenticator</code> App from play store or App store</p>
<p><a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&amp;hl=en_IN">Get it from Playstore </a></p>
<p><a href="https://apps.apple.com/in/app/google-authenticator/id388497605">Get it from App Store: </a></p>
<p>Once you have downloaded keep it ready and come back to the server to perform the next task.</p>

<p><strong>Step 4b) Run Google Authenticator on EC2 and Get QR code</strong></p>
<p>Once you have the Google Authenticator installed in your mobile you are ready to perform the second phase of this configuration.</p>
<p>the second phase should be performed at the ec2 server.</p>
<blockquote><p><strong> Note: </strong></p>
<p>This step has to be executed as the user to whom you want to set the MFA or Multi factor authentication. <code>ec2-user</code> or <code>root</code> or <code>ubuntu</code>  or even as your personal userid which you have created in this EC2 instance.</p>
<p>&nbsp;</p></blockquote>
<p>run the following command as the user of your choice in my case it is <code>ec2-user</code></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span style="color: #000000;"> <span class="hljs-attribute" style="font-weight: 400;">google</span>-authenticator</span></pre>
<p>After the first question, it would show you the QR code and the Secret Key</p>
<p>&nbsp;</p>
<p><strong>Step 4c) Scan the Shown QR code in your Google Authenticator App</strong></p>
<p>Now take your mobile and go to <code>Google Authenticator</code> App and click on the <code>plus sign</code> on the bottom right corner</p>
<p><a href="../../wp-content/uploads/2020/02/AWSMFASetup-1.png"><img class="alignnone size-full wp-image-5061 lazyload" src="../../wp-content/ewww/lazy/placeholder-490x900.png" alt="" width="490" height="900" data-src="../../wp-content/uploads/2020/02/AWSMFASetup-1.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/02/AWSMFASetup-1.png 490w, ../../wp-content/uploads/2020/02/AWSMFASetup-1-163x300.png 163w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5061" src="../../wp-content/uploads/2020/02/AWSMFASetup-1.png" alt="" width="490" height="900" srcset="../../wp-content/uploads/2020/02/AWSMFASetup-1.png 490w, ../../wp-content/uploads/2020/02/AWSMFASetup-1-163x300.png 163w" sizes="(max-width: 490px) 100vw, 490px" data-eio="l" /></noscript></a></p>
<p>Click on the Scan a barcode option</p>
<p><a href="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM.png"><img class="alignnone size-full wp-image-5062 lazyload" src="../../wp-content/ewww/lazy/placeholder-480x886.png" alt="AWS MFA SETUP" width="480" height="886" data-src="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM.png 480w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM-163x300.png 163w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5062" src="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM.png" alt="AWS MFA SETUP" width="480" height="886" srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM.png 480w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.31.33-PM-163x300.png 163w" sizes="(max-width: 480px) 100vw, 480px" data-eio="l" /></noscript></a></p>
<p>Scan the barcode</p>
<p><a href="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM.png"><img class="alignnone size-full wp-image-5063 lazyload" src="../../wp-content/ewww/lazy/placeholder-482x1016.png" alt="" width="482" height="1016" data-src="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM.png 482w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM-142x300.png 142w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5063" src="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM.png" alt="" width="482" height="1016" srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM.png 482w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-08-at-6.32.04-PM-142x300.png 142w" sizes="(max-width: 482px) 100vw, 482px" data-eio="l" /></noscript></a></p>
<p>Once it has been added come back to your terminal</p>

<p><strong>Step 4d) Complete the Google Authenticator Setup in EC2</strong></p>
<p>Once you have crossed the QR code section, You would be prompted 4 more questions</p>
<p>Here are my answers. (Refer the following snippet)</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span class="hljs-string" style="color: #dd1144;">[<a href="../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="593c3a6b742c2a3c2b19302974686e6b746a6874616a74686168">[email&#160;protected]</a> ~]</span># google-authenticator

Do you want authentication tokens to be time-based (y/n) y

******* THERE WOULD BE A QR CODE DISPLAYED HERE ****
 

Your new secret key is: 2IAROUZWA6ZRSRRR89ZLYNZUC2A
Your verification code is <span class="hljs-number" style="color: teal;">601376</span>
Your emergency scratch codes are:
  <span class="hljs-number" style="color: teal;">85535499</span>
  <span class="hljs-number" style="color: teal;">25397636</span>
  <span class="hljs-number" style="color: teal;">98473698</span>
  <span class="hljs-number" style="color: teal;">70322035</span>
  <span class="hljs-number" style="color: teal;">60012461</span>

Do you want me to update your <span class="hljs-string" style="color: #dd1144;">"/root/.google_authenticator"</span> file? (y/n) y

Do you want to disallow multiple uses of the same authentication
token? This restricts you to one login about every 30s, but it increases
your chances to notice or even prevent man-in-the-middle attacks (y/n) y

By default, a new token is generated every <span class="hljs-number" style="color: teal;">30</span> seconds by the mobile app.
In order to compensate for possible time-skew between the client and the server,
we allow an extra token before and after the current time. This allows for a
time skew of up to <span class="hljs-number" style="color: teal;">30</span> seconds between authentication server and client. If you
experience problems with poor time synchronization, you can increase the window
from its default size of <span class="hljs-number" style="color: teal;">3</span> permitted codes (one previous code, the current
code, the next code) to <span class="hljs-number" style="color: teal;">17</span> permitted codes (the <span class="hljs-number" style="color: teal;">8</span> previous codes, the current
code, and the <span class="hljs-number" style="color: teal;">8</span> next codes). This will permit for a time skew of up to <span class="hljs-number" style="color: teal;">4</span> minutes
between client and server.
Do you want to do so? (y/n) n

If the computer that you are logging into isn't hardened against brute-force
login attempts, you can enable rate-limiting for the authentication module.
By default, this limits attackers to no more than <span class="hljs-number" style="color: teal;">3</span> login attempts every 30s.
Do you want to enable rate-limiting? (y/n) y
</pre>
<p>That&#8217;s it. You have successfully set up Google Authenticator with AWS EC2 instance</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Step5_Restart_SSH_services_on_the_EC2_server">Step5:  Restart SSH services  on the EC2 server</span></h3>
<p>Now as the last step in our endeavour, we need to restart the <code>sshd</code> service as root</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;"><span style="color: #e84d93;"><span class="hljs-attribute" style="font-weight: 400;">sudo</span> service</span> sshd restart</pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Step6_SSH_to_validate_the_AWS_MFA_setup">Step6: SSH to validate the AWS MFA setup.</span></h3>
<p>Now use the same way you used to login to the EC2 instance.</p>
<p>If everything was done perfectly.  you would be prompted for a verification code</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: #333333; background: #f8f8f8;">➜ ~ <span class="hljs-attribute" style="color: #e84d93; font-weight: 400;">ssh</span> -i ~/Downloads/mykeypair.pem <span style="color: #e84d93;">ec2-user</span>@3.95.13.122
<span style="color: #003366;"><span class="hljs-attribute" style="font-weight: 400;">Verification</span> code:</span></pre>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Video_Guide_VLOG"><span style="color: #003366;">Video Guide &#8211; VLOG</span></span></h2>
<div data-nosnippet>
<iframe title="AWS EC2 MFA Setup - Secure SSH with Google Authenticator" width="840" height="473" src="https://www.youtube.com/embed/iOb6eZJqj-k?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

<h2><span class="ez-toc-section" id="Conclusion"><span style="color: #003366;">Conclusion</span></span></h2>
<p>In this post, we have successfully learnt how to setup AWS MFA and enable MFA (Multi-factor authentication) for SSH in aws ec2 server using Google Authenticator.</p>
<p>Hope it helps.</p>
<p>If you like this article share it among your peers.</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#c2aaa7aeaead82a5b0abb6a4bbeca1adaf"> <span class="__cf_email__" data-cfemail="fa929f969695ba9d88938e9c83d4999597">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657191276" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="4602" />
<input type="hidden" name="es_email_page_url" value="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="915ddf1a10" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657191276" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657191276"></span>
</div>
</div>
<hr>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../aws-cli-ec2/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2020/01/Screenshot-2019-11-22-at-4.24.52-PM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/01/Screenshot-2019-11-22-at-4.24.52-PM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../aws-cli-ec2/index.html'>AWS EC2 CLI List Examples - Describe instances | Devops Junction</a><p>AWS CLI is a very great help when it comes to efficiently managing your AWS Cloud Infrastructure and your EC2 instances. While we are managing our AWS Infrastructure,&nbsp; we cannot always afford to login to the AWS console all the time and it is not recommended from the security perspective&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-ec2-ssh-key/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="add ssh key to EC2 instance" data-src="../../wp-content/uploads/2019/11/Screenshot-2020-11-07-at-7.00.04-AM-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/11/Screenshot-2020-11-07-at-7.00.04-AM-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="add ssh key to EC2 instance" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-ec2-ssh-key/index.html'>Add SSH Key to EC2 instances with Ansible - Automated</a><p>Whether it is On-Prem (or) Cloud-hosted, A Typical Non-Containerized Enterprise infrastructure would have ample of Virtual Machines aka Servers [ Linux ] Let us suppose that you work for the DevOps team of a Big Organization where you manage 100+ ec2 instances. You have a new hire in your team&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-aws-ec2/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible EC2 Create" data-src="../../wp-content/uploads/2019/12/Screenshot-2019-12-02-at-2.07.39-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/12/Screenshot-2019-12-02-at-2.07.39-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible EC2 Create" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-aws-ec2/index.html'>Ansible EC2 Example - Create EC2 instance with Ansible</a><p>Infrastructure as Code is getting all attention it deserves and everyone is trying to find their way to the `Completely automated Infrastructure Provisioning &amp; Management` While there are a lot of tools available now in the market starting from Terraform, AWS CloudFormation, Chef, Puppet, Salt Stack There are some differences&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../enable-ssh-key-based-authentication-ssh-without-password/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="SSH without Password Key Based Authentication" data-src="../../wp-content/uploads/2018/07/KeyBasedAuth-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2018/07/KeyBasedAuth-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="SSH without Password Key Based Authentication" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../enable-ssh-key-based-authentication-ssh-without-password/index.html'>How to enable SSH Key based authentication - Passwordless SSH</a><p>How to SSH without Password into remote Linux Server is the question that every Engineer working on Linux might have come across. Sometimes the Question we seek could be different like ssh command without password ssh to the remote server without password SSH without password from Shell Script SCP to&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../terraform-aws-example-ec2/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2020/01/TerraformAWS-1-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/01/TerraformAWS-1-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../terraform-aws-example-ec2/index.html'>Terraform AWS Example - Create EC2 instance with Terraform</a><p>Terraform, An outstanding and innovative product from hashicorp and it is a leader in Infrastructure as Code tools Segment.&nbsp; Before I go any further, I think I should set the context. In this article, we are going to learn how to use Terraform to create AWS EC2 instance and create&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../es5_es6_es7/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>Helpful ES5 ES6 ES7 JavaScript Methods and Functions.</a></div><div class="nav-next"><a href="../ansible-apt-examples/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>Ansible apt module Examples &#8211; install packages with apt | Devops Junction</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 75%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 75%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-4602 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=Enabling+Two+Factor+Authentication+for+EC2+SSH+%E2%80%93+AWS+MFA+Setup&url=https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=Enabling+Two+Factor+Authentication+for+EC2+SSH+%E2%80%93+AWS+MFA+Setup&body=https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://api.whatsapp.com/send?text=https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"4602 https:\/\/www.middlewareinventory.com\/?p=4602","disqusShortname":"mwinventory","disqusTitle":"Enabling Two Factor Authentication for EC2 SSH \u2013 AWS MFA Setup","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/aws-mfa-ssh-ec2-setup\/","postId":"4602"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"2019084a26"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"b4d440853b","post_id":"4602"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"0b980bed5f","ip":"108.4.241.230","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", function() {
			var if_ssb_exist = document.getElementsByClassName( "simplesocialbuttons" ).length > 0;
			if (if_ssb_exist) {
				var ssb_admin_ajax = 'https://www.middlewareinventory.com/wp-admin/admin-ajax.php';
				var ssb_post_id = 4602 ;
				var ssb_post_url = 'https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/';
				var ssb_alternate_post_url = 'https://airdata.gitlab.io/blog/blog/aws-mfa-ssh-ec2-setup/';
				jQuery( document ).ready(function(){
				var is_ssb_used = jQuery('.simplesocialbuttons');
				if( is_ssb_used ) {

					var data = {
					'action': 'ssb_fetch_data',
					'postID': ssb_post_id
				};
					jQuery.post(ssb_admin_ajax, data, function(data, textStatus, xhr) {
						var array = JSON.parse(data);
						jQuery.each( array, function( index, value ){

							if( index == 'total' ){
								jQuery('.ssb_'+ index +'_counter').html(value + '<span>Shares</span>');
							}else{
								jQuery('.ssb_'+ index +'_counter').html(value);
							}
						});

					});
				}
				})

			//ssbPlugin.fetchFacebookShares();
			}
		});

		</script><script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657191276;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
</div>
</body>
</html>
