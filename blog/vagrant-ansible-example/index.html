<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

<title>Ansible Vagrant Example - Testing Ansible with Vagrant | Devops Junction</title>
<meta name="description" content="Vagrantfile example and an Introduction to Vagrant and ansible. A post with examples and video. Step by Step. vagrantfile example for a virtual box to perform, Vagrant provision example and how to use vagrant with oracle virtual box. How to install and configure vagrant and ansible. vagrantfile examples." />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Ansible Vagrant Example - Testing Ansible with Vagrant | Devops Junction" />
<meta property="og:description" content="Vagrantfile example and an Introduction to Vagrant and ansible. A post with examples and video. Step by Step. vagrantfile example for a virtual box to perform, Vagrant provision example and how to use vagrant with oracle virtual box. How to install and configure vagrant and ansible. vagrantfile examples." />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="https://www.facebook.com/rumenlishkov" />
<meta property="article:published_time" content="2018-07-11T05:49:03+00:00" />
<meta property="article:modified_time" content="2022-11-10T19:18:12+00:00" />
<meta property="og:image" content="../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg" />
<meta property="og:image:width" content="2560" />
<meta property="og:image:height" content="1440" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["https://www.facebook.com/rumenlishkov","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://airdata.gitlab.io/blog/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#primaryimage","inLanguage":"en-US","url":"../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg","width":2560,"height":1440,"caption":"Ansible Vagrant"},{"@type":"WebPage","@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#webpage","url":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/","name":"Ansible Vagrant Example - Testing Ansible with Vagrant | Devops Junction","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#primaryimage"},"datePublished":"2018-07-11T05:49:03+00:00","dateModified":"2022-11-10T19:18:12+00:00","description":"Vagrantfile example and an Introduction to Vagrant and ansible. A post with examples and video. Step by Step. vagrantfile example for a virtual box to perform, Vagrant provision example and how to use vagrant with oracle virtual box. How to install and configure vagrant and ansible. vagrantfile examples.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/"]}]},{"@type":"Article","@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#article","isPartOf":{"@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"Ansible Vagrant Example &#8211; Testing Ansible with Vagrant | Devops Junction","datePublished":"2018-07-11T05:49:03+00:00","dateModified":"2022-11-10T19:18:12+00:00","mainEntityOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#webpage"},"commentCount":0,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#primaryimage"},"keywords":"Ansible server provisioning example,Beginners practical example guide for Vagrant and Ansible,How to provision apache webserver with Ansible,Server provisioning in Vagrant example,Server provisioning with Ansible and Vagrant,Vagrant and Ansible,Vagrant practical tutorial,Vagrant server provisioning example","articleSection":"Ansible,DevOps_Beginner,Vagrant","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Ansible Vagrant Example &#8211; Testing Ansible with Vagrant | Devops Junction Comments Feed" href="feed/index.rss" />
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/09591.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/551a8.css" media="all" />
<script src="../../wp-content/cache/minify/c7035.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/2975f.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://airdata.gitlab.io/blog/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/1435.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-vagrant-ansible-example-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-vagrant-ansible-example-&amp;format=xml.xml" />
<script>
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/" + ";secure;";
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/";
    if ( ! /(^|;)\s*cca_is_eu=/.test(document.cookie) ) {  // if check prevents reload loop
		  document.cookie = "cca_is_eu=false;max-age=" + 3600*24*364 + "; path=/";
      var ccaURL = window.location.protocol + '//',
      hostname = window.location.host + '/' + window.location.pathname;
			if ( '0' === '1' ) {
        window.location.reload( true );
      }
   }
</script>
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script><style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://airdata.gitlab.io/blog/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">article h2
{
    background-color: #29558c;
    color: white;
    padding-left: 1%;
    border-left: 15px solid crimson;
    font-weight: 400;
    font-size: 22px;
}
blockquote {
     padding: 2%;
}
pre
{
  display: block; 
  overflow-x: auto; 
  padding-left: 2em;
  padding-top: 3em;
  padding-bottom: 3em;
  background: #eaeef3 none repeat scroll 0% 0%; 
  color: #00193a;
}
div.enlighter{
  font-size: 1.2em;  
}
.enlighter-default {
    font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

li {
    padding: 2px;
    margin-left: 2%;
}



</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-1435 single-format-standard wp-custom-logo cookies-not-set et_divi_builder et-pb-theme-poseidon et-db elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="160" height="120" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="160" height="120" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>
<li id="menu-item-8820" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8820"><a href="../../newsletter/index.html">Newsletter</a></li>
<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-1435" class="post-1435 post type-post status-publish format-standard has-post-thumbnail hentry category-ansible category-devops_beginner category-vagrant tag-ansible-server-provisioning-example tag-beginners-practical-example-guide-for-vagrant-and-ansible tag-how-to-provision-apache-webserver-with-ansible tag-server-provisioning-in-vagrant-example tag-server-provisioning-with-ansible-and-vagrant tag-vagrant-and-ansible tag-vagrant-practical-tutorial tag-vagrant-server-provisioning-example wpautop">
<header class="entry-header">
<h1 class="entry-title">Ansible Vagrant Example &#8211; Testing Ansible with Vagrant | Devops Junction</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="11:19 am" rel="bookmark"><time class="entry-date published updated" datetime="November 11, 2022">November 11, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=Ansible%20Vagrant%20Example%20%E2%80%93%20Testing%20Ansible%20with%20Vagrant%20%7C%20Devops%20Junction&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fvagrant-ansible-example%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="1435" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=Ansible+Vagrant+Example+%E2%80%93+Testing+Ansible+with+Vagrant+%7C+Devops+Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fvagrant-ansible-example%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="1435" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=Ansible%20Vagrant%20Example%20%E2%80%93%20Testing%20Ansible%20with%20Vagrant%20%7C%20Devops%20Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fvagrant-ansible-example%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="1435" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fvagrant-ansible-example%2F&subject=Ansible%20Vagrant%20Example%20%E2%80%93%20Testing%20Ansible%20with%20Vagrant%20%7C%20Devops%20Junction" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="1435" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="1435" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<p>In this article, we are going to see how to use Vagrant to create a development of Virtual machines and start practising Ansible.</p>
<p>This is A Beginner article for both Ansible and Vagrant.</p>
<p>I remember the days where I used to struggle with  Vmware workstation (or) virtual box to setup network configuration for my Virtual machines and banging my head to take the putty session to the Guest VM.</p>
<p>Then I was introduced to Vagrant and am never going back!.</p>
<p>On the other hand.  Ansible is an innovative tool for automation and infrastructure and application management.</p>
<p>A promise for the present and future.   In the DevOps sector (or) platform services sector or in any IT infrastructure sector you take,  Ansible is an uprising and rapidly being adopted product.</p>
<p>This post is going to be all about Vagrant and Ansible and How Ansible vagrant works together in Server Provisioning</p>
<p><a href="../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg"><img class="alignnone size-full wp-image-6253 lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x1080.png" alt="Ansible Vagrant" width="2560" height="1440" data-src="../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg" loading="lazy" data-srcset="../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg 2560w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-300x169.jpg 300w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-1024x576.jpg 1024w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-768x432.jpg 768w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-1536x864.jpg 1536w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-2048x1152.jpg 2048w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-6253" src="../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg" alt="Ansible Vagrant" width="2560" height="1440" srcset="../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-scaled.jpg 2560w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-300x169.jpg 300w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-1024x576.jpg 1024w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-768x432.jpg 768w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-1536x864.jpg 1536w, ../../wp-content/uploads/2018/07/Screenshot-2020-10-19-at-2.22.13-AM-2048x1152.jpg 2048w" sizes="(max-width: 2560px) 100vw, 2560px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#What_is_Vagrant" title="What is Vagrant">What is Vagrant</a></li><li><a href="#What_is_Ansible" title="What is Ansible">What is Ansible</a></li><li><a href="#Install_Oracle_Virtual_Box" title="Install Oracle Virtual Box">Install Oracle Virtual Box</a></li><li><a href="#Install_Vagrant" title="Install Vagrant">Install Vagrant</a></li><li><a href="#Validate_the_Version_of_your_Vagrant" title="Validate the Version of your Vagrant">Validate the Version of your Vagrant</a></li><li><a href="#Choose_your_Box_Operating_System" title="Choose your Box ( Operating System )">Choose your Box ( Operating System )</a></li><li><a href="#How_to_download_a_new_box_in_Vagrant" title="How to download a new box in Vagrant">How to download a new box in Vagrant</a></li><li><a href="#Create_your_First_Virtual_Machine_with_Vagrant" title="Create your First Virtual Machine with Vagrant">Create your First Virtual Machine with Vagrant</a></li><li><a href="#The_configuration_of_our_VM" title="The configuration of our VM">The configuration of our VM</a></li><li><a href="#The_Vagrantfile_for_our_VM" title="The Vagrantfile for our VM">The Vagrantfile for our VM</a></li><li><a href="#Ansible_playbook_and_its_artifacts" title="Ansible playbook and its artifacts">Ansible playbook and its artifacts</a></li><li><a href="#Create_the_VM_and_Start_the_Server_Provisioning_Vagrant_ansible" title="Create the VM and Start the Server Provisioning &#8211; Vagrant ansible">Create the VM and Start the Server Provisioning &#8211; Vagrant ansible</a></li><li><a href="#The_Execution_Output_of_Vagrant_ansible_example_26_seconds" title="The Execution Output of Vagrant ansible example ( 26 seconds )">The Execution Output of Vagrant ansible example ( 26 seconds )</a></li><li><a href="#Vagrant_Ansible_In_Action_VLOG" title="Vagrant Ansible In Action &#8211; VLOG">Vagrant Ansible In Action &#8211; VLOG</a></li><li><a href="#Vagrantfile_example_with_Multiple_Virtual_machines" title="Vagrantfile example with Multiple Virtual machines">Vagrantfile example with Multiple Virtual machines</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="What_is_Vagrant"><strong>What is Vagrant</strong></span></h2>
<p>According to Hashicorp. A company who developed vagrant. Vagrant is</p>
<blockquote><p>Vagrant is a tool for building and managing virtual machine environments in a single workflow. With an easy-to-use workflow and focus on automation</p></blockquote>
<p>In simple words.</p>
<ol>
<li>Vagrant is a server provisioning tool</li>
<li>It uses virtualisation providers like Oracle Virtual box to create VMs</li>
<li>It just provides an efficient way to demonstrate the VMs created in Oracle Virtual box  (or) other virtualisation providers.</li>
<li>Vagrant has its commands.</li>
<li>Vagrant works as a layer on top of the Virtualization provider.</li>
<li>It can also be considered as a Virtual machine management System</li>
<li>You can create Virtual machines and provision them by typing few lines of code in a configuration file named <strong>&#8220;Vagrantfile.&#8221;</strong></li>
<li>Vagrant is a minimal form of <strong>Infrastructure as Code </strong>concept and intended for development infrastructure building/provisioning where  <a href="https://www.terraform.io/"><strong>Terraform</strong></a> is a full-fledged IaC product from the same company (Hashicorp)  is a leader in the IaC market.</li>
</ol>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="What_is_Ansible"><strong>What is Ansible</strong></span></h2>
<p>Ansible is an agentless Simple IT Automation software/tool which helps to automate any Application Management, Configuration Management, Infrastructure management tasks.</p>
<p>What makes Ansible a leader in IT Automation.</p>
<div class="page" title="Page 17">
<div class="layoutArea">
<div class="column">
<ol>
<li><strong>Clear</strong> &#8211; Ansible uses a simple syntax (YAML) and is easy for anyone (developers, sysadmins, managers) to understand. APIs are simple and sensible.</li>
<li><strong>Fast &#8211; </strong>Fast to learn, fast to setup —especially considering you don’t need to install extra agents or daemons on all your servers!</li>
<li><strong>Complete</strong> &#8211; Ansible does three things in one and does them very well. Ansible’s ‘batteries included’ approach means you have everything you need in one complete package.</li>
<li><strong>Efficient</strong> &#8211; No extra software on your servers means more resources for your applications. Also, since Ansible modules work via JSON, Ansible is extensible with modules written in a programming language you already know.</li>
<li>
<div class="page" title="Page 18">
<div class="layoutArea">
<div class="column">
<p><strong>Secure</strong>-AnsibleusesSSH, and requires no extra open ports or potentially &#8211; vulnerable daemons on your servers.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Let&#8217;s go ahead and see how to install and configure Ansible and Vagrant.</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Install_Oracle_Virtual_Box">Install Oracle Virtual Box</span></h2>
<p>As said earlier, Vagrant works as a layer on top of virtualisation software aka hypervisor like  Oracle Virtual box (or) Vmware workstation. Oracle Virtual box and Vagrant are widely used pair of choice.</p>
<p><a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></p>
<p><strong>Note*:</strong> In this post, we have used <strong>Oracle Virtual box</strong> as a hypervisor (or) provider</p>
<h2></h2>
<h2><span class="ez-toc-section" id="Install_Vagrant">Install Vagrant</span></h2>
<p>Vagrant can be downloaded and install in your Windows (or) Mac machines; you can also have it installed in Linux based operating systems.</p>
<p><a href="https://www.vagrantup.com/downloads.html">https://www.vagrantup.com/downloads.html</a></p>
<p>Considering that you have installed the Oracle Virtual box and Vagrant. Let us walk into the magic of Vagrant, by creating our first VM.</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Validate_the_Version_of_your_Vagrant">Validate the Version of your Vagrant</span></h2>
<p>Once you have installed Vagrant go to your command-line tool.</p>
<p>cmd for windows, terminal for Mac. and enter the following command to make sure that the vagrant is installed properly</p>
<pre>vagrant version</pre>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Choose_your_Box_Operating_System">Choose your Box ( Operating System )</span></h2>
<p>In Vagrant operating system image is called as Box. Like any traditional VM creation strategy, for any VM creation, we must have an ISO package of the Operating system</p>
<p>Unlike the traditional way of downloading the ISO images directly by your self from the vendor websites.</p>
<p>Vagrant gives you an easy way or a platform to search and download the operating systems of your choice.</p>
<p><a href="https://app.vagrantup.com/boxes/search?utf8=%E2%9C%93&amp;sort=downloads&amp;provider=&amp;q=">Vagrant Cloud</a> is a repository of these Boxes (images), where you can discover various fresh operating systems (or) a complete ready to load an image with infrastructure like LAMP stack.</p>
<p>Everything you might ever need is right there in the Vagrant cloud. If not, you do it on your own and upload it for other pioneers who gonna come in future.</p>
<p><strong>Note*:</strong> For this post, I am taking a normal <strong>cent os 7 box </strong>named as <strong>&#8220;geerlingguy/centos7&#8221;</strong></p>
<h2></h2>
<h2><span class="ez-toc-section" id="How_to_download_a_new_box_in_Vagrant">How to download a new box in Vagrant</span></h2>
<p>There are two  methods to download a box to your local vagrant</p>
<p><strong>Auto Download</strong></p>
<p>You can note down the name of the box from the cloud like &#8220;geerlingguy/centos7&#8221; and mention it as your box name in your <strong>Vagrantfile</strong></p>
<p>When you are provisioning (or) bring up your VM for the first time with <code>vagrant up</code>command.  Vagrant will check the availability of the box in local,</p>
<p><strong>If the box mentioned in Vagrantfile is not available in local.  It will try to download it from the Vagrant Cloud</strong></p>
<pre class="EnlighterJSRAW" data-enlighter-language="ruby" data-enlighter-theme="bootstrap4">Vagrant.configure("2") do |config|
 config.vm.box = "geerlingguy/centos7"
end</pre>
<p>&nbsp;</p>
<p><strong>Manual </strong></p>
<p>You can also download the boxes and manage it using with vagrant command line. In order to download and add the box manually to your vagrant. just execute the following command.</p>
<pre>vagrant box add geerlingguy/centos7</pre>
<p>&nbsp;</p>
<p>To get a list of boxes downloaded and available in vagrant (local), use the following command</p>
<pre>vagrant box list</pre>
<p>&nbsp;</p>
<blockquote><p><strong>Note*:</strong> There are various other commands in vagrant for box management and  VM management etc.  You can find the <strong>Vagrant command cheat sheet</strong> <a href="https://gist.github.com/wpscholar/a49594e2e2b918f4d0c4">here</a></p></blockquote>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Create_your_First_Virtual_Machine_with_Vagrant">Create your First Virtual Machine with Vagrant</span></h2>
<p>As said earlier, Vagrant works based on a configuration file named <strong>&#8220;Vagrantfile&#8221; . </strong>This is written in ruby.</p>
<p>To create a new VM, you must have the <strong>Vagrantfile</strong> ready with the proper configuration.  To get a Vagrantfile, you could use the following command</p>
<pre>vagrant init</pre>
<p>This will result in creating a new file named &#8220;Vagrantfile&#8221; in the present working directory.</p>
<p>If you open the Vagrantfile you could see tons of commented lines with only three uncommented lines.</p>
<p>if you want to cut down that comments. you have to initialize the vagrant with <code>--minimal</code> parameter like shown below.</p>
<pre>vagrant init &#8211; minimal</pre>
<p>it would create a Vagrantfile with very minimal content as follows</p>
<pre class="EnlighterJSRAW" data-enlighter-language="ruby" data-enlighter-theme="bootstrap4">Vagrant.configure("2") do |config| 
    config.vm.box = "base" 
end</pre>
<p>&nbsp;</p>
<p>but this is for <strong>default </strong>basic VM provisioning where the Virtual machine will be created with the basic minimal OS being provided by hashicorp.</p>
<p>To initialize vagrant with a specific box (image) instead of the<strong> base. </strong>you have to execute the vagrant init along with the box name at the end.</p>
<pre>vagrant init geerlingguy/centos7</pre>
<p>Though you mentioned the box name here.  There would be no more changes in the content except in the line <code>config.vm.box = "base"</code>  base would be replaced with the box name you had mentioned.</p>
<p>So its time to write the Vagrantfile of our own with further cutomizations.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2></h2>
<h2><span class="ez-toc-section" id="The_configuration_of_our_VM">The configuration of our VM</span></h2>
<p>Our requirement is to create a Virtual machine with the following configuration</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background-color: #f0f0f0; color: #444444;">-<span class="ruby"> <span class="hljs-number" style="color: #880000;">1</span> GB of Physical Memory
</span>-<span class="ruby"> Cent OS <span class="hljs-number" style="color: #880000;">7</span> Operating System
</span>-<span class="ruby"> Apache webserver installed
</span>-<span class="ruby"> port forwarding Guest <span class="hljs-number" style="color: #880000;">80</span> -&gt; Host <span class="hljs-number" style="color: #880000;">8080</span>
</span>-<span class="ruby"> Shared directory between host <span class="hljs-keyword" style="font-weight: bold;">and</span> guest (vm)
</span>-<span class="ruby"> Ansible Provisioning</span></pre>
<p>Let us create a Vagrantfile defining all of these requirement inside</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="The_Vagrantfile_for_our_VM">The Vagrantfile for our VM</span></h2>
<p>This is the Vagrantfile we need to accomplish all those requirements, I have defined all our requirement including ansible provisioning</p>
<pre class="EnlighterJSRAW" data-enlighter-language="ruby" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false"># -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure("2") do |config|
 config.vm.box_check_update = "false"
 config.vm.provider "virtualbox" do |vb|
   vb.memory = "1024"
 end

 config.vm.define "webserver" do |web|
   web.vm.hostname = "mwiws01"
   web.vm.box = "geerlingguy/centos7"
   web.vm.network :private_network, ip: "192.168.10.10"
   web.vm.network "forwarded_port", guest: "80", host: "8080"
   web.vm.synced_folder "/apps/shared", "/shared"
   #Provision the webserver with Ansible
   web.vm.provision "ansible" do |ansible|
     ansible.playbook="apache-playbook.yaml"
   end
  end
end</pre>
<p>&nbsp;</p>
<p>Let me explain what every line in the file does briefly</p>
<p>As you could see, the <strong>Vagrantfile uses Ruby Syntax</strong> so if you are good at ruby you can easily understand the syntax of this file.</p>
<p>However, knowledge of ruby is not mandatory to write and understand the Vagrantfile</p>
<p>The following line loads the Vagrant API version 2 and assigns it to  a variable named <strong>config</strong></p>
<pre>Vagrant.configure("2") do |config|</pre>
<p><code>config</code> is the widely used variable name at this stage. So let&#8217;s go with the standards what vagrant follow so that we would be able to understand things much better</p>
<pre>config.vm.box_check_update = "false"</pre>
<p>the next line in the file is to disable the auto-update feature of the vagrant to read more about this feature go <a href="../vagrant-up-command-gets-stuck-while-checking-box-up-to-date/index.html">here</a></p>
<p><strong>config.vm </strong>is the major namespace in Vagrant API</p>
<p>There are other namespaces available as follows</p>
<ul>
<li>config.vm</li>
<li>config.ssh</li>
<li>config.winrm</li>
<li>config.winssh</li>
<li>config.vagrant</li>
</ul>
<p><strong>Note</strong>*: To know what each namespace is designated to do and what are the settings available in each namespace. Refer <a href="https://www.vagrantup.com/docs/vagrantfile/machine_settings.html">this</a> vagrant documentation</p>
<pre>config.vm.provider "virtualbox" do |vb| 
   vb.memory = "1024" 
end</pre>
<p>The preceding lines from Vagrantfile are there to define the provider we are going use for provisioning our VM. In our case it&#8217;s <strong>virtualbox</strong>.</p>
<p><code>vb.memory</code> tells vagrant that, whichever  VM we are going to define and create from this Vagrantfile will be having 1024mb of memory by default until it is overwritten by the VM specific configuration.</p>
<p>Now we are going to define our Virtual machine-specific configuration, I have added a comment for each line to explain what they are doing.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="ruby" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false"># Defining a New VM named webserver and assign to a variable named web 
config.vm.define "webserver" do |web| 

    # Set the hostname of the VM 
    web.vm.hostname = "mwiws01" 
     
    # Set the box (OS) for the Virtual machine, we use centos7 
    web.vm.box = "geerlingguy/centos7" 
    
    
    # Define the network for your VM I chose private_network, you can use public_network as well. 
    web.vm.network :private_network, ip: "192.168.10.10" 
    
    # Port forwarding configuration as per our requirement 
    web.vm.network "forwarded_port", guest: "80", host: "8080" 
    
    # Creating a Shared Directory between host and guest VM 
    web.vm.synced_folder "/apps/shared", "/shared" 
    
    # Provision the webserver with Ansible, Execute the playbook 
    web.vm.provision "ansible" do |ansible| 
        
    # Mention the fully qualified path and name of playbook. 
    # If no path mentioned, vagrant will take the base directory where Vagrantfile resides 
    ansible.playbook="apache-playbook.yaml" 
    end 
end</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Ansible_playbook_and_its_artifacts"><strong>Ansible playbook and its artifacts</strong></span></h2>
<p>The Ansible playbook is written to perform various steps like Installing the Repository, Installing the Apache, Creating a Symlink, Creating a document root etc.</p>
<p>The Major task our ansible playbook is going to do is that <em>to download the home page of www.middlewareinventory.com and keep it as a default HTML (index.html) page in our apache server</em></p>
<blockquote><p>Note*:</p>
<ul>
<li>you can find the playbook and all the artifacts including the Vagrantfile in this  <a href="https://github.com/AKSarav/Vagrant-Ansible-Project">GITHUB</a> repository</li>
<li>More detailed information on how this entire setup is working.  <a href="https://www.youtube.com/watch?v=Dt_BoHmevWc">See the video</a> I have posted on our youtube channel</li>
</ul>
</blockquote>
<p>&nbsp;</p>
<p>Here is a one-line explanation of the files being used  in this project</p>
<p><a href="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM.png"><img class="alignnone size-full wp-image-1446 lazyload" src="../../wp-content/ewww/lazy/placeholder-889x195.png" alt="" width="889" height="195" data-src="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM.png 889w, ../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM-300x66.png 300w, ../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM-768x168.png 768w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-1446" src="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM.png" alt="" width="889" height="195" srcset="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM.png 889w, ../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM-300x66.png 300w, ../../wp-content/uploads/2018/07/Screen-Shot-2018-07-10-at-5.14.05-PM-768x168.png 768w" sizes="(max-width: 889px) 100vw, 889px" data-eio="l" /></noscript></a></p>
<p>In a summary, this is what our ansible playbook does.</p>
<ol>
<li> Load the variables file <strong>vars.yaml </strong></li>
<li> Download and Install the EPEL release RPM ( from internet)</li>
<li> Install Apache HTTPD Webserver</li>
<li> Copy the template *.j2 (Jinja2) files to the destination after replacing the variables in J2 file with the corresponding values taken from our variables declaration file vars.yaml</li>
<li> Create a Document root directory</li>
<li> Connect to the www.middlewareinventory.com and download the home page and save it as <strong>index.html </strong>under document root ( Default page for our site)</li>
<li> Restart the Apache HTTPD process</li>
</ol>
<p>The preceding tasks would be executed in the order it was given, with this understanding. If you go and refer our playbook given below.  You would be able to understand what each task is intended to do.</p>
<p><strong>File Content is hidden by default. Click the <i class="fa fa-plus"></i> Sign to enlarge/shrink</strong></p>
<p>&nbsp;</p>
<details>
<summary><i class="fa fa-plus"></i> The Ansible Playbook</summary>
<p><script src="https://gist.github.com/AKSarav/8dfb29c8bf99528b2ca8ecb1ed764e55.js"></script></p>
</details>
<details>
<summary><i class="fa fa-plus"></i> The Variables file</summary>
<p><script src="https://gist.github.com/AKSarav/1ff646acc7cd58b1b3e98bafdb7a73b1.js"></script></p>
</details>
<details>
<summary><i class="fa fa-plus"></i> The Base HTTPD.conf template</summary>
<p><script src="https://gist.github.com/AKSarav/6b1c9d6045c6eacf6508acefe617910f.js"></script></p>
</details>
<details>
<summary><i class="fa fa-plus"></i> The Custom Virtualhost template</summary>
<p><script src="https://gist.github.com/AKSarav/51f821bdcda6fcae2e375d378388df23.js"></script></p>
</details>
<p>&nbsp;</p>
<p>The templating process and J2 files make it possible to replace the domain name/ server name at runtime. Having said that.  If you want to build a virtualhost with a different server name all you have to do is to update the <strong>vars.yaml</strong> file.</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Create_the_VM_and_Start_the_Server_Provisioning_Vagrant_ansible">Create the VM and Start the Server Provisioning &#8211; Vagrant ansible</span></h2>
<p>To create the VM and start the server provisioning all you have to do is to enter the following command once you have all the files downloaded from the GITHUB repository.</p>
<pre>vagrant up</pre>
<p>&nbsp;</p>
<p>vagrant up command should be used to start the VM as we are starting the VM for the first time it will automatically provision it.</p>
<p>you can manually re-provision the VM at any time ( even after creating the VM)  by executing the following command</p>
<pre>vagrant provision</pre>
<p>If you opt to <strong>just the start the VM and provision it later</strong>. you can explicitly mention Vagrant to skip provisioning with the following command.</p>
<p>It will bring up the VM but not provision it, in other words, it will not execute our ansible playbook defined in <em>Vagrantfile</em></p>
<pre>vagrant up &#8211; no-provision</pre>
<p>In our case, we are going to create the VM  with provisioning so  we are using <strong>vagrant up</strong> command</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="The_Execution_Output_of_Vagrant_ansible_example_26_seconds"><strong>The Execution Output of Vagrant ansible example ( 26 seconds )</strong></span></h2>
<p>you can<a href="https://youtu.be/nXyZRGVLo2A"> click on this link</a> to see the execution output</p>
<p><a href="https://youtu.be/nXyZRGVLo2A"><img class="alignnone size-full wp-image-6646 lazyload" src="../../wp-content/ewww/lazy/placeholder-1031x661.png" alt="" width="1031" height="661" data-src="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM.jpg" loading="lazy" data-srcset="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM.jpg 1031w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM-300x192.jpg 300w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM-1024x657.jpg 1024w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM-768x492.jpg 768w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-6646" src="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM.jpg" alt="" width="1031" height="661" srcset="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM.jpg 1031w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM-300x192.jpg 300w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM-1024x657.jpg 1024w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-3.12.58-PM-768x492.jpg 768w" sizes="(max-width: 1031px) 100vw, 1031px" data-eio="l" /></noscript></a></p>
<h2></h2>
<h2><span class="ez-toc-section" id="Vagrant_Ansible_In_Action_VLOG">Vagrant Ansible In Action &#8211; VLOG</span></h2>
<p><a href="https://www.youtube.com/watch?v=Dt_BoHmevWc">Click on this link to</a> check out the VLOG/Screen recording of this playbook execution and explanation</p>
<p><a href="https://www.youtube.com/watch?v=Dt_BoHmevWc"><img class="alignnone size-full wp-image-6645 lazyload" src="../../wp-content/ewww/lazy/placeholder-915x658.png" alt="" width="915" height="658" data-src="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM.jpg" loading="lazy" data-srcset="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM.jpg 915w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM-300x216.jpg 300w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM-768x552.jpg 768w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM-90x65.jpg 90w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-6645" src="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM.jpg" alt="" width="915" height="658" srcset="../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM.jpg 915w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM-300x216.jpg 300w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM-768x552.jpg 768w, ../../wp-content/uploads/2018/07/Screenshot-2021-01-19-at-2.57.20-PM-90x65.jpg 90w" sizes="(max-width: 915px) 100vw, 915px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<h2></h2>
<h2><span class="ez-toc-section" id="Vagrantfile_example_with_Multiple_Virtual_machines">Vagrantfile example with Multiple Virtual machines</span></h2>
<p>Now, as you have gained some expertise on the ansible provisioning with vagrant.</p>
<p>Now look at the following Vagrantfile which helps you create an entire Infrastructure like Application Server, Web Server, Database Server etc and all of them are going to be having the same Configuration and Base Image (OS)</p>
<pre class="EnlighterJSRAW" data-enlighter-language="ruby" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false"># -*- mode: ruby -*- 
# vi: set ft=ruby : 

VAGRANTFILE_API_VERSION = "2" 

Vagrant.configure(VAGRANTFILE_API_VERSION) do|config| 
    config.ssh.insert_key = false 
    config.vm.provider :virtualbox do|vb| 
        vb.customize ["modifyvm", :id, "--memory", "2048"] 
    end 
    
    #Web Server 
    config.vm.define "web1" do|web| 
        web.vm.hostname = "mwiweb02" 
        web.vm.box = "geerlingguy/centos7" 
        web.vm.network "public_network", ip: "192.168.43.14" 
    end 
    
    #Application Server1 
    config.vm.define "app1" do|app| 
        app.vm.hostname = "mwivmapp01" 
        app.vm.box = "geerlingguy/centos7" 
        app.vm.network "public_network", ip: "192.168.43.11" 
    end 
    
    #Application Server2 
    config.vm.define "app2" do|app| 
        app.vm.hostname = "mwivmapp02" 
        app.vm.box = "geerlingguy/centos7" 
        app.vm.network "public_network", ip: "192.168.43.12" 
    end 
    
    #Database Server 
    config.vm.define "db" do|db| 
        db.vm.hostname = "mwisqldb01" 
        db.vm.box = "geerlingguy/centos7" 
        db.vm.network "public_network", ip: "192.168.43.13" 
    end 
    
    config.vm.box_check_update = false 
    config.vbguest.auto_update = false 
end</pre>
<p>&nbsp;</p>
<p>The last two options are set to disable the auto-update feature of vagrant. You can remove it if you want your images to be updated automatically.</p>
<p>Note*: image update would prevent you while booting up the virtual machine.  In a development environment, I recommend disabling this feature so that you don&#8217;t get stuck in your fast adventure.</p>
<p>That&#8217;s all of it.</p>
<p>&nbsp;</p>
<p>Please let me know your feedback in the comments field and ask me if there are any questions or clarifications.</p>
<p>Rate this article [ratings]</p>
<p>&nbsp;</p>
<p>Cheers<br />
Rumen Lishkov</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Follow me on Linkedin <a href="https://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&amp;followMember=saravakmwinventory">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#e28a878e8e8da285908b96849bcc818d8f"> <span class="__cf_email__" data-cfemail="f8909d949497b89f8a918c9e81d69b9795">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1668112130" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="1435" />
<input type="hidden" name="es_email_page_url" value="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="bbb2d371ca" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1668112130" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1668112130"></span>
</div>
</div>
<hr>
<p>&nbsp;</p>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../vagrant-private-key-ansible-ssh-permission-denied-resolve-how/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-02-at-2.26.20-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2018/07/Screen-Shot-2018-07-02-at-2.26.20-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../vagrant-private-key-ansible-ssh-permission-denied-resolve-how/index.html'>Vagrant Private key - Ansible SSH Permission Denied - How to resolve.</a><p>While building VMs with Vagrant and trying to run ansible-playbook with them over SSH connection.  We get exceptions like Failed to connect to the host via ssh: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password The execution and the error would like something similar to the below. This post presumes that you are using the&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='../how-to-integrate-weblogic-apache-web-server/index.html'>How to integrate weblogic and apache web server - Steps</a><p>Weblogic and Apache Webserver integration To Integrate Weblogic Application server with Apache Webserver, We have to install weblogic plugin on the Apache HTTP Server. Plugins for Apache will be available on Oracle (or) you can find them in your weblogic installed location under " ServerRoot/server/plugins" Under plugins directory of weblogic server&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible_wait_for_reboot_to_complete/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="ansible wait for reboot" data-src="../../wp-content/uploads/2019/01/Screen-Shot-2019-01-02-at-3.29.36-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/01/Screen-Shot-2019-01-02-at-3.29.36-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="ansible wait for reboot" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible_wait_for_reboot_to_complete/index.html'>Ansible Reboot system and wait_for reboot to complete</a><p>The Objective The purpose of this post is to explain with an example of how ansible initiate the reboot and wait for the reboot to complete There are cases where we want our remote nodes to be rebooted or restarted. For example, Take the Patching as an example. As part&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-command-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Command" data-src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Command" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-command-examples/index.html'>Ansible Command Module Examples</a><p>Ansible Command Module Introduction Ansible Command module is used to execute commands on a remote node. The Command module, is used mostly to run simple Linux commands on a remote node/server which is part of a host group or Stand alone server mentioned in the host group. If you want&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../vagrant-up-command-gets-stuck-while-checking-box-up-to-date/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2018/07/vagrant-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2018/07/vagrant-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../vagrant-up-command-gets-stuck-while-checking-box-up-to-date/index.html'>vagrant up command stuck at checking if box is up to date - How to solve</a><p>The Objective How to solve the situation where the vagrant up command gets stuck while checking if box is up to date . By default when you bring up the virtual machine provisioned with vagrant using vagrant up command.vagrant will look for the updates associated with the box and make&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<div class="entry-tags clearfix">
<span class="meta-tags">
<a href="../tag/ansible-server-provisioning-example/index.html" rel="tag">Ansible server provisioning example</a><a href="../tag/beginners-practical-example-guide-for-vagrant-and-ansible/index.html" rel="tag">Beginners practical example guide for Vagrant and Ansible</a><a href="../tag/how-to-provision-apache-webserver-with-ansible/index.html" rel="tag">How to provision apache webserver with Ansible</a><a href="../tag/server-provisioning-in-vagrant-example/index.html" rel="tag">Server provisioning in Vagrant example</a><a href="../tag/server-provisioning-with-ansible-and-vagrant/index.html" rel="tag">Server provisioning with Ansible and Vagrant</a><a href="../tag/vagrant-and-ansible/index.html" rel="tag">Vagrant and Ansible</a><a href="../tag/vagrant-practical-tutorial/index.html" rel="tag">Vagrant practical tutorial</a><a href="../tag/vagrant-server-provisioning-example/index.html" rel="tag">Vagrant server provisioning example</a> </span>
</div>
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../vagrant-up-command-gets-stuck-while-checking-box-up-to-date/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>vagrant up command stuck at checking if box is up to date &#8211; How to solve</a></div><div class="nav-next"><a href="../how-to-enable-jmx-port-in-weblogic-10-11g-12c/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>How to Enable JMX port in weblogic 10, 11g, 12c</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (67)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (31)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (2)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-454"><a href="../category/devops_beginner/index.html">DevOps_Beginner</a> (13)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (24)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (8)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (9)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 75%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 75%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"1435 http:\/\/www.middlewareinventory.com\/?p=1435","disqusShortname":"mwinventory","disqusTitle":"Ansible Vagrant Example \u2013 Testing Ansible with Vagrant | Devops Junction","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/vagrant-ansible-example\/","postId":"1435"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"ef6e91b292"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"a59fcb65ed","post_id":"1435"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"c968eefe51","ip":"186.26.118.145","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script src="../../wp-content/cache/minify/00a3c.js"></script>
<script type='text/javascript' id='divi-builder-custom-script-js-extra'>
/* <![CDATA[ */
var et_builder_utils_params = {"condition":{"diviTheme":false,"extraTheme":false},"scrollLocations":["app","top"],"builderScrollLocations":{"desktop":"app","tablet":"app","phone":"app"},"onloadScrollLocation":"app","builderType":"fe"};
var et_frontend_scripts = {"builderCssContainerPrefix":"#et-boc","builderCssLayoutPrefix":"#et-boc .et-l"};
var et_pb_custom = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","images_uri":"https:\/\/www.middlewareinventory.com\/wp-content\/themes\/poseidon\/images","builder_images_uri":"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/divi-builder\/includes\/builder\/images","et_frontend_nonce":"4672157d30","subscription_failed":"Please, check the fields below to make sure you entered the correct information.","et_ab_log_nonce":"fcf8610b63","fill_message":"Please, fill in the following fields:","contact_error_message":"Please, fix the following errors:","invalid":"Invalid email","captcha":"Captcha","prev":"Prev","previous":"Previous","next":"Next","wrong_captcha":"You entered the wrong number in captcha.","wrong_checkbox":"Checkbox","ignore_waypoints":"no","is_divi_theme_used":"","widget_search_selector":".widget_search","ab_tests":[],"is_ab_testing_active":"","page_id":"1435","unique_test_id":"","ab_bounce_rate":"5","is_cache_plugin_active":"no","is_shortcode_tracking":"","tinymce_uri":"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/divi-builder\/includes\/builder\/frontend-builder\/assets\/vendors","waypoints_options":{"context":[".pum-overlay"]}};
var et_pb_box_shadow_elements = [];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/2bf13.js"></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/5ee99.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/b5030.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://airdata.gitlab.io/blog/blog/vagrant-ansible-example/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>

<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 1;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1668112130;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
</div>
</body>
</html>
