<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">

<title>Ansible Archive Examples - Zip files and Directories | DevOps Junction</title>
<meta name="description" content="Ansible archive module is to create archive files just like tar, gzip, bz2, zip, Ansible archive is an ansible way of creating archive files zip, tar etc. compress directories and files with ansible archive, How to create zip file with ansible, how to create gzip tar and bz2 files and Multiple files with ansible." />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Ansible Archive Examples - Zip files and Directories | DevOps Junction" />
<meta property="og:description" content="Ansible archive module is to create archive files just like tar, gzip, bz2, zip, Ansible archive is an ansible way of creating archive files zip, tar etc. compress directories and files with ansible archive, How to create zip file with ansible, how to create gzip tar and bz2 files and Multiple files with ansible." />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="https://www.facebook.com/rumenlishkov" />
<meta property="article:published_time" content="2020-06-05T14:38:11+00:00" />
<meta property="article:modified_time" content="2022-02-10T17:54:37+00:00" />
<meta property="og:image" content="https://airdata.gitlab.io/blog/wp-content/uploads/2020/06/Screenshot-2020-06-05-at-8.25.52-PM.png" />
<meta property="og:image:width" content="3322" />
<meta property="og:image:height" content="1656" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["https://www.facebook.com/rumenlishkov","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://airdata.gitlab.io/blog/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#primaryimage","inLanguage":"en-US","url":"https://airdata.gitlab.io/blog/wp-content/uploads/2020/06/Screenshot-2020-06-05-at-8.25.52-PM.png","width":3322,"height":1656,"caption":"Ansible archive"},{"@type":"WebPage","@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#webpage","url":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/","name":"Ansible Archive Examples - Zip files and Directories | DevOps Junction","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#primaryimage"},"datePublished":"2020-06-05T14:38:11+00:00","dateModified":"2022-02-10T17:54:37+00:00","description":"Ansible archive module is to create archive files just like tar, gzip, bz2, zip, Ansible archive is an ansible way of creating archive files zip, tar etc. compress directories and files with ansible archive, How to create zip file with ansible, how to create gzip tar and bz2 files and Multiple files with ansible.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/"]}]},{"@type":"Article","@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#article","isPartOf":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"Ansible Archive Examples &#8211; Zip files and Directories","datePublished":"2020-06-05T14:38:11+00:00","dateModified":"2022-02-10T17:54:37+00:00","mainEntityOfPage":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#webpage"},"commentCount":0,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#primaryimage"},"articleSection":"Ansible","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Ansible Archive Examples &#8211; Zip files and Directories Comments Feed" href="feed/index.rss" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-6674956-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6674956-8');
</script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"3d8661396b"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://airdata.gitlab.io/blog/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/5199.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-archive-module-examples-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-archive-module-examples-&amp;format=xml.xml" />
<script>
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/" + ";secure;";
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/";
    if ( ! /(^|;)\s*cca_is_eu=/.test(document.cookie) ) {  // if check prevents reload loop
		  document.cookie = "cca_is_eu=false;max-age=" + 3600*24*364 + "; path=/";
      var ccaURL = window.location.protocol + '//',
      hostname = window.location.host + '/' + window.location.pathname;
			if ( '0' === '1' ) {
        window.location.reload( true );
      }
   }
</script>
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="Ansible Archive Examples &#8211; Zip files and Directories - Middleware Inventory" />
<meta property="og:description" content="Ansible archive module is an ansible way of compressing the file and creating an archive. Just like the tar and gz command working together. If you are a Linux guy you would easily get this analogy. For windows, Just think of this as a normal winzip or WinRAR programs

&nbsp;
Facts of Ansible archive module

 	This command is the opposite of unarchive command of ansible
 	By default," />
<meta property="og:url" content="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="https://airdata.gitlab.io/blog/wp-content/uploads/2020/06/Screenshot-2020-06-05-at-8.25.52-PM.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Ansible archive module is an ansible way of compressing the file and creating an archive. Just like the tar and gz command working together. If you are a Linux guy you would easily get this analogy. For windows, Just think of this as a normal winzip or WinRAR programs

&nbsp;
Facts of Ansible archive module

 	This command is the opposite of unarchive command of ansible
 	By default," />
<meta name="twitter:title" content="Ansible Archive Examples &#8211; Zip files and Directories - Middleware Inventory" />
<meta property="twitter:image" content="https://airdata.gitlab.io/blog/wp-content/uploads/2020/06/Screenshot-2020-06-05-at-8.25.52-PM.png" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://airdata.gitlab.io/blog/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">code
{
  color: rgb(232, 44, 88);
}
article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 22px;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-5199 single-format-standard wp-custom-logo cookies-set cookies-accepted elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="160" height="120" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="160" height="120" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>
<li id="menu-item-8820" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8820"><a href="../../newsletter/index.html">Newsletter</a></li>
<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-5199" class="post-5199 post type-post status-publish format-standard has-post-thumbnail hentry category-ansible wpautop">
<header class="entry-header">
<h1 class="entry-title">Ansible Archive Examples &#8211; Zip files and Directories</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="8:08 pm" rel="bookmark"><time class="entry-date published updated" datetime="February 10, 2022">February 10, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=Ansible%20Archive%20Examples%20%E2%80%93%20Zip%20files%20and%20Directories&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-archive-module-examples%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="5199" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=Ansible+Archive+Examples+%E2%80%93+Zip+files+and+Directories&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-archive-module-examples%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="5199" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=Ansible%20Archive%20Examples%20%E2%80%93%20Zip%20files%20and%20Directories&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-archive-module-examples%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="5199" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-archive-module-examples%2F&subject=Ansible%20Archive%20Examples%20%E2%80%93%20Zip%20files%20and%20Directories" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="5199" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="5199" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<p>Ansible archive module is an ansible way of compressing the file and creating an archive. Just like the <code>tar</code> and <code>gz</code> command working together. If you are a Linux guy you would easily get this analogy. For windows, Just think of this as a normal <code>winzip</code> or <code>WinRAR</code> programs</p>
<p>&nbsp;</p>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Facts_of_Ansible_archive_module" title="Facts of Ansible archive module">Facts of Ansible archive module</a></li><li><a href="#Ansible_Archive_module_Examples" title="Ansible Archive module Examples">Ansible Archive module Examples</a><ul><li><a href="#Example1_Compressing_the_Directory_with_TAR" title="Example1: Compressing the Directory with TAR">Example1: Compressing the Directory with TAR</a></li><li><a href="#Example_2Compressing_the_Directory_with_tar_and_gz" title="Example 2:Compressing the Directory with tar and gz">Example 2:Compressing the Directory with tar and gz</a></li><li><a href="#Example_3_Compress_the_file_Default_File_Compress_format" title="Example 3: Compress the file &#8211; Default File Compress format">Example 3: Compress the file &#8211; Default File Compress format</a></li><li><a href="#Example_4_Remove_the_Source_files_after_archiving" title="Example 4:  Remove the Source files after archiving">Example 4:  Remove the Source files after archiving</a></li><li><a href="#Example_5_Create_a_ZIP_file_archive_File_and_Directory" title="Example 5:  Create a ZIP file archive &#8211; File and Directory">Example 5:  Create a ZIP file archive &#8211; File and Directory</a></li><li><a href="#Example_6_Create_a_BZIP_archive_File_and_Directory" title="Example 6:  Create a BZIP archive &#8211; File and Directory">Example 6:  Create a BZIP archive &#8211; File and Directory</a></li><li><a href="#Example_7_Compressing_and_Archiving_multiple_files_Ansible_archive" title="Example 7:  Compressing and Archiving multiple files Ansible archive">Example 7:  Compressing and Archiving multiple files Ansible archive</a></li><li><a href="#Example_8_Ansible_archive_multiples_files_with_loop_multiple_single_files" title="Example 8:  Ansible archive multiples files with loop &#8211; multiple single files">Example 8:  Ansible archive multiples files with loop &#8211; multiple single files</a></li></ul></li><li><a href="#How_to_Unarchive_the_files_with_Ansible_Additional" title="How to Unarchive the files with Ansible &#8211; Additional">How to Unarchive the files with Ansible &#8211; Additional</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Facts_of_Ansible_archive_module">Facts of Ansible <span style="color: #ed0e64;">archive</span> module</span></h2>
<ul>
<li>This command is the opposite of <code>unarchive</code> command of ansible</li>
<li>By default, it assumes the source file you are trying to compress does exist.</li>
<li>It will not copy the source file from the local system to the target before archiving.</li>
<li>Source files can be deleted after archival by specifying <em>remove=True</em></li>
<li>Requires tarfile, zipfile, gzip and bzip2 packages on target host.</li>
<li>Requires lzma or backports.lzma if using xz format.</li>
<li>Can produce <em>gzip</em>, <em>bzip2</em>, <em>lzma</em> and <em>zip</em> compressed files or archives.
<div class="admonition note"></div>
</li>
</ul>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Ansible_Archive_module_Examples">Ansible Archive module Examples</span></h2>
<ul>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example1_Compressing_the_Directory_with_TAR">Compressing the Directory with <code>tar</code></a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_2Compressing_the_Directory_with_tar_and_gz">Compressing the Directory with <code>tar</code> and <code>gz</code></a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_3_Compress_the_file_Default_File_Compress_format">Compress the file with default type <code>gz</code></a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_4_Remove_the_Source_files_after_archiving">Remove the Source files after adding to the archive and compressed</a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_5_Create_a_ZIP_file_archive_File_and_Directory">How to Create a <code>zip</code> archive with Ansible archive module</a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_6_Create_a_BZIP_archive_File_and_Directory">How to Create a <code>bz2</code> archive with Ansible archive module</a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_7_Compressing_and_Archiving_multiple_files_Ansible_archive">Archive Multiple files from multiple Directories with few exclusions</a></li>
<li><a href="index-preview_id=5199&amp;preview_nonce=cf925d9a09&amp;_thumbnail_id=-1&amp;preview=true.html#Example_8_Ansible_archive_multiples_files_with_loop_multiple_single_files">Ansible archive multiples files with loop &#8211; multiple single files</a></li>
</ul>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example1_Compressing_the_Directory_with_TAR">Example1: Compressing the Directory with TAR</span></h3>
<p>As mentioned above, Ansible creates various types of archives and the most famous and widely used is <code>tar</code> archive.  In this example we show how to compress a directory using tar with Ansible Archive module.</p>
<p>The Playbook is simple and ansible archive module takes only three arguments</p>
<p><code>path</code> &#8211; Source path on the target machine</p>
<p><code>dest</code> &#8211; Destination Path on the target machine, the resulting file name</p>
<p><code>format</code> &#8211; tar file</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress Directory contents
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat
<span class="hljs-attr">        dest:</span> /apps/tomcat.tar  
<span class="hljs-attr">        format:</span> tar</span></pre>
<p>&nbsp;</p>
<blockquote><p><strong> What if the source file is not present on the target ?</strong></p>
<p>The Task would fail with path does not exist, Ansible archive just presumes that the   source file is present</p></blockquote>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_2Compressing_the_Directory_with_tar_and_gz">Example 2:Compressing the Directory with tar and gz</span></h3>
<p>If you are familiar with the Linux commands, you might agree with me, we tend to use the <code>tar cvfz</code> command more than <code>tar -cvf</code></p>
<p>because the tar just archive the files and not compress them, rather doing this at two steps, we mostly use <code>tar cvfz</code> to create the compressed archive file.</p>
<p>In this example,  we are going to do the same thing</p>
<p>There are two ways to create the <code>tar.gz</code> or <code>.tgz</code> file ( both are same don&#8217;t get confused )</p>
<p><strong>Method1:</strong> Mention it Explicitly with the format attribute</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress Directory contents
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat
<span class="hljs-attr">        dest:</span> /apps/tomcat.tar.gz
<span style="color: #993300;"><span class="hljs-attr">        format:</span> gz</span></span></pre>
<p>&nbsp;</p>
<p><strong>Method2:</strong> Do not mention any format attribute. As <code>tar.gz</code> is the default when the <code>format</code> is not mentioned and the file type is a directory</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress Directory contents
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat
<span class="hljs-attr">        dest:</span> /apps/tomcat.tar.gz
</span></pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_3_Compress_the_file_Default_File_Compress_format">Example 3: Compress the file &#8211; Default File Compress format</span></h3>
<p>As we have mentioned previously on the Example2, the default compression type for the directory when the format is not mentioned is <code>tar.gz</code></p>
<p>Likewise, for the file the default compression and archive type is <code>.gz</code> when no format is explicitly mentioned</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress the file using Default format
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat/conf/server.xml
<span class="hljs-attr">        dest:</span> /apps/tomcat/server.xml.gz</span></pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_4_Remove_the_Source_files_after_archiving">Example 4:  Remove the Source files after archiving</span></h3>
<p>Most of the time the purpose of doing the archival process is to save some disk space and storage. So once the source file is archived &amp; compressed the source file is no longer needed.</p>
<p>Especially when we are handling the logs and system housekeeping tasks, we would want to remove the old file once the compression is done.</p>
<p>There is a parameter you can use to enable that by default it is disabled.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress the file and remove
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span class="hljs-attr">        path:</span> /apps/tomcat/logs/localhost-access.log
<span class="hljs-attr">        dest:</span> /apps/tomcat/localhost-access.log.gz
<span style="color: #800080;"><span class="hljs-attr">        remove:</span> <span class="hljs-literal">yes</span></span></pre>
<p>&nbsp;</p>
<blockquote><p><strong>Note*</strong>  When you are compressing the directory with <code>bz2</code> or <code>gz</code> Ansible archive module first archive the directory with <code>tar</code> and then apply the compressing technique on the resulting file. So its not necassary that you have to create a tar ball first before trying to compress.</p>
<p>It does not apply to the <code>zip</code> format. Zip does not create the tarball before compressing it. so if you <code>unzip</code> the archive file you will directly get the files not the tarball while the farmer two would give you the tarball which you have to further extract</p>
<p>&nbsp;</p></blockquote>
<h3><span class="ez-toc-section" id="Example_5_Create_a_ZIP_file_archive_File_and_Directory">Example 5:  Create a ZIP file archive &#8211; File and Directory</span></h3>
<p>Note*: for this command to work you should have the <code>zipfile</code> package installed on the target machine</p>
<p>Here is the ansible-playbook  with ansible archive module to <strong>zip a</strong> <strong>Single file </strong>we have also used the remove parameter to delete the original file once the compress is done</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress Directory contents
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat/logs/catalina<span class="hljs-number">.2019</span><span class="hljs-bullet">-07</span><span class="hljs-bullet">-24.</span>log
<span class="hljs-attr">        dest:</span> /apps/tomcat/catalina<span class="hljs-number">.2019</span><span class="hljs-bullet">-07</span><span class="hljs-bullet">-24.</span>log.zip</span>
<span style="color: #800080;"><span class="hljs-attr">        format:</span> zip</span>
<span class="hljs-attr">        remove:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span></pre>
<p>&nbsp;</p>
<p>Here is the ansible-playbook to <strong>zip a directory</strong> using ansible unarchive module in the zip format</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress Directory contents using ZIP
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat
<span class="hljs-attr">        dest:</span> /apps/tomcat-bkp.tar.zip
<span class="hljs-attr">        format:</span> zip</span></pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_6_Create_a_BZIP_archive_File_and_Directory">Example 6:  Create a BZIP archive &#8211; File and Directory</span></h3>
<p>In this example, we are going to use the much powerful and reliable Bzip2 to archive the files, bzip2 is by far the best product amongst others and the resulting archive file size would be small than the other ones so you could save some more disk space.</p>
<p>Refer my comparison of all archive formats like <code>bz2</code> <code>zip</code> <code>gz</code> at the end of this post</p>
<p>Back to the subject, Here is the playbook we are going to use to <code>bzip</code> the file and directory I combined both of the tasks into a Single playbook to save some space</p>
<p>All we have to change here is the format from the previous example. As usual the directory compression would be a compressed tarball.</p>
<p>&nbsp;</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Compress the file using BZ2
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat/logs/catalina<span class="hljs-number">.2019</span><span class="hljs-bullet">-07</span><span class="hljs-bullet">-24.</span>log
<span class="hljs-attr">        dest:</span> /apps/tomcat/catalina<span class="hljs-number">.2019</span><span class="hljs-bullet">-07</span><span class="hljs-bullet">-24.</span>log.bz2
<span class="hljs-attr">        format:</span> bz2</span>
    
<span class="hljs-attr">    - name:</span> Compress the Directory using BZ2
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat/
<span class="hljs-attr">        dest:</span> /apps/tomcat-bkp.tar.bz2
<span class="hljs-attr">        format:</span> bz2</span></pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_7_Compressing_and_Archiving_multiple_files_Ansible_archive">Example 7:  Compressing and Archiving multiple files Ansible archive</span></h3>
<p>We saved the little complex and the best for the last and here we have collected few interesting examples as follows</p>
<ul>
<li>Use a Wild card to select the files</li>
<li>Exclude a few specific files while adding the rest into the archive</li>
<li>Take files from multiple source path while creating the archive</li>
</ul>
<p>Here is the playbook  that covers and solves all these three questions</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>
<span class="hljs-attr">    - name:</span> Using Wild card and choosing the catalina logs only
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat/logs/catalina*.log</span>
<span class="hljs-attr">        dest:</span> /apps/tomcat/catalinalogs.tar.bz2
<span class="hljs-attr">        format:</span> bz2

<span class="hljs-attr">    - name:</span> Using Wild card and choosing the access logs only
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> /apps/tomcat/logs/*access*.txt</span>
<span class="hljs-attr">        dest:</span> /apps/tomcat/accesslogs.tar.bz2
<span class="hljs-attr">        format:</span> bz2

    <span class="hljs-comment" style="color: #738191;"># Archive all the logs except access logs</span>
<span class="hljs-attr">    - name:</span> Using wild card for Including and Excluding
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      archive:</span>
<span style="color: #800080;"><span class="hljs-attr">        path:</span> 
<span class="hljs-bullet">        -</span> /apps/tomcat/logs/*
<span class="hljs-bullet">        -</span> /var/log/tomcat/*</span>
<span class="hljs-attr">        dest:</span> /apps/tomcat/logfiles.tar.bz2
<span class="hljs-attr">        format:</span> bz2
<span style="color: #800080;"><span class="hljs-attr">        exclude_path:</span>
<span class="hljs-bullet">        -</span> /apps/tomcat/logs/*access*.txt
<span class="hljs-bullet">        -</span> /var/log/tomcat/*access*.txt
</span></pre>
<p>The first two are too self-descriptive we just use the wild card character to select specific files for our archiving process but the third one is a little tricky but great.</p>
<p><a href="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM.png"><img class="alignnone size-full wp-image-5394 lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x1198.png" alt="" width="2490" height="1554" data-src="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM.png 2490w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM-300x187.png 300w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM-768x479.png 768w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM-1024x639.png 1024w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5394" src="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM.png" alt="" width="2490" height="1554" srcset="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM.png 2490w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM-300x187.png 300w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM-768x479.png 768w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-5.59.36-PM-1024x639.png 1024w" sizes="(max-width: 2490px) 100vw, 2490px" data-eio="l" /></noscript></a></p>
<p>If you look at it, we have two parameters here. One is <code>path</code> which is to select the files from the different source location and it is too generic as it has just <code>*</code>  wild card character so it would take everything under those directories irrespective of their type, extension etc.</p>
<p>Now let&#8217;s suppose we are sending these logs to the third party for analysis but don&#8217;t want to give out your user info which is captured in the access log file.  we can exclude the access log files alone using <code>exclude_path</code> parameter.</p>
<p>If you want to know the list of files <code>archived</code> and <code>excluded</code> you can write your own debug task in your playbook or you can simply execute your playbook with more verbose/debug levels like <code>-vvv</code></p>
<pre>ansible-playbook  playbook.yaml -vvv</pre>
<p>In the result, you would be able to see two return variables named <code>archived</code> and <code>expanded_exclude_paths</code></p>
<p><a href="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM.png"><img class="alignnone size-full wp-image-5393 lazyload" src="../../wp-content/ewww/lazy/placeholder-1920x984.png" alt="" width="2400" height="1230" data-src="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM.png 2400w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM-300x154.png 300w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM-768x394.png 768w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM-1024x525.png 1024w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5393" src="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM.png" alt="" width="2400" height="1230" srcset="../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM.png 2400w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM-300x154.png 300w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM-768x394.png 768w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-01-at-6.24.41-PM-1024x525.png 1024w" sizes="(max-width: 2400px) 100vw, 2400px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_8_Ansible_archive_multiples_files_with_loop_multiple_single_files">Example 8:  Ansible archive multiples files with loop &#8211; multiple single files</span></h3>
<p>So far the examples we have seen are about creating a Single Archive file with multiple source files in it. Now we are going to see how to create archive on multiple single files.</p>
<p>Now we are going to see, How to Zip a list of files with Ansible archive module.</p>
<p>To be more precise, let me give a requirement here, Let&#8217;s suppose that we want to compress the yesterday log files exactly at 00:01 AM every day.  earlier we used to write Shell scripts to first find the files and then archive each of them. Something like this</p>
<pre>find /apps/tomcat/logs -name "*.log" -mtime +1 -exec gzip {} \;

(or)

find /apps/tomcat/logs -name "*.log" -mtime +1 | xargs gzip</pre>
<p>Here is the Ansible playbook which exactly does the same thing but using the<a href="../ansible-find-examples/index.html"> Ansible Find module</a> and Ansible Archive module instead of the Shell commands</p>
<p>I insist you read the comments on the Playbook to understand it better.</p>
<p>In a Summary. We have two tasks first task  is with Ansible find module to find files under <code>/apps/tomcat/logs</code> with different extensions, this extension filtering is achieved using the <code>patterns</code>  this task would run and store the file names into a output variable named <code>output</code>  which will be used by ansible archive.</p>
<p>The second task is with Ansible archive module and <code>with_items</code> loop iteration where we iterate through the <code>output</code> variables we got from the ansible find module task and, we are passing each module as a <code>path</code> parameter and doing the normal compression using <code>bz2</code> format.</p>
<p>One special thing we added in our second task is appending the date as we are compressing and archiving each file for better tracking. ( Ideally, that&#8217;s what we do in the realtime log management )</p>
<p><code>ansible_date_time.date.replace('-','')</code>  this is an ansible built-in variable</p>
<p>&nbsp;</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3; color: #00193a;"><span class="hljs-meta" style="color: #4c81c9;">---</span>
<span class="hljs-attr"> - name:</span> Ansible archive Examples
<span class="hljs-attr">   user:</span> vagrant
<span class="hljs-attr">   hosts:</span> testserver
<span class="hljs-attr">   tasks:</span>

<span class="hljs-bullet" style="color: #4c81c9;">    -</span> name : Find files ending with extensions
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">true</span>
<span class="hljs-attr">      find:</span>
<span class="hljs-attr">       paths:</span> /apps/tomcat/logs
<span class="hljs-attr">       file_type:</span> file
       <span class="hljs-comment" style="color: #738191;"><span style="color: #993366;"># find files with different extensions</span> </span>
<span class="hljs-attr">       patterns:</span> 
<span class="hljs-bullet" style="color: #4c81c9;">         -</span> <span class="hljs-string" style="color: #0048ab;">'.*\.log$'</span>
<span class="hljs-bullet" style="color: #4c81c9;">         -</span> <span class="hljs-string" style="color: #0048ab;">'.*\.out$'</span>
<span class="hljs-bullet" style="color: #4c81c9;">         -</span> <span class="hljs-string" style="color: #0048ab;">'.*\.txt$'</span>
<span class="hljs-attr">       use_regex:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">       age:</span> <span class="hljs-number">1</span>d
<span class="hljs-attr">       age_stamp:</span> mtime
<span class="hljs-attr">      register:</span> output

<span class="hljs-attr">    - name:</span> archive the files
<span class="hljs-attr">      become:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
<span class="hljs-attr">      become_user:</span> tomcat
<span class="hljs-attr">      archive:</span>
<span class="hljs-attr">        remove:</span> <span class="hljs-literal" style="color: #0048ab;">yes</span>
        <span class="hljs-comment" style="color: #993366;"># Receive Each Element from the Loop</span>
<span class="hljs-attr">        path:</span> <span class="hljs-string" style="color: #0048ab;">"<span class="hljs-template-variable" style="color: #4c81c9;">{{ item.path }}</span>"</span>
        <span class="hljs-comment" style="color: #993366;"># Creating a file with Date filename-DDMMYY.bz2 format</span>
<span class="hljs-attr">        dest:</span> <span class="hljs-string" style="color: #0048ab;">"<span class="hljs-template-variable" style="color: #4c81c9;">{{ item.path }}</span>-<span class="hljs-template-variable" style="color: #4c81c9;">{{ansible_date_time.date.replace('-','')}}</span>.bz2"</span>
<span class="hljs-attr">        format:</span> bz2
      <span class="hljs-comment" style="color: #993366;"># Loop Statement, Goes through the find command output array</span>
<span class="hljs-attr">      with_items:</span> <span class="hljs-string" style="color: #0048ab;">"<span class="hljs-template-variable" style="color: #4c81c9;">{{ output.files }}</span>"</span>
</pre>
<p>The result would be something like this</p>
<p><a href="../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM.png"><img class="alignnone size-full wp-image-5399 lazyload" src="../../wp-content/ewww/lazy/placeholder-1642x874.png" alt="" width="1642" height="874" data-src="../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM.png 1642w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM-300x160.png 300w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM-768x409.png 768w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM-1024x545.png 1024w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5399" src="../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM.png" alt="" width="1642" height="874" srcset="../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM.png 1642w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM-300x160.png 300w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM-768x409.png 768w, ../../wp-content/uploads/2020/06/Screenshot-2020-06-05-at-7.56.48-PM-1024x545.png 1024w" sizes="(max-width: 1642px) 100vw, 1642px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="How_to_Unarchive_the_files_with_Ansible_Additional">How to Unarchive the files with Ansible &#8211; Additional</span></h2>
<p>So far we learnt how to archive the files the other part of this equation is to unarchive these files.  For unarchiving you should use ansible unarchive module.</p>
<p>I wrote an article on the same. Check that out</p>
<blockquote class="wp-embedded-content" data-secret="ll1OpAgr6T"><p><a href="../ansible-unarchive-module-examples/index.html">Ansible Unarchive Module Examples</a></p></blockquote>
<p><iframe class="wp-embedded-content" sandbox="allow-scripts" security="restricted" style="position: absolute; clip: rect(1px, 1px, 1px, 1px);" title="&#8220;Ansible Unarchive Module Examples&#8221; &#8212; Middleware Inventory" src="../ansible-unarchive-module-examples/embed/index.html#?secret=ll1OpAgr6T" data-secret="ll1OpAgr6T" width="600" height="338" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></p>
<p>&nbsp;</p>
<p>Cheers<br />
Rumen Lishkov</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#2e464b4242416e495c475a4857004d4143"> <span class="__cf_email__" data-cfemail="f9919c959596b99e8b908d9f80d79a9694">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657192689" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="5199" />
<input type="hidden" name="es_email_page_url" value="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="915ddf1a10" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657192689" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657192689"></span>
</div>
</div>
<hr>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-unarchive-module-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible unarchive" data-src="../../wp-content/uploads/2019/12/Screenshot-2019-12-07-at-4.53.15-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/12/Screenshot-2019-12-07-at-4.53.15-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible unarchive" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-unarchive-module-examples/index.html'>Ansible Unarchive Module Examples</a><p>What is Ansible Unarchive Module and How does it work Ansible Unarchive module helps to unpack or uncompress the files from an archive file such as tar, tar.gz, zip&nbsp; . Ansible unarchive module can optionally copy the files to the remote server before uncompressing them. Though the unarchive module is&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-template-module-example/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2020/05/Screenshot-2020-05-18-at-4.39.46-PM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/05/Screenshot-2020-05-18-at-4.39.46-PM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-template-module-example/index.html'>Ansible Template module Examples - Jinja2 Templates | Devops Junction</a><p>Ansible template module helps to template a file out to a remote server. Simply put, at runtime ansible template module updates the jinja2 interpolation syntax variables with actual values and copy the template file to the remote server with the specified name. This is most useful for configuration templating and&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-find-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Find" data-src="../../wp-content/uploads/2020/01/Screenshot-2020-01-03-at-4.51.17-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/01/Screenshot-2020-01-03-at-4.51.17-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Find" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-find-examples/index.html'>Ansible Find Examples - How to use Ansible Find</a><p>Ansible find module functions as same as the Linux Find command and helps to find files and directories based on various search criteria such as age of the file, accessed date, modified date,&nbsp; regex search pattern etcetera. As said earlier, this is more of an ansible way to execute the&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-apt-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible apt" data-src="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.19.26-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.19.26-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible apt" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-apt-examples/index.html'>Ansible apt module Examples - install packages with apt | Devops Junction</a><p>Ansible APT Package manager is an Ubuntu equivalent for RedHat yum package manager. Just like all other ansible modules&nbsp;apt&nbsp;ansible module is built after one specific unix command of Debian&nbsp;apt-get It is always recommended to choose the modules rather using the raw unix commands over the shell module as it would&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-command-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Command" data-src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Command" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-command-examples/index.html'>Ansible Command Module Examples</a><p>Ansible Command Module Introduction Ansible Command module is used to execute commands on a remote node. The Command module, is used mostly to run simple Linux commands on a remote node/server which is part of a host group or Stand alone server mentioned in the host group. If you want&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../bitbucket-list-repositories/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>BitBucket List All Repositories &#8211; using REST API</a></div><div class="nav-next"><a href="../docker-vuejs/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>Docker VueJS Example</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 75%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 75%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-5199 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=Ansible+Archive+Examples+%E2%80%93+Zip+files+and+Directories&url=https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=Ansible+Archive+Examples+%E2%80%93+Zip+files+and+Directories&body=https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://web.whatsapp.com/send?text=https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"5199 https:\/\/www.middlewareinventory.com\/?p=5199","disqusShortname":"mwinventory","disqusTitle":"Ansible Archive Examples \u2013 Zip files and Directories","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/ansible-archive-module-examples\/","postId":"5199"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"2019084a26"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"b4d440853b","post_id":"5199"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"0b980bed5f","ip":"122.209.253.170","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://airdata.gitlab.io/blog/blog/ansible-archive-module-examples/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
<script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657192689;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
</div>
</body>
</html>
