<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">

<title>AWS EC2 CLI List Examples - Describe instances | Devops Junction</title>
<meta name="description" content="How to List EC2 instances with AWS CLI. AWS CLI EC2 examples. How to use AWS CLI EC2 describe instances to get the list of running instances. List running instances command line aws cli, List the instances associated with security group, List instance by instance_type, List instance by tag, List instances by tag value" />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="aws-cli-ec2/index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="AWS EC2 CLI List Examples - Describe instances | Devops Junction" />
<meta property="og:description" content="How to List EC2 instances with AWS CLI. AWS CLI EC2 examples. How to use AWS CLI EC2 describe instances to get the list of running instances. List running instances command line aws cli, List the instances associated with security group, List instance by instance_type, List instance by tag, List instances by tag value" />
<meta property="og:url" content="https://www.middlewareinventory.com/blog/aws-cli-ec2/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="http://www.facebook.com/devopsjunc" />
<meta property="article:published_time" content="2020-01-07T23:07:07+00:00" />
<meta property="article:modified_time" content="2022-07-10T11:59:35+00:00" />
<meta property="og:image" content="https://www.middlewareinventory.com/wp-content/uploads/2020/01/Screenshot-2019-11-22-at-4.24.52-PM.png" />
<meta property="og:image:width" content="1594" />
<meta property="og:image:height" content="1306" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["http://www.facebook.com/devopsjunc","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://www.middlewareinventory.com/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#primaryimage","inLanguage":"en-US","url":"https://www.middlewareinventory.com/wp-content/uploads/2020/01/Screenshot-2019-11-22-at-4.24.52-PM.png","width":1594,"height":1306},{"@type":"WebPage","@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#webpage","url":"https://www.middlewareinventory.com/blog/aws-cli-ec2/","name":"AWS EC2 CLI List Examples - Describe instances | Devops Junction","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#primaryimage"},"datePublished":"2020-01-07T23:07:07+00:00","dateModified":"2022-07-10T11:59:35+00:00","description":"How to List EC2 instances with AWS CLI. AWS CLI EC2 examples. How to use AWS CLI EC2 describe instances to get the list of running instances. List running instances command line aws cli, List the instances associated with security group, List instance by instance_type, List instance by tag, List instances by tag value","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://www.middlewareinventory.com/blog/aws-cli-ec2/"]}]},{"@type":"Article","@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#article","isPartOf":{"@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"AWS EC2 CLI List Examples &#8211; Describe instances | Devops Junction","datePublished":"2020-01-07T23:07:07+00:00","dateModified":"2022-07-10T11:59:35+00:00","mainEntityOfPage":{"@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#webpage"},"commentCount":0,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://www.middlewareinventory.com/blog/aws-cli-ec2/#primaryimage"},"articleSection":"AWS","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://www.middlewareinventory.com/blog/aws-cli-ec2/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; AWS EC2 CLI  List Examples &#8211; Describe instances | Devops Junction Comments Feed" href="aws-cli-ec2/feed/index.rss" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2HY2B3N51X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2HY2B3N51X');
</script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"99e469e1b4"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://www.middlewareinventory.com/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../wp-json/index.json" /><link rel="alternate" type="application/json" href="../wp-json/wp/v2/posts/4493.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='aws-cli-ec2/index.html' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-aws-cli-ec2-.json" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-aws-cli-ec2-&amp;format=xml.xml" />
<script>
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/" + ";secure;";
    document.cookie = "cookie_notice_accepted=true;max-age=" + 3600*24*365 + "; path=/";
    if ( ! /(^|;)\s*cca_is_eu=/.test(document.cookie) ) {  // if check prevents reload loop
		  document.cookie = "cca_is_eu=false;max-age=" + 3600*24*364 + "; path=/";
      var ccaURL = window.location.protocol + '//',
      hostname = window.location.host + '/' + window.location.pathname;
			if ( '0' === '1' ) {
        window.location.reload( true );
      }
   }
</script>
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="AWS EC2 CLI  List Examples &#8211; Describe instances | Devops Junction - Middleware Inventory" />
<meta property="og:description" content="AWS CLI is a very great help when it comes to efficiently managing your AWS Cloud Infrastructure and your EC2 instances.

While we are managing our AWS Infrastructure,  we cannot always afford to login to the AWS console all the time and it is not recommended from the security perspective as well.

So the key here is the Programmatic Access with AWS" />
<meta property="og:url" content="https://www.middlewareinventory.com/blog/aws-cli-ec2/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="https://www.middlewareinventory.com/wp-content/uploads/2020/01/Screenshot-2019-11-22-at-4.24.52-PM.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="AWS CLI is a very great help when it comes to efficiently managing your AWS Cloud Infrastructure and your EC2 instances.

While we are managing our AWS Infrastructure,  we cannot always afford to login to the AWS console all the time and it is not recommended from the security perspective as well.

So the key here is the Programmatic Access with AWS" />
<meta name="twitter:title" content="AWS EC2 CLI  List Examples &#8211; Describe instances | Devops Junction - Middleware Inventory" />
<meta property="twitter:image" content="https://www.middlewareinventory.com/wp-content/uploads/2020/01/Screenshot-2019-11-22-at-4.24.52-PM.png" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.middlewareinventory.com/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 22px;
}
#precode
{
  background-color: transparent !important;
  color: #00193a !important;
  font-size: 16px;
}
.post-img
{
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  border: 1px solid lightgray;
}
pre
{
  display: block; 
  overflow-x: auto; 
  padding-left: 2em;
  padding-top: 3em;
  padding-bottom: 3em;
  background: #eaeef3 none repeat scroll 0% 0%; 
  color: #00193a;
}
li {
    padding: 2px;
    margin-left: 2%;
}
code
{
  color: black;
}
blockquote {
    padding: 2%;
    background-color: none !important;
}
div.enlighter{
  font-size: 1.2em;  
}
.enlighter-default {
    font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
    background: #eaeef3 none repeat scroll 0% 0% !important;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-4493 single-format-standard wp-custom-logo cookies-not-set elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../index.html" class="custom-logo-link" rel="home"><img width="300" height="107" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="300" height="107" src="../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1513"><a href="category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-3216"><a href="category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>

<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-4493" class="post-4493 post type-post status-publish format-standard has-post-thumbnail hentry category-aws wpautop">
<header class="entry-header">
<h1 class="entry-title">AWS EC2 CLI List Examples &#8211; Describe instances | Devops Junction</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="aws-cli-ec2/index.html" title="4:37 am" rel="bookmark"><time class="entry-date published updated" datetime="July 10, 2022">July 10, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=AWS%20EC2%20CLI%20%20List%20Examples%20%E2%80%93%20Describe%20instances%20%7C%20Devops%20Junction&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-cli-ec2%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="4493" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/aws-cli-ec2/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=AWS+EC2+CLI++List+Examples+%E2%80%93+Describe+instances+%7C+Devops+Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-cli-ec2%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="4493" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/aws-cli-ec2/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=AWS%20EC2%20CLI%20%20List%20Examples%20%E2%80%93%20Describe%20instances%20%7C%20Devops%20Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-cli-ec2%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="4493" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/aws-cli-ec2/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Faws-cli-ec2%2F&subject=AWS%20EC2%20CLI%20%20List%20Examples%20%E2%80%93%20Describe%20instances%20%7C%20Devops%20Junction" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="4493" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/aws-cli-ec2/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="4493" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/aws-cli-ec2/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<p>AWS CLI is a very great help when it comes to efficiently managing your AWS Cloud Infrastructure and your EC2 instances.</p>
<p>While we are managing our AWS Infrastructure,  we cannot always afford to login to the AWS console all the time and it is not recommended from the security perspective as well.</p>
<p>So the key here is the Programmatic Access with AWS CLI.</p>
<p>This is what we are going to do in this post.</p>
<ol>
<li>Setup your Programmatic Access &#8211; Create Access Key and  Key Secret.</li>
<li>Install AWS CLI</li>
<li>Configure AWS CLI</li>
<li>Execute the AWS CLI Command line examples to List EC2 instances command line.</li>
</ol>
<p>Let us perform these aforementioned steps one by one.</p>
<p>&nbsp;</p>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Setup_your_Programmatic_Access_Create_Access_Key" title="Setup your Programmatic Access &#8211; Create Access Key">Setup your Programmatic Access &#8211; Create Access Key</a></li><li><a href="#Install_AWS_CLI" title="Install AWS CLI">Install AWS CLI</a></li><li><a href="#Configure_AWS_CLI" title="Configure AWS CLI">Configure AWS CLI</a></li><li><a href="#Quick_Syntax_of_AWS_CLI_Commands" title="Quick Syntax of AWS CLI Commands">Quick Syntax of AWS CLI Commands</a></li><li><a href="#AWS_CLI_EC2_Examples_Describe_instances" title="AWS CLI EC2 Examples &#8211; Describe instances
">AWS CLI EC2 Examples &#8211; Describe instances
</a><ul><li><a href="#Example1_List_All_Instances_in_your_AWS_infrastructure_from_Default_Region" title="Example1: List All Instances in your AWS infrastructure from Default Region">Example1: List All Instances in your AWS infrastructure from Default Region</a></li><li><a href="#Example2_List_only_Running_instances_as_a_Table_using_AWS_CLI_EC2" title="Example2:  List only Running instances as a Table using AWS CLI EC2">Example2:  List only Running instances as a Table using AWS CLI EC2</a></li><li><a href="#Example3_Getting_More_Fields_using_the_Query_Parameter_Get_the_Machine_type" title="Example3:  Getting More Fields using the Query Parameter.  Get the Machine type">Example3:  Getting More Fields using the Query Parameter.  Get the Machine type</a></li><li><a href="#Example4_Get_the_servers_based_on_a_String_availability_on_the_tag_using_AWS_CLI_EC2" title="Example4:  Get the servers based on a String availability on the tag using AWS CLI EC2">Example4:  Get the servers based on a String availability on the tag using AWS CLI EC2</a></li><li><a href="#Example5_Describe_a_Specific_instance_by_Instance_ID_using_AWS_CLI_EC2" title="Example5:  Describe a Specific instance by Instance ID using AWS CLI EC2">Example5:  Describe a Specific instance by Instance ID using AWS CLI EC2</a></li><li><a href="#Example6_List_all_running_instances_based_on_the_Instance_Type_t2medium_t2large_etc" title="Example6:  List all running instances based on the Instance Type. t2.medium, t2.large etc.">Example6:  List all running instances based on the Instance Type. t2.medium, t2.large etc.</a></li><li><a href="#Example7_List_instances_based_on_the_Availability_Zone_using_AWS_CLI_EC2" title="Example7:  List instances based on the Availability Zone using AWS CLI EC2">Example7:  List instances based on the Availability Zone using AWS CLI EC2</a></li><li><a href="#Example_8_List_the_instances_associated_with_a_Specific_Security_Group" title="Example 8: List the instances associated with a Specific Security Group">Example 8: List the instances associated with a Specific Security Group</a></li><li><a href="#Example_9_List_the_running_instances_with_PrivateIP_PublicIP_and_VPC_ID" title="Example 9: List the running instances with PrivateIP, PublicIP and VPC ID">Example 9: List the running instances with PrivateIP, PublicIP and VPC ID</a></li><li><a href="#Example_10_List_All_the_instances_in_all_regions" title="Example 10: List All the instances in all regions">Example 10: List All the instances in all regions</a></li><li><a href="#Example_11_List_SPOT_instances_using_aws_CLI_EC2" title="Example 11: List SPOT instances using aws CLI EC2">Example 11: List SPOT instances using aws CLI EC2</a></li><li><a href="#Example_12_List_ON-Demand_instances_using_aws_CLI_EC2" title="Example 12: List ON-Demand instances using aws CLI EC2">Example 12: List ON-Demand instances using aws CLI EC2</a></li><li><a href="#Example13_List_EC2_instances_with_IAM_and_Security_Group" title="Example13: List EC2 instances with IAM and Security Group">Example13: List EC2 instances with IAM and Security Group</a></li></ul></li><li><a href="#Conclusion" title="Conclusion">Conclusion</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Setup_your_Programmatic_Access_Create_Access_Key">Setup your <span style="color: #db0d4b;">Programmatic Access</span> &#8211; Create Access Key</span></h2>
<p>If you would like to create a new user in IAM along with the Access Key follow these steps.</p>
<ol>
<li>
<div>Login to AWS Console</div>
</li>
<li>
<div>In the services go to IAM</div>
</li>
<li>
<div>Create a User and Click on map existing Policies</div>
</li>
<li>
<div>Choose UserName and Select the Policy (Administrator Access Policy)</div>
</li>
<li>
<div>Create user</div>
</li>
<li>
<div>Final Stage would present the AccessKEY and Secret Access like given below.</div>
</li>
</ol>
<figure id="attachment_3140" class="wp-caption alignleft"><a href="../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png"><img class="size-full wp-image-3140 lazyload" src="../wp-content/ewww/lazy/placeholder-996x385.png" alt="" width="996" height="385" data-src="../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png" loading="lazy" data-srcset="../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png 996w, ../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-300x116.png 300w, ../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-768x297.png 768w" data-sizes="auto" /><noscript><img class="size-full wp-image-3140" src="../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png" sizes="(max-width: 996px) 100vw, 996px" srcset="../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM.png 996w, ../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-300x116.png 300w, ../wp-content/uploads/2019/03/Screen-Shot-2019-03-31-at-2.20.07-AM-768x297.png 768w" alt="" width="996" height="385" data-eio="l" /></noscript></a><figcaption class="wp-caption-text">API key creation Successful Message Banner</figcaption></figure>
<p>&nbsp;</p>
<p>If you would like to Choose the existing user and create an Access Key follow this</p>
<ol>
<li>Sign in to the AWS Management Console and open the IAM console at https://console.aws.amazon.com/iam/.</li>
<li>In the navigation pane, choose Users.</li>
<li>Choose the name of the user whose access keys you want to create, and then choose the Security credentials tab.</li>
<li>In the Access keys section, choose to Create an access key.</li>
<li>To view the new access key pair, choose Show. You will not have access to the secret access key again after this dialog box closes. ( Refer the image given above)</li>
</ol>
<p>&nbsp;</p>
<h2 id="install-cli"><span class="ez-toc-section" id="Install_AWS_CLI"><span style="color: #db0d4b;">Install</span> AWS CLI</span></h2>
<p>Based on your base machine the AWS CLI installation and command might vary.</p>
<p>Amazon has given a clear instructions on how to install AWS CLI on each platform. Choose any of the following links and get your AWS CLI installed and ready</p>
<ul>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html" target="_blank" rel="noopener noreferrer">Installing AWS CLI version 2 on Linux or Unix</a></li>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-macOS.html" target="_blank" rel="noopener noreferrer">Installing AWS CLI version 2 on macOS</a></li>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-windows.html" target="_blank" rel="noopener noreferrer">Installing AWS CLI version 2 on Windows</a></li>
</ul>
<p>&nbsp;</p>
<h2 id="configure-cli"><span class="ez-toc-section" id="Configure_AWS_CLI"><span style="color: #db0d4b;">Configure</span> AWS CLI</span></h2>
<p>I presume that you have installed the AWS CLI package and if everything went well.</p>
<p>You should be able to see the version of the AWS CLI installed when entering the following command in your terminal or command prompt</p>
<pre>aws --version</pre>
<p>I am using the AWS CLI Version1 as CLI Version 2 is still on Beta.</p>
<p>Now it is a time to configure the AWS CLI, Just enter the following command and you would be prompted a few questions about the Access Key and Passwords.</p>
<pre>aws configure</pre>
<p>it would look like this as you are setting it up.</p>
<p>You enter your own <code>AWS Access Key ID</code> and <code>Secret Access Key</code> and the one is given below is not correct. Just a made up.</p>
<pre>➜ ~ aws configure
AWS Access Key ID [None]: AKIAS790KQGK63WUK6T5
AWS Secret Access Key [None]: kkQEiBjJSKrDkWBLO9G/JJKQWIOKL/CpHjMGyoiJWW
Default region name [None]: us-east-1
Default output format [None]:</pre>
<p>Well done. You are ready with AWS CLI</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Quick_Syntax_of_AWS_CLI_Commands">Quick <span style="color: #db0d4b;">Syntax</span> of AWS CLI Commands</span></h2>
<p>Before we are going in further,  let me quickly give you the syntax of  AWS CLI commands</p>
<pre>aws [options] &lt;command&gt; &lt;subcommand&gt; [&lt;subcommand&gt; ...] [parameters]</pre>
<p>aws CLI should be invoked with command and a subcommand. AWS CLI provides us <a href="https://docs.aws.amazon.com/cli/latest/reference/" target="_blank" rel="noopener noreferrer">huge list of commands</a> and their associated sub commands and their documentation is also awesome.</p>
<p>It would take years for someone to write about all these commands and our objective is very specific and we are going to take one Single command named <code>describe-instances</code></p>
<p>So let us move on and explore what it has got for us!!. We have given 7 examples of AWS CLI EC2  in this post.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="AWS_CLI_EC2_Examples_Describe_instances">AWS CLI EC2 <span style="color: #e01060;">Examples &#8211; Describe instances<br />
</span></span></h2>
<ol>
<li><a href="aws-cli-ec2/index.html#example1">List All instances in your AWS infra (Single Region)</a></li>
<li><a href="aws-cli-ec2/index.html#example2">List only Running instances</a></li>
<li><a href="aws-cli-ec2/index.html#example3">Get a Specific list of Fileds using Query Parameter</a></li>
<li><a href="aws-cli-ec2/index.html#example4">List Ec2 instance by tag value</a></li>
<li><a href="aws-cli-ec2/index.html#example5">Describe a Specific instance using the instance ID</a></li>
<li><a href="aws-cli-ec2/index.html#example6">List instances by Instance Type</a></li>
<li><a href="aws-cli-ec2/index.html#example7">List instances by Availability Zone</a></li>
<li><a href="aws-cli-ec2/index.html#example8">List the instances mapped to the Security Group.</a></li>
<li><a href="aws-cli-ec2/index.html#Example_9_List_the_running_instances_with_PrivateIP_PublicIP_and_VPC_ID">List the running instances with PrivateIP, PublicIP and VPC ID</a></li>
<li><a href="aws-cli-ec2/index.html#Example_10_List_All_the_instances_in_all_regions">List All the instances in all regions &#8211; Run Any AWS Command in all regions</a></li>
<li><a href="aws-cli-ec2/index.html#Example_11_List_only_running_SPOT_instances_using_aws_CLI_EC2">List SPOT instances using aws cli EC2</a></li>
<li><a href="aws-cli-ec2/index.html#Example_12_List_only_ON-Demand_instances_using_aws_CLI_EC2">List OnDemand Instances using aws cli EC2</a></li>
<li><a href="aws-cli-ec2/index.html#Example13_List_EC2_instances_with_IAM_and_Security_Group">List EC2 Instances with IAM and Security Group </a></li>
</ol>
<p>&nbsp;</p>
<h3 id="example1"><span class="ez-toc-section" id="Example1_List_All_Instances_in_your_AWS_infrastructure_from_Default_Region">Example1: List All Instances in your AWS infrastructure from Default Region</span></h3>
<p>If everything was done right. When you are running the following command you would see a Nicely formatted JSON output something just like this.</p>
<p>This command would list  all the instances from your default region defined by you.</p>
<p>The command is</p>
<pre>aws ec2 describe-instances</pre>
<p><a href="../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM.png"><img class="post-img alignnone wp-image-4496 size-full lazyload" src="../wp-content/ewww/lazy/placeholder-1594x1306.png" alt="List all EC2 instances command line" width="1594" height="1306" data-src="../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM.png" loading="lazy" data-srcset="../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM.png 1594w, ../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM-300x246.png 300w, ../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM-768x629.png 768w, ../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM-1024x839.png 1024w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-4496 size-full" src="../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM.png" alt="List all EC2 instances command line" width="1594" height="1306" srcset="../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM.png 1594w, ../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM-300x246.png 300w, ../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM-768x629.png 768w, ../wp-content/uploads/2019/11/Screenshot-2019-11-22-at-4.24.52-PM-1024x839.png 1024w" sizes="(max-width: 1594px) 100vw, 1594px" data-eio="l" /></noscript></a></p>
<p>It would fetch all the data from your aws account and display the results as JSON format.  but this is NOT a human-readable format.</p>
<p>So ansible AWS CLI has great filters for you in place to help.</p>
<p>If you would like to describe the instances in JSON from other regions you can specify the region name on the command</p>
<pre>aws ec2 describe-instances --region us-east-2</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3 id="example2"><span class="ez-toc-section" id="Example2_List_only_Running_instances_as_a_Table_using_AWS_CLI_EC2">Example2:  List only Running instances as a Table using AWS CLI EC2</span></h3>
<p>Here is the command we are going to execute. It is a bit complex to the previous command we have used. But it can be easily understood.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;">aws ec2 describe-instances  \
--query <span class="hljs-string" style="color: #880000;">"Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}" \</span> 
--filters Name=instance-state-name,</pre>
<p><strong><span style="color: #993300;">Values=running</span> \</strong></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #f0f0f0; color: #444444;">--output table</pre>
<p>So we are using three main parameters/flags here with aws ec2 describe-instances command.</p>
<p><code>--query</code> accepts the JSON query,  To limit the fields returned or to customize the list of fields on the result</p>
<p><code>--filters</code> accepts a list of filters, A Search String alike. to get the list of filters refer <a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options">here</a></p>
<p><code>--output</code> to customize the format of the output, JSON (or) TABLE</p>
<p><a href="../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM.png"><img class="post-img alignnone wp-image-4684 size-full lazyload" src="../wp-content/ewww/lazy/placeholder-1744x1056.png" alt="" width="1744" height="1056" data-src="../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM.png" loading="lazy" data-srcset="../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM.png 1744w, ../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM-300x182.png 300w, ../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM-768x465.png 768w, ../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM-1024x620.png 1024w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-4684 size-full" src="../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM.png" alt="" width="1744" height="1056" srcset="../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM.png 1744w, ../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM-300x182.png 300w, ../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM-768x465.png 768w, ../wp-content/uploads/2020/01/Screenshot-2020-01-08-at-2.00.37-AM-1024x620.png 1024w" sizes="(max-width: 1744px) 100vw, 1744px" data-eio="l" /></noscript></a></p>
<p>With the help of the <code>--query</code> field we are displaying only the <code>Name, PublicIP, Status</code> fields from the entire data.  We can customize it further by choosing more or less fields using the query.</p>
<p>Consider the following example.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3 id="example3"><span class="ez-toc-section" id="Example3_Getting_More_Fields_using_the_Query_Parameter_Get_the_Machine_type">Example3:  Getting More Fields using the Query Parameter.  Get the Machine type</span></h3>
<p>Here is the command we are going to use to get the list of running instances with Name, PublicIP, Status along with machine type</p>
<pre>ansible aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}"  \
--filters "Name=instance-state-name,Values=running" "Name=tag:Name,Values='*'"  \
--output table</pre>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3 id="example4"><span class="ez-toc-section" id="Example4_Get_the_servers_based_on_a_String_availability_on_the_tag_using_AWS_CLI_EC2">Example4:  Get the servers based on a String availability on the tag using AWS CLI EC2</span></h3>
<p>While we are creating the servers, we give meaningful tags to the server <code>Name</code> is one famous tag name we are giving for all the ec2 instances we are creating.</p>
<p>Often we would give some useful information on this such as Hostname, Application Name, Environment Name etc.</p>
<p>Let&#8217;s suppose that this <code>Name</code> the field is having the environment names such as <code>dev, prod, uat</code> on all the servers present in your aws infrastructure</p>
<p>To list only the <code>Dev</code> servers. the following command would help</p>
<pre>aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}"  \
--filters "Name=instance-state-name,Values=running"</pre>
<p><strong><span style="color: #993300;">&#8220;Name=tag:Name,Values=&#8217;*Dev*'&#8221;</span> \</strong></p>
<pre>--output table</pre>
<p>Look at the highlighted part on the preceding snippet and you would understand that we are using the Search string <code>*Dev*</code> to get only the Development servers.</p>
<p>We are also specifying the tag name in which the search has to happen with <code>Name=tag:Name</code></p>
<p>&nbsp;</p>
<h3 id="example5"><span class="ez-toc-section" id="Example5_Describe_a_Specific_instance_by_Instance_ID_using_AWS_CLI_EC2">Example5:  Describe a Specific instance by Instance ID using AWS CLI EC2</span></h3>
<p>Sometimes all you want to know is a configuration of a Single instance and if you have the <code>instance-id</code> with you. you can do it easily with aws ec2 describe-instances command line.</p>
<p>Here is the command,</p>
<p>The <code>--instance-ids</code> parameter can accept one or more instance ids. The output will be printed as JSON unless modified with <code>--query</code> and <code>--output</code></p>
<pre>aws ec2 describe-instances --instance-ids i-1234567890abcdef0</pre>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3 id="example6"><span class="ez-toc-section" id="Example6_List_all_running_instances_based_on_the_Instance_Type_t2medium_t2large_etc">Example6:  List all running instances based on the Instance Type. t2.medium, t2.large etc.</span></h3>
<p>List only <code>large</code> instances in a running state</p>
<pre>aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}"  \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='*large*'" \
--output table</pre>
<p>List only <code>medium</code> and <code>micro</code> instances</p>
<pre>aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}" \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='t2.medium','t2.micro'" \
--output table</pre>
<blockquote><p><span style="color: #0d589e;"><strong> You can get the output as JSON as well, Not just Table</strong></span></p>
<p>I know you might think that all the examples are having  <code>--output</code> format as table.  Based on your requirement you can use either  <code>table</code> or <code>text</code> or <code>json</code> with this <code>output</code> parameter.</p>
<p>here is the example.</p>
<pre>aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}" \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='t2.medium','t2.micro'" \
--output json</pre>
</blockquote>
<h3 id="example7"><span class="ez-toc-section" id="Example7_List_instances_based_on_the_Availability_Zone_using_AWS_CLI_EC2">Example7:  List instances based on the Availability Zone using AWS CLI EC2</span></h3>
<p>You can also list the instances based on their availability zone</p>
<p>here is the command</p>
<div class="highlight-python">
<pre>aws ec2 describe-instances \
    --filters Name=availability-zone,Values=us-east-2c</pre>
</div>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3 id="example8"><span class="ez-toc-section" id="Example_8_List_the_instances_associated_with_a_Specific_Security_Group">Example 8: List the instances associated with a Specific Security Group</span></h3>
<p>I think, we often get a requirement to check  how many instances are using a particular security group and here is the aws ec2 command to get that done for us</p>
<p>Here my security group name is <code>Application-Server</code> and here is the command I would use to get the list of EC2 instance associated with the Security group</p>
<p>Here I am using the <code>instance.group-name</code> filter to get that done.</p>
<pre>aws ec2 describe-instances \ 
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}" \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='t2.medium','t2.micro'" "<span style="color: #993300;">Name=instance.group-name,Values='Application-Server</span>'" \
--output table</pre>
<p>As it does not print the Security Group data in the table format. If you want to reverify. You can use the following command which lists the <code>Security-Groups</code> associated with the EC2 instance. Just to cross verify.</p>
<pre>aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,<span style="color: #993300;">SecurityGroups:SecurityGroups[*]</span>}" \ 
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='t2.medium','t2.micro'" "Name=instance.group-name,Values=Application-Server" \
--output json</pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_9_List_the_running_instances_with_PrivateIP_PublicIP_and_VPC_ID">Example 9: List the running instances with PrivateIP, PublicIP and VPC ID</span></h3>
<p>In this example, we are going to see how to use AWS CLI EC2 to list the running instances with more details like InstanceType, PrivateIP, PublicIP and VPC ID etc</p>
<pre lang="en-US" style="margin: 0in; font-family: Consolas; font-size: 11.0pt;">aws ec2 describe-instances 
--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,PrivateIP:PrivateIpAddress,Name:Tags[?Key=='Name']|[0].Value,Type:InstanceType,Status:State.Name,VpcId:VpcId}" 
--filters Name=instance-state-name,Values=running 
--output table</pre>
<p>Here is the execution output of this command looks like</p>
<p><a href="../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM.png"><img class="post-img alignnone wp-image-5262 size-full lazyload" src="../wp-content/ewww/lazy/placeholder-1920x822.png" alt="" width="2570" height="1100" data-src="../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM.png" loading="lazy" data-srcset="../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM.png 2570w, ../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM-300x128.png 300w, ../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM-768x329.png 768w, ../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM-1024x438.png 1024w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-5262 size-full" src="../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM.png" alt="" width="2570" height="1100" srcset="../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM.png 2570w, ../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM-300x128.png 300w, ../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM-768x329.png 768w, ../wp-content/uploads/2020/01/Screenshot-2020-04-19-at-11.33.13-PM-1024x438.png 1024w" sizes="(max-width: 2570px) 100vw, 2570px" data-eio="l" /></noscript></a></p>
<h2></h2>
<h3><span class="ez-toc-section" id="Example_10_List_All_the_instances_in_all_regions">Example 10: List All the instances in all regions</span></h3>
<p>By default AWS CLI would be picking up your default region while executing the command. What if you want to List All the instances in all regions.</p>
<p>we have a solution for it. Refer the following post where we talk about our new tool <code>awsall</code></p>
<blockquote class="wp-embedded-content" data-secret="Y4FRv1YFVl"><p><a href="run-aws-cli-commands-on-all-regions-awsall/index.html">Run AWS CLI commands on All regions &#8211; awsall | Devops Junction</a></p></blockquote>
<p><iframe class="wp-embedded-content" sandbox="allow-scripts" security="restricted" style="position: absolute; clip: rect(1px, 1px, 1px, 1px);" title="&#8220;Run AWS CLI commands on All regions &#8211; awsall | Devops Junction&#8221; &#8212; Middleware Inventory" src="run-aws-cli-commands-on-all-regions-awsall/embed/index.html#?secret=Y4FRv1YFVl" data-secret="Y4FRv1YFVl" width="600" height="338" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></p>
<p>You can execute all the aws commands with <code>awsall</code> with modification.</p>
<p>For example, Take the example 9 and replace the <code>aws</code>with <code>awsall</code> and execute it.</p>
<pre>awsall ec2 describe-instances --query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,PrivateIP:PrivateIpAddress,Name:Tags[?Key=='Name']|[0].Value,Type:InstanceType,Status:State.Name,VpcId:VpcId}" --filters Name=instance-state-name,Values=running --output table</pre>
<p>It will be executed on all AWS regions and give you the result.</p>
<p><a href="../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-scaled.jpg"><img class="post-img alignnone wp-image-7203 size-full lazyload" src="../wp-content/ewww/lazy/placeholder-1920x1197.png" alt="aws cli" width="2560" height="1596" data-src="../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-scaled.jpg" loading="lazy" data-srcset="../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-scaled.jpg 2560w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-300x187.jpg 300w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-1024x638.jpg 1024w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-768x479.jpg 768w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-1536x957.jpg 1536w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-2048x1277.jpg 2048w" data-sizes="auto" /><noscript><img class="post-img alignnone wp-image-7203 size-full" src="../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-scaled.jpg" alt="aws cli" width="2560" height="1596" srcset="../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-scaled.jpg 2560w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-300x187.jpg 300w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-1024x638.jpg 1024w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-768x479.jpg 768w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-1536x957.jpg 1536w, ../wp-content/uploads/2020/01/Screenshot-2021-09-05-at-11.08.46-PM-2048x1277.jpg 2048w" sizes="(max-width: 2560px) 100vw, 2560px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_11_List_SPOT_instances_using_aws_CLI_EC2">Example 11: List SPOT instances using aws CLI EC2</span></h3>
<p>At times we want to list instances based on their billing life cycle, SPOT or On Demand.</p>
<p>Here is the aws CLI ec2 command to list. only spot instances</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PrivateIP:PrivateIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,LifeCyle:InstanceLifecycle }"  \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='*'" \
--output table | grep -i spot</pre>
<p>This would print the details in the form of a table.</p>
<p>If you want the output as a CSV. you can use the following command. we have used <code>awk</code>command to format the output to CSV along with text output format.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PrivateIP:PrivateIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,LifeCyle:InstanceLifecycle }"  \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='*'" \
--output text |grep -i spot | awk '{print $1","$2","$3","$4","$5}'</pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Example_12_List_ON-Demand_instances_using_aws_CLI_EC2">Example 12: List ON-Demand instances using aws CLI EC2</span></h3>
<p>to list only the OnDemand EC2 instances on your AWS account. You can use the following command</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-linenumbers="false" data-enlighter-theme="bootstrap4">aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PrivateIP:PrivateIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,LifeCyle:InstanceLifecycle }"  \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='*'" \
--output table|grep -iv spot</pre>
<p>as on-demand instances would not have any <code>InstanceLifeCycle</code> reference like SPOT. we are trying to list all instances without <code>spot</code> using <code>grep -iv</code></p>
<p>If you want the output to be in CSV format you can use the below command</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">aws ec2 describe-instances \
--query "Reservations[*].Instances[*].{PrivateIP:PrivateIpAddress,Type:InstanceType,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,LifeCyle:InstanceLifecycle }"  \
--filters "Name=instance-state-name,Values=running" "Name=instance-type,Values='*'" \
--output text|grep -iv spot|awk '{print $1","$2","$3","$4","$5}'</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3 id="example1"><span class="ez-toc-section" id="Example13_List_EC2_instances_with_IAM_and_Security_Group">Example13: List EC2 instances with IAM and Security Group</span></h3>
<p>In this example, we are listing the aws EC2 instances with their IAM security role and security group configuration.</p>
<p>Get all running instances with their IAM and security group using aws cli</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">aws ec2 describe-instances --query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,PrivateIP:PrivateIpAddress,Name:Tags[?Key=='Name'].Value|[0],Status:State.Name,VpcId:VpcId,InstanceID:InstanceId,Groups:join(',',NetworkInterfaces[].Groups[].GroupId),IamInstanceProfile:IamInstanceProfile.Arn}" --filters "Name=instance-state-name,Values=running" --output json</pre>
<p>&nbsp;</p>
<p>Get all stopped instances with their IAM and security group using aws cli</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">aws ec2 describe-instances --query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,PrivateIP:PrivateIpAddress,Name:Tags[?Key=='Name'].Value|[0],Status:State.Name,VpcId:VpcId,InstanceID:InstanceId,Groups:join(',',NetworkInterfaces[].Groups[].GroupId),IamInstanceProfile:IamInstanceProfile.Arn}" --filters "Name=instance-state-name,Values=stopped"  --output json</pre>
<p>&nbsp;</p>
<p>Filter instances with a specific name.  done using the filters</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">aws ec2 describe-instances --query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,PrivateIP:PrivateIpAddress,Name:Tags[?Key=='Name'].Value|[0],Status:State.Name,VpcId:VpcId,InstanceID:InstanceId,Groups:join(',',NetworkInterfaces[].Groups[].GroupId),IamInstanceProfile:IamInstanceProfile.Arn}" --filters "Name=instance-state-name,Values=running" "Name=tag:Name,Values=*EKS*" --output json</pre>
<p>You can notice we are using <code>*EKS*</code> to filter Ec2 instances which have EKS on their name.</p>
<p>We are also using a special function of JMESPATH named <code>join</code> to flatten the array and convert all the elements to a single-line string with a comma</p>
<p>Since the IAM role would come as a full ARN and at times a single instance would have multiple security groups, displaying this data as a table using <code>--output table</code> may not be the right choice.</p>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Conclusion">Conclusion</span></h2>
<p>While there are so many modules still that are not covered in this post. I hope that this gives you a good start on the AWS CLI command line.</p>
<p>Feel free to ask any questions in the comments section</p>
<a href="../wp-content/uploads/2021/09/DaaS.svg"><img class="post-img lazyload" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1047 415'%3E%3C/svg%3E" alt="gritfy" width="1047" height="415" class="post-img lazyload" data-src="../wp-content/uploads/2021/09/DaaS.svg" loading="lazy" /><noscript><img class="post-img" src="../wp-content/uploads/2021/09/DaaS.svg" alt="gritfy" width="1047" height="415" class="alignnone size-full wp-image-6623" data-eio="l" /></noscript></a>
<p>&nbsp;</p>
<p>Cheers<br />
Rumen Lishkov</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../cdn-cgi/l/email-protection.html#5139343d3d3e113623382537287f323e3c"> <span class="__cf_email__" data-cfemail="f9919c959596b99e8b908d9f80d79a9694">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657454377" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="4493" />
<input type="hidden" name="es_email_page_url" value="https://www.middlewareinventory.com/blog/aws-cli-ec2/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="2cd23f1162" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657454377" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657454377"></span>
</div>
</div>
<hr>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='ansible-aws-ec2/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible EC2 Create" data-src="../wp-content/uploads/2019/12/Screenshot-2019-12-02-at-2.07.39-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../wp-content/uploads/2019/12/Screenshot-2019-12-02-at-2.07.39-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible EC2 Create" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='ansible-aws-ec2/index.html'>Ansible EC2 Example - Create EC2 instance with Ansible</a><p>Infrastructure as Code is getting all attention it deserves and everyone is trying to find their way to the `Completely automated Infrastructure Provisioning &amp; Management` While there are a lot of tools available now in the market starting from Terraform, AWS CloudFormation, Chef, Puppet, Salt Stack There are some differences&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='ansible-ec2-ssh-key/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="add ssh key to EC2 instance" data-src="../wp-content/uploads/2019/11/Screenshot-2020-11-07-at-7.00.04-AM-150x150.jpg" loading="lazy" /><noscript><img width="150" height="150" src="../wp-content/uploads/2019/11/Screenshot-2020-11-07-at-7.00.04-AM-150x150.jpg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="add ssh key to EC2 instance" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='ansible-ec2-ssh-key/index.html'>Add SSH Key to EC2 instances with Ansible - Automated</a><p>Whether it is On-Prem (or) Cloud-hosted, A Typical Non-Containerized Enterprise infrastructure would have ample of Virtual Machines aka Servers [ Linux ] Let us suppose that you work for the DevOps team of a Big Organization where you manage 100+ ec2 instances. You have a new hire in your team&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='build-packer-aws-image-example/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../wp-content/uploads/2019/06/PackerAWS-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../wp-content/uploads/2019/06/PackerAWS-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='build-packer-aws-image-example/index.html'>Packer Build - Create and Build Packer Templates and Images for AWS</a><p>Infrastructure as Code is a Brilliant Concept in DevOps and Packer and Terraform are two major technologies/products in this segment. Thanks to HashiCorp Imagine that you need to create an AWS EC2 instance for your company or for learning purpose with your AWS free tier account. How do you do&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='packer-aws-terraform-example/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../wp-content/uploads/2019/03/cloud-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../wp-content/uploads/2019/03/cloud-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='packer-aws-terraform-example/index.html'>Packer AWS Example with Terraform</a><p>In this article, we are going to see a quick packer aws example setup and provide the steps to create an AWS Image (AMI) using Packer and we are also going to Create Amazon EC2 Instance ( Elastic Bean Stack - EBS)&nbsp; from the same AMI Image we have created,&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='list-the-applied-patches-weblogic/index.html'>How to List the applied Patches in Weblogic</a><p>To List the applied patches in weblogic, you can do the following. For Versions Prior 10.3 Go to your MW_HOME/utils/bsu directory Run the following command ./bsu.sh -report Note* If you get any error like "unable to access patch-client.jar" - Execute the setWLSEnv.sh from WL_HOME/server/bin script and retry For weblogic 12c&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="ansible-find-examples/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>Ansible Find Examples &#8211; How to use Ansible Find</a></div><div class="nav-next"><a href="terraform-aws-example-ec2/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>Terraform AWS Example &#8211; Create EC2 instance with Terraform</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 100%; height: auto;" data-src="../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 100%; height: auto;" srcset="../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">
Powered by <a href="../index.html" title="MiddlewareInventory">MiddlewareInventory</a> and <a href="https://www.gritfy.com/" title="Gritfy">gritfy</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-4493 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://www.middlewareinventory.com/blog/aws-cli-ec2/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=AWS+EC2+CLI++List+Examples+%E2%80%93+Describe+instances+%7C+Devops+Junction&url=https://www.middlewareinventory.com/blog/aws-cli-ec2/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://www.middlewareinventory.com/blog/aws-cli-ec2/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=AWS+EC2+CLI++List+Examples+%E2%80%93+Describe+instances+%7C+Devops+Junction&body=https://www.middlewareinventory.com/blog/aws-cli-ec2/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://web.whatsapp.com/send?text=https://www.middlewareinventory.com/blog/aws-cli-ec2/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"4493 https:\/\/www.middlewareinventory.com\/?p=4493","disqusShortname":"mwinventory","disqusTitle":"AWS EC2 CLI  List Examples \u2013 Describe instances | Devops Junction","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/aws-cli-ec2\/","postId":"4493"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"366d37f6eb"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"ea43d2819b","post_id":"4493"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"820bc57be0","ip":"160.238.75.92","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://www.middlewareinventory.com/blog/aws-cli-ec2/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
 <script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657454377;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
</div>
</body>
</html>
