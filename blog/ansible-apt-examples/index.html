<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.middlewareinventory.com/xmlrpc.php">

<title>Ansible apt module Examples - install packages with apt | Devops Junction</title>
<meta name="description" content="Ansible apt examples. Ansible apt install example. ansible apt update example. How to install package with ansible apt module. Ansible Ubuntu apt" />
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Ansible apt module Examples - install packages with apt | Devops Junction" />
<meta property="og:description" content="Ansible apt examples. Ansible apt install example. ansible apt update example. How to install package with ansible apt module. Ansible Ubuntu apt" />
<meta property="og:url" content="https://www.middlewareinventory.com/blog/ansible-apt-examples/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="article:publisher" content="http://www.facebook.com/devopsjunc" />
<meta property="article:published_time" content="2020-02-23T22:02:06+00:00" />
<meta property="article:modified_time" content="2022-02-10T20:09:29+00:00" />
<meta property="og:image" content="https://www.middlewareinventory.com/wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.19.26-AM.png" />
<meta property="og:image:width" content="1438" />
<meta property="og:image:height" content="751" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@mwinventory" />
<meta name="twitter:site" content="@mwinventory" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.middlewareinventory.com/#organization","name":"Middleware Inventory","url":"https://www.middlewareinventory.com/","sameAs":["http://www.facebook.com/devopsjunc","https://www.youtube.com/channel/UCRuqBFM6ioWwviNJkgOjeWw","https://twitter.com/mwinventory"],"logo":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#logo","inLanguage":"en-US","url":"https://www.middlewareinventory.com/wp-content/uploads/2020/09/Screenshot-2020-09-18-at-3.49.40-AM.jpg","width":300,"height":107,"caption":"Middleware Inventory"},"image":{"@id":"https://www.middlewareinventory.com/#logo"}},{"@type":"WebSite","@id":"https://www.middlewareinventory.com/#website","url":"https://www.middlewareinventory.com/","name":"Devops Junction","description":"An inventory of [i]nformation, Middleware and much more.","publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://www.middlewareinventory.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#primaryimage","inLanguage":"en-US","url":"https://www.middlewareinventory.com/wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.19.26-AM.png","width":1438,"height":751,"caption":"Ansible apt"},{"@type":"WebPage","@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#webpage","url":"https://www.middlewareinventory.com/blog/ansible-apt-examples/","name":"Ansible apt module Examples - install packages with apt | Devops Junction","isPartOf":{"@id":"https://www.middlewareinventory.com/#website"},"primaryImageOfPage":{"@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#primaryimage"},"datePublished":"2020-02-23T22:02:06+00:00","dateModified":"2022-02-10T20:09:29+00:00","description":"Ansible apt examples. Ansible apt install example. ansible apt update example. How to install package with ansible apt module. Ansible Ubuntu apt","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://www.middlewareinventory.com/blog/ansible-apt-examples/"]}]},{"@type":"Article","@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#article","isPartOf":{"@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#webpage"},"author":{"@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147"},"headline":"Ansible apt module Examples &#8211; install packages with apt | Devops Junction","datePublished":"2020-02-23T22:02:06+00:00","dateModified":"2022-02-10T20:09:29+00:00","mainEntityOfPage":{"@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#webpage"},"commentCount":1,"publisher":{"@id":"https://www.middlewareinventory.com/#organization"},"image":{"@id":"https://www.middlewareinventory.com/blog/ansible-apt-examples/#primaryimage"},"keywords":"apt update ansible","articleSection":"Ansible","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://www.middlewareinventory.com/blog/ansible-apt-examples/#respond"]}]},{"@type":"Person","@id":"https://www.middlewareinventory.com/#/schema/person/050bf13e27b309d29d1bda45c4eb3147","name":"Rumen Lishkov","image":{"@type":"ImageObject","@id":"https://www.middlewareinventory.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g","caption":"Rumen Lishkov"}}]}</script>

<link rel='dns-prefetch' href='https://js.stripe.com' />
<link rel='dns-prefetch' href='https://fonts.googleapis.com' />
<link rel='dns-prefetch' href='https://s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Feed" href="../../feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Comments Feed" href="../../comments/feed/index.rss" />
<link rel="alternate" type="application/rss+xml" title="Middleware Inventory &raquo; Ansible apt module Examples  &#8211; install packages with apt | Devops Junction Comments Feed" href="feed/index.rss" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2HY2B3N51X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2HY2B3N51X');
</script>

<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.middlewareinventory.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.6"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/404f7.css" media="all" />
<style id='ez-toc-inline-css' type='text/css'>div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container {width: 100%;}
</style>
<link rel="stylesheet" href="../../wp-content/cache/minify/f854f.css" media="all" />
<link rel='stylesheet' id='poseidon-default-fonts-css' href='https://fonts.googleapis.com/css?family=Ubuntu%3A400%2C400italic%2C700%2C700italic%7CRaleway%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel="stylesheet" href="../../wp-content/cache/minify/88e5e.css" media="all" />
<script type='text/javascript' id='monsterinsights-frontend-script-js-extra'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.middlewareinventory.com","hash_tracking":"false"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1058f.js"></script>
<script type='text/javascript' id='cookie-notice-front-js-extra'>
/* <![CDATA[ */
var cnArgs = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","hideEffect":"fade","onScroll":"no","onScrollOffset":"100","cookieName":"cookie_notice_accepted","cookieValue":"true","cookieTime":"2592000","cookiePath":"\/","cookieDomain":"","redirection":"","cache":"1","refuse":"yes","revoke_cookies":"0","revoke_cookies_opt":"automatic","secure":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/545b0.js"></script>
<script type='text/javascript' id='email-subscribers-js-extra'>
/* <![CDATA[ */
var es_data = {"messages":{"es_empty_email_notice":"Please enter email address","es_rate_limit_notice":"You need to wait for sometime before subscribing again","es_single_optin_success_message":"Successfully Subscribed.","es_email_exists_notice":"Email Address already exists!","es_unexpected_error_notice":"Oops.. Unexpected error occurred.","es_invalid_email_notice":"Invalid email address","es_try_later_notice":"Please try after some time"},"es_ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/1de0a.js"></script>
<script type='text/javascript' id='ssb-front-js-js-extra'>
/* <![CDATA[ */
var SSB = {"ajax_url":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","fb_share_nonce":"3d8661396b"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/268e7.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://www.middlewareinventory.com/wp-content/themes/poseidon/js/html5shiv.min.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<script type='text/javascript' id='poseidon-post-slider-js-extra'>
/* <![CDATA[ */
var poseidon_slider_params = {"animation":"slide","speed":"7000"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/51af3.js"></script>
<script type='text/javascript' id='eio-lazy-load-js-extra'>
/* <![CDATA[ */
var eio_lazy_vars = {"exactdn_domain":"","skip_autoscale":"0"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/28f5b.js"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.json" /><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/5138.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.middlewareinventory.com/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 5.5.6" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-apt-examples-.json" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-url=https---www.middlewareinventory.com-blog-ansible-apt-examples-&amp;format=xml.xml" />
<link href='https://fonts.googleapis.com/css?family=Strait:100,200,300,400,500,600,700,800,900&amp;subset=arabic,vietnamese,hebrew,thai,bengali,latin,latin-ext,cyrillic,cyrillic-ext,greek' rel='stylesheet' type='text/css'><style>a.idcore-button,a.idcore-button:visited{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:hover,a.idcore-button:focus{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}a.idcore-button:active{font-family:'Strait','arial';font-size:20px;color:#ffffff;font-weight:normal;font-style:normal;text-decoration:none !important;text-transform:uppercase;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:rgba(212, 7, 72, 1);background-image:linear-gradient(to bottom,rgba(255,255,255,.05) 0,rgba(255,255,255,.05) 50%,rgba(0,0,0,.05) 51%,rgba(0,0,0,.05) 100%);border-width:1px;border-style:solid;border-color:#d4150b;border-radius:3px;box-shadow: 2px 2px 0px 0px rgba(68, 68, 68, 0.2);}</style><script>var idcore_ajax_url = "https://www.middlewareinventory.com/wp-admin/admin-ajax.php";</script> <style media="screen">/*inline margin*/
	
	
	
	
	
	
			 /*margin-digbar*/

	
	
	
	
	   div[class*="simplesocialbuttons-float"].simplesocialbuttons.simplesocial-round-icon button{
	 margin: ;
   }
	
	
	
</style>

<meta property="og:title" content="Ansible apt module Examples  &#8211; install packages with apt | Devops Junction - Middleware Inventory" />
<meta property="og:description" content="Ansible APT Package manager is an Ubuntu equivalent for RedHat yum package manager. Just like all other ansible modules apt ansible module is built after one specific unix command of Debian apt-get

It is always recommended to choose the modules rather using the raw unix commands over the shell module as it would bring more standard and fault tolerance to your Ansible Playbook

So how" />
<meta property="og:url" content="https://www.middlewareinventory.com/blog/ansible-apt-examples/" />
<meta property="og:site_name" content="Middleware Inventory" />
<meta property="og:image" content="https://www.middlewareinventory.com/wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.19.26-AM.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Ansible APT Package manager is an Ubuntu equivalent for RedHat yum package manager. Just like all other ansible modules apt ansible module is built after one specific unix command of Debian apt-get

It is always recommended to choose the modules rather using the raw unix commands over the shell module as it would bring more standard and fault tolerance to your Ansible Playbook

So how" />
<meta name="twitter:title" content="Ansible apt module Examples  &#8211; install packages with apt | Devops Junction - Middleware Inventory" />
<meta property="twitter:image" content="https://www.middlewareinventory.com/wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.19.26-AM.png" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
<noscript><style>.lazyload[data-src]{display:none !important;}</style></noscript><style type="text/css" id="sns_global_styles">/* for mobile */
@media screen and (max-width: 480px) {
    #text-23 {
        display:none !important;
    }
	p,li
    {
      font-size: 20px !important;
      color: #333 !important;
      line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li a
    {
    	font-size: 20px !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  
  #afc_sidebar_4348 
{
  height: 8vh; 
  max-height: 8vh; 
  background-color: transparent;
}
}

/* for Desktop */
@media screen and (min-width: 500px) {
#afc_sidebar_4348 
{
  height: 10vh; 
  max-height: 10vh; 
  background-color: transparent;
}
  #text-23 {
        display:none !important;
    }
	p,li
    {
        font-size: 20px !important;
        color: #333 !important;
        line-height: 1.68 !important;;
    }
    .article-inner
    {
    	padding-right: 5% !important;
    	padding-left: 5% !important;
    }
    ul.related_post li
    {
    	width: 100% !important;
    }
    ul.related_post li small {
    font-size: 100%;
    }
  

}

.es_lablebox {
    padding-bottom: 3px;
    color: steelblue !important;
    font-weight: bold !important;
}
.widget-title span {
    line-height: 2.2;
    color: steelblue !important;
}
.sidey {
	padding: 0;
}
.sumome-contactform 
{
  display: none;
}
code { 
    font-family: courier;
    font-size: 18px;
    padding: 2px;
    background-color: #f1f1f1;
    /*box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;*/
    
}

.syntaxhighlighter {
    font-size: 14px !important;
}

pre {
 font-family: Menlo, Monaco, Consolas, "Courier New", monospace !important;
}

.black-red-border
{
    border-left: 3px solid;
    background-color: black;
    color: ghostwhite;
    border-left-color: red;
} 
}

#wpdevar_comment_1 span
{
  font-family:  "Open Sans", Helvetica, Arial, sans-serif !important;
  font-size: 20px !important;
  color: #1495b5 !important;
}

#wpdevar_comment_1 
{
  margin-top: 50px;
  margin-bottom: 30px;
}

summary
{
 color: steelblue; 
}

blockquote
{
  border-left-color: #cc0f77 !important;
  border-left-width: 4px !important;
  border-left-style: solid !important;
  background-color: #f5f5f5 !important;
}

.rp4wp-related-post-image{ width: auto !important; }

.main-navigation-menu
{
  float: none !important;
}

.primary-navigation
{
  float: none !important
}

body,html{
  /* font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

.page-title, .entry-title, .site-title, .main-navigation-menu a, .widget-title
{
  /*font-family: 'Poppins', sans-serif; */
  font-family: "Source Sans Pro","Arial",sans-serif
}

#postfollow {
  background: whitesmoke;
  padding-top: 5%;
  padding-bottom: 5%;
  padding-left: 2%;
}
div#ez-toc-container p.ez-toc-title {
    font-weight: bold;
    font-size: 24px !important;
}
div#ez-toc-container {
    margin-bottom: 15%;
}

</style><link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-180x180.png" />
<meta name="msapplication-TileImage" content="https://www.middlewareinventory.com/wp-content/uploads/2017/12/cropped-Screen-Shot-2017-12-22-at-12.16.54-PM-3-270x270.png" />
<style type="text/css">article h3
{
    background-color: whitesmoke;
    color: black;
    padding-left: 1%;
    border-left: 10px solid black;
    font-weight: 400;
    font-size: 23px;
}

blockquote {
     padding: 2%;
}

li {
    padding: 2px;
    margin-left: 2%;
}
</style>
<style type="text/css" id="wp-custom-css">.site-title
{
   font-size: 24px !important;
}		</style>
</head>
<body class="post-template-default single single-post postid-5138 single-format-standard wp-custom-logo cookies-not-set elementor-default">
<div id="page" class="hfeed site">
<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
<div id="header-top" class="header-bar-wrap"></div>
<header id="masthead" class="site-header clearfix" role="banner">
<div class="header-main container clearfix">
<div id="logo" class="site-branding clearfix">
<a href="../../index.html" class="custom-logo-link" rel="home"><img width="300" height="107" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 107'%3E%3C/svg%3E" class="custom-logo lazyload" alt="Middleware Inventory" data-src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" loading="lazy" /><noscript><img width="300" height="107" src="../../wp-content/uploads/2020/09/cropped-Screenshot-2020-09-18-at-3.49.40-AM.jpg" class="custom-logo" alt="Middleware Inventory" data-eio="l" /></noscript></a>
<p class="site-title"></p>
</div>
<nav id="main-navigation" class="primary-navigation navigation clearfix" role="navigation">
<ul id="menu-primary-menu" class="main-navigation-menu"><li id="menu-item-172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-172"><a href="https://airdata.github.io/">About Me</a></li>
<li id="menu-item-3206" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-3206"><a href="../category/middleware/index.html">Middleware</a>
<ul class="sub-menu">
<li id="menu-item-1518" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1518"><a href="../category/weblogic/index.html">weblogic</a></li>
<li id="menu-item-3207" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3207"><a href="../category/was/index.html">WAS</a></li>
<li id="menu-item-3208" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3208"><a href="../category/websphere/index.html">Websphere</a></li>
<li id="menu-item-3209" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3209"><a href="../category/wlst/index.html">wlst</a></li>
<li id="menu-item-3210" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3210"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a></li>
<li id="menu-item-3211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3211"><a href="../category/jms/index.html">JMS</a></li>
<li id="menu-item-3212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3212"><a href="../category/activemq/index.html">ActiveMQ</a></li>
<li id="menu-item-3213" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3213"><a href="../category/troubleshooting/index.html">Troubleshooting</a></li>
<li id="menu-item-3214" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3214"><a href="../category/apache/index.html">Apache</a></li>
<li id="menu-item-3215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3215"><a href="../category/best-practice/index.html">Best Practice</a></li>
<li id="menu-item-3222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3222"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a></li>
</ul>
</li>
<li id="menu-item-3157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3157"><a href="../../devops-junction/index.html">Devops</a>
<ul class="sub-menu">
<li id="menu-item-1513" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1513"><a href="../category/ansible/index.html">Ansible</a></li>
<li id="menu-item-3216" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3216"><a href="../category/aws/index.html">AWS</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3217"><a href="../category/docker/index.html">Docker</a></li>
<li id="menu-item-3218" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3218"><a href="../category/packer/index.html">Packer</a></li>
<li id="menu-item-3219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3219"><a href="../category/splunk/index.html">Splunk</a></li>
<li id="menu-item-3220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3220"><a href="../category/terraform/index.html">Terraform</a></li>
<li id="menu-item-3221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3221"><a href="../category/vagrant/index.html">Vagrant</a></li>
<li id="menu-item-3223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3223"><a href="../category/kubernetes/index.html">Kubernetes</a></li>
</ul>
</li>
<li id="menu-item-8820" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8820"><a href="../../newsletter/index.html">Newsletter</a></li>
<li id="menu-item-8821" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8821"><a href="https://rumen.free.bg/#contact">Book a Consultation</a></li>
</ul> </nav>
</div>
</header>
<div id="content" class="site-content container clearfix">
<section id="primary" class="content-area">
<main id="main" class="site-main" role="main">

<article id="post-5138" class="post-5138 post type-post status-publish format-standard has-post-thumbnail hentry category-ansible tag-apt-update-ansible wpautop">
<header class="entry-header">
<h1 class="entry-title">Ansible apt module Examples &#8211; install packages with apt | Devops Junction</h1>
<div class="entry-meta"><span class="meta-date"> Updated on: <a href="index.html" title="3:32 am" rel="bookmark"><time class="entry-date published updated" datetime="February 11, 2022">February 11, 2022</time></a></span><span class="meta-author"> <span class="author vcard"><a class="url fn n" href="../author/admin/index.html" title="View all posts by Rumen Lishkov" rel="author">Rumen Lishkov</a></span></span></div>
</header>
<div class="entry-content clearfix">
<div class="ss-inline-share-wrapper ss-left-inline-content ss-small-icons ss-with-spacing ss-rounded-icons">
<div class="ss-inline-share-content">
<ul class="ss-social-icons-container">
<li class="">
<a href="#" data-ss-ss-link="https://www.facebook.com/sharer.php?t=Ansible%20apt%20module%20Examples%20%20%E2%80%93%20install%20packages%20with%20apt%20%7C%20Devops%20Junction&u=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-apt-examples%2F" class="ss-facebook-color" rel="nofollow" data-ss-ss-network-id="facebook" data-ss-ss-post-id="5138" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-apt-examples/" data-ss-ss-type="share" data-has-api="true">
<span class="ss-share-network-content">
<i class="ss ss-facebook"></i>
<span class="ss-network-count">
0
</span>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://twitter.com/intent/tweet?text=Ansible+apt+module+Examples++%E2%80%93+install+packages+with+apt+%7C+Devops+Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-apt-examples%2F" class="ss-twitter-color" rel="nofollow" data-ss-ss-network-id="twitter" data-ss-ss-post-id="5138" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-apt-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-twitter"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="https://www.linkedin.com/shareArticle?title=Ansible%20apt%20module%20Examples%20%20%E2%80%93%20install%20packages%20with%20apt%20%7C%20Devops%20Junction&url=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-apt-examples%2F&mini=true" class="ss-linkedin-color" rel="nofollow" data-ss-ss-network-id="linkedin" data-ss-ss-post-id="5138" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-apt-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-linkedin"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="mailto:?body=https%3A%2F%2Fwww.middlewareinventory.com%2Fblog%2Fansible-apt-examples%2F&subject=Ansible%20apt%20module%20Examples%20%20%E2%80%93%20install%20packages%20with%20apt%20%7C%20Devops%20Junction" class="ss-envelope-color" rel="nofollow" data-ss-ss-network-id="envelope" data-ss-ss-post-id="5138" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-apt-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-envelope"></i>
</span>
</a>
</li>
<li class="">
<a href="#" data-ss-ss-link="#" class="ss-copy-color" rel="nofollow" data-ss-ss-network-id="copy" data-ss-ss-post-id="5138" data-ss-ss-location="inline_content" data-ss-ss-permalink="https://www.middlewareinventory.com/blog/ansible-apt-examples/" data-ss-ss-type="share">
<span class="ss-share-network-content">
<i class="ss ss-copy"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div style="display: none;"></div>
<div style="display: none;"></div>
<p>Ansible APT Package manager is an Ubuntu equivalent for RedHat yum package manager. Just like all other ansible modules <code>apt</code> ansible module is built after one specific unix command of Debian <code>apt-get</code></p>
<p>It is always recommended to choose the modules rather using the raw unix commands over the shell module as it would bring more standard and fault tolerance to your Ansible Playbook</p>
<p>So how to use ansible apt module in the playbook or as an ad hoc.</p>
<p>Well!. this article is going to cover <strong>ansible apt</strong> module in detail with various examples.</p>
<p>&nbsp;</p>
<div id="ez-toc-container" class="counter-hierarchy counter-decimal ez-toc-grey">
<div class="ez-toc-title-container">
<p class="ez-toc-title">Table of Contents</p>
<span class="ez-toc-title-toggle"><a class="ez-toc-pull-right ez-toc-btn ez-toc-btn-xs ez-toc-btn-default ez-toc-toggle"><i class="ez-toc-glyphicon ez-toc-icon-toggle"></i></a></span></div>
<nav><ul class="ez-toc-list"><li><a href="#Introduction_to_ansible_apt_module" title="Introduction to ansible apt module">Introduction to ansible apt module</a></li><li><a href="#The_Difference_between_apt_and_apt-get" title="The Difference between apt and apt-get">The Difference between apt and apt-get</a></li><li><a href="#The_Ansible_apt_Examples" title="The Ansible apt Examples">The Ansible apt Examples</a><ul><li><a href="#How_to_install_a_Package_with_Ansible_apt" title="How to install a Package with Ansible apt">How to install a Package with Ansible apt</a></li><li><a href="#How_to_remove_a_Package_with_Ansible_apt" title="How to remove a Package with Ansible apt">How to remove a Package with Ansible apt</a></li><li><a href="#How_to_do_an_apt_update_with_Ansible" title="How to do an apt update with Ansible">How to do an apt update with Ansible</a></li><li><a href="#Update_cache_if_it_is_older_than_a_certain_time" title="Update cache if it is older than a certain time">Update cache if it is older than a certain time</a></li><li><a href="#Upgrade_a_Single_package_or_Software_with_ansible_apt" title="Upgrade a Single package or Software with ansible apt">Upgrade a Single package or Software with ansible apt</a></li><li><a href="#Update_Upgrade_All_the_packages_installed_in_OneGo" title="Update &amp; Upgrade All the packages installed in OneGo">Update &amp; Upgrade All the packages installed in OneGo</a></li><li><a href="#Differentiate_the_Update_and_Upgrade" title="Differentiate the Update and Upgrade">Differentiate the Update and Upgrade</a></li><li><a href="#How_to_install_a_list_of_packages_in_One_Go_with_Ansible_apt" title="How to install a list of packages in One Go with Ansible apt">How to install a list of packages in One Go with Ansible apt</a></li><li><a href="#Install_Specific_version_of_a_package_with_Ansible_apt" title="Install Specific version of a package with Ansible apt">Install Specific version of a package with Ansible apt</a></li><li><a href="#Install_a_deb_file_or_package_using_ansible_apt" title="Install a .deb file or package using ansible apt">Install a .deb file or package using ansible apt</a></li><li><a href="#How_to_validate_if_a_package_is_installed_Ansible_apt" title="How to validate if a package is installed &#8211; Ansible apt">How to validate if a package is installed &#8211; Ansible apt</a></li><li><a href="#Clean_up_the_useless_Packages_using_ansible_apt" title="Clean up the useless Packages using ansible apt">Clean up the useless Packages using ansible apt</a></li></ul></li><li><a href="#Conclusion" title="Conclusion">Conclusion</a></li></ul></nav></div>
<h2><span class="ez-toc-section" id="Introduction_to_ansible_apt_module">Introduction to <span style="color: #d41565;">ansible apt</span> module</span></h2>
<p>Ansible apt module manages apt packages in Debian or Ubuntu systems.</p>
<p>In typical Ubuntu machine, in order to install a package, you would execute the following command</p>
<pre>apt install nginx</pre>
<p>Same way here in ansible, the following playbook/play would do that for you</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Playbook to install NGINX
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> webservers
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible apt install nginx
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> nginx
<span class="hljs-attr" style="color: #6d9cbe;">        state:</span> present</pre>
<p>Here is the quick screen snip of executing this playbook.</p>
<p><script id="asciicast-z174bbxDY9oS1wB2pUYy08Zto" src="https://asciinema.org/a/z174bbxDY9oS1wB2pUYy08Zto.js" async></script></p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2><span class="ez-toc-section" id="The_Difference_between_apt_and_apt-get">The Difference between <span style="color: #d41565;">apt</span> and <span style="color: #d41565;">apt-get</span></span></h2>
<p>Some of us including me would have most often referred ubuntu apt (aptitude) as <code>apt-get</code> we use both <code>apt</code> and <code>apt-get</code> interchangeably</p>
<p>The following statement from Debian blog would help us understand the difference between apt and apt-get</p>
<blockquote><p><code>apt</code> is a second command-line based front end provided by APT which overcomes some design mistakes of <code>apt-get</code>.</p></blockquote>
<p>Based on this, You can understand that the apt module is fairly advanced than its predecessor apt-get</p>
<p>So apt could do everything and more what apt-get could possibly do.</p>
<p>As far as Ansible apt module is concerned, it uses the apt command over apt-get and it could fall over to apt-get automatically in some cases where necessary.</p>
<p>&nbsp;</p>
<p><span style="font-size: 18pt;"><strong>But, What If I want ansible to use apt-get over apt?</strong></span></p>
<p>Well Ansible apt module supports apt-get commands as well and you could use instruct ansible apt module to use apt-get using a parameter named <code>force_apt_get</code></p>
<p>The preceding playbook example can be rewritten like this with force_apt_get</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible apt-get to get install nginx
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> nginx
<span class="hljs-attr" style="color: #6d9cbe;">        state:</span> present
<span style="color: #ffff00;"><span class="hljs-attr">        force_apt_get:</span> <span class="hljs-literal">yes</span></span></pre>
<p>&nbsp;</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2><span class="ez-toc-section" id="The_Ansible_apt_Examples">The <span style="color: #e82e91;">Ansible apt</span> Examples</span></h2>
<p>We have collected some of the interesting and useful examples of Ansible apt module here.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="How_to_install_a_Package_with_Ansible_apt">How to install a Package with Ansible apt</span></h3>
<p>We have already seen an example of how to install a package with ansible apt in the introduction.</p>
<p>However, Here is one more playbook example that installs a Single Package or software named <code>apache2</code></p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Playbook to install Apache
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> webservers
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible apt install Apache
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> apache2
<span style="color: #ffff00;"><span class="hljs-attr">        state:</span> present</span></pre>
<p>here the <code>state: present</code> would tell ansible to make it available and installed.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="How_to_remove_a_Package_with_Ansible_apt">How to remove a Package with Ansible apt</span></h3>
<p>To remove a package with Ansible apt. All you have to do use <code>state: absent</code> along with the package name of your choice.</p>
<p>Let us use the same playbook we have used for installation for example here with a little modification</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Playbook to install Apache
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> webservers
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible apt install Apache
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> apache2
<span style="color: #ffff00;"><span class="hljs-attr">        state:</span> absent</span></pre>
<p>You can notice that all we had to change is the state</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="How_to_do_an_apt_update_with_Ansible">How to do an apt update with Ansible</span></h3>
<p>In this section, we are going to see how to update the cache with ansible apt</p>
<p>It is always recommended and a kind of best practice all the administrators would follow while installing a package. Just to make sure that they are getting the updated package from the Source and not the cached one on the local server.</p>
<p>In order to update the local cache, we have to use <code>update_cache</code> parameter in our playbook</p>
<p>To put it in a perspective. Let&#8217;s suppose we want to install the latest OpenSSL version in our ubuntu server. these are the command we would execute in our server</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">apt update

apt install openssl

(or)

apt-get update

apt-get install openssl</pre>
<p>&nbsp;</p>
<p>With an ansible apt module, we can do the same by just adding <code>update_cache</code> parameter. Here is the playbook with update_cache which installs the latest version OpenSSL</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible Update Cache and install openssl
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> openssl
<span class="hljs-attr" style="color: #6d9cbe;">        state:</span> present
<span style="color: #ffff00;"><span class="hljs-attr">        update_cache:</span> <span class="hljs-literal">yes</span></span></pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Update_cache_if_it_is_older_than_a_certain_time">Update cache if it is older than a certain time</span></h3>
<p>Sometimes updating the cache may not be necessary at all as it would have been updated only a few minutes or days before.</p>
<p>So we can instruct Ansible to update the cache only if the current cache is older than a specific time. Mentioned in seconds.</p>
<p>here is the playbook which updates the cache  if the current cache is built 3600 seconds(1 hour) ago</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible apt update cache if it is older than <span class="hljs-number" style="color: #a5c261;">1</span> hour
<span class="hljs-attr" style="color: #6d9cbe;">      register:</span> updatesys
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        update_cache:</span> <span class="hljs-literal">yes</span>
<span class="hljs-attr" style="color: #6d9cbe;">        cache_valid_time:</span> <span class="hljs-number" style="color: #a5c261;">3600</span></pre>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3><span class="ez-toc-section" id="Upgrade_a_Single_package_or_Software_with_ansible_apt">Upgrade a Single package or Software with ansible apt</span></h3>
<p>Let us suppose we want to upgrade the OpenSSL version installed in our system and this is the command we would execute on our servers</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false"># Update the Cache

apt update

# Upgrade the package openssl

apt upgrade openssl (or)

apt-get  update

apt-get upgrade openssl</pre>
<p>&nbsp;</p>
<p>With ansible apt module this is how it can be done</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible Update Cache and upgrade openssl
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> openssl
<span style="color: #ffff00;"><span class="hljs-attr">        state:</span> latest</span>
<span class="hljs-attr" style="color: #6d9cbe;">        update_cache:</span> <span class="hljs-literal">yes</span>
</pre>
<p>If you have not noticed it already. the <code>state: latest</code> parameter would make sure that the package is upgraded and stay the latest.</p>
<p>this is how we upgrade the package or tool with an ansible apt module.</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Update_Upgrade_All_the_packages_installed_in_OneGo">Update &amp; Upgrade All the packages installed in OneGo</span></h3>
<p>It is always recommended to upgrade the packages installed in our system to maintain system security and integrity.</p>
<p>In Enterprises, this would be done every quarterly or even monthly during the scheduled patching.</p>
<p>So how to update &amp; upgrade all the packages or tools installed Debian/ubuntu</p>
<h3></h3>
<h3><span class="ez-toc-section" id="Differentiate_the_Update_and_Upgrade">Differentiate the Update and Upgrade</span></h3>
<p><b>The update</b> is to update all the packages in the local repository, It is also known as updating the cache</p>
<p><b>The upgrade</b> is to upgrade the packages installed on the system, you can think of this one as more of a Version Upgrade.</p>
<p>&nbsp;</p>
<p>These are the Linux commands we would execute in order to achieve this</p>
<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false"># Update the Cache 

apt update

# Upgrade all the packages installed 

apt upgrade

(or)

apt-get update

apt-get upgrade</pre>
<p>&nbsp;</p>
<p>here is the ansible-playbook to update and upgrade the packages in ubuntu</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible Update Cache and Upgrade all Packages
<span class="hljs-attr" style="color: #6d9cbe;">      register:</span> updatesys
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> <span class="hljs-string" style="color: #a5c261;">"*"</span>
<span class="hljs-attr" style="color: #6d9cbe;">        state:</span> latest
<span class="hljs-attr" style="color: #6d9cbe;">        update_cache:</span> <span class="hljs-literal">yes</span>

<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Display the last line of the previous task to check the stats
<span class="hljs-attr" style="color: #6d9cbe;">      debug:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        msg:</span>  <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{updatesys.stdout_lines|last}}</span>"</span>
</pre>
<p>&nbsp;</p>
<p>This is the output our playbook would yield in already updated and up-to-date system</p>
<p><a href="../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM.png"><img class="alignnone size-full wp-image-5149 lazyload" src="../../wp-content/ewww/lazy/placeholder-972x394.png" alt="" width="972" height="394" data-src="../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM.png 972w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM-300x122.png 300w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM-768x311.png 768w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5149" src="../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM.png" alt="" width="972" height="394" srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM.png 972w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM-300x122.png 300w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-23-at-6.36.44-PM-768x311.png 768w" sizes="(max-width: 972px) 100vw, 972px" data-eio="l" /></noscript></a></p>
<p>You can notice that the last line is displaying the statistics of the packages upgraded, installed etc.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3398911159151128" data-ad-slot="1946393371"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3><span class="ez-toc-section" id="How_to_install_a_list_of_packages_in_One_Go_with_Ansible_apt">How to install a list of packages in One Go with Ansible apt</span></h3>
<p>So we have been so far installing a Single Package but when it comes to real-time server provisioning we would be installing N number of packages based on our requirements.</p>
<p>So it is not wise to create plays for each package installation like we have been so far doing.</p>
<p>The right approach to install multiple packages with ansible apt is to use ansible loops and iteration methods. A Simple Programming paradigm</p>
<p>This is the playbook we are going to use to install / setup a LAMP (<strong>L</strong>inux<strong>A</strong>pache<strong>M</strong>ysql<strong>P</strong>hp) stack on our Debian/Ubuntu server</p>
<pre class="EnlighterJSRAW" data-enlighter-language="yaml" data-enlighter-theme="bootstrap4" data-enlighter-linenumbers="false">- name: Ansible apt module examples
  hosts: web
  become: yes
  tasks:
    - name: Ansible apt to install multiple packages - LAMP
      register: updatesys
      apt:
        update_cache: yes
        name:
          - firewalld
          - apache2
          - mariadb-server
          - php
          - php-mysql
        state: present
</pre>
<p>&nbsp;</p>
<p>Here is the execution result of this playbook with Debug mode on</p>
<p><script id="asciicast-oiZHQVHiFNFF8Si8tFWbMNf13" src="https://asciinema.org/a/oiZHQVHiFNFF8Si8tFWbMNf13.js" async></script></p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Install_Specific_version_of_a_package_with_Ansible_apt">Install Specific version of a package with Ansible apt</span></h3>
<p>Sometimes we would want to install a very specific version of a package or software for various reasons.</p>
<p>let&#8217;s see how to specify the package version with ansible apt module.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible apt install tomcat Version <span class="hljs-number" style="color: #a5c261;">8.0</span><span class="hljs-number" style="color: #a5c261;">.32</span>
<span class="hljs-attr" style="color: #6d9cbe;">      register:</span> updatesys
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        update_cache:</span> <span class="hljs-literal">yes</span>
<span class="hljs-attr" style="color: #6d9cbe;">        name:</span> tomcat8=<span style="color: #ffff00;"><span class="hljs-number">8.0</span><span class="hljs-number">.32</span><span class="hljs-bullet">-1</span>ubuntu1<span class="hljs-number">.11</span></span>
<span class="hljs-attr" style="color: #6d9cbe;">        state:</span> present</pre>
<p>The preceding playbook helps to install the tomcat version 8.0.32</p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Install_a_deb_file_or_package_using_ansible_apt">Install a <code>.deb</code> file or package using ansible apt</span></h3>
<p>ansible apt module can be used to install the .deb packages as well additionally ansible apt can download the file from remote URL and install it as well.</p>
<p>So here is the playbook where we are trying to install a <code>*.deb</code> package. But the Source of these deb files are different.</p>
<p>One is already downloaded and kept in /tmp directory and another one is yet to be downloaded from the URL</p>
<p>As mentioned earlier, Ansible apt can download the package automatically from the remote URL and install it without any manual intervention.</p>
<p>here we are going to install filebeat using the deb file.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible apt module examples
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 

<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible install filebeat deb file from local
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        deb:</span> /tmp/filebeat<span class="hljs-bullet" style="color: #6d9cbe;">-7.6</span><span class="hljs-number" style="color: #a5c261;">.0</span>-amd64.deb

<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Ansible install filebeat deb file from url
<span class="hljs-attr" style="color: #6d9cbe;">      apt:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">        deb:</span> https://artifacts.elastic.co/downloads/beats/filebeat/filebeat<span class="hljs-bullet" style="color: #6d9cbe;">-7.6</span><span class="hljs-number" style="color: #a5c261;">.0</span>-amd64.deb

</pre>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="How_to_validate_if_a_package_is_installed_Ansible_apt">How to validate if a package is installed &#8211; Ansible apt</span></h3>
<p>Sometimes you would want to validate if the package is installed or not without making any modifications to the system</p>
<p>Though it can be done with Ansible apt module and <code>check_mode</code></p>
<p>I would recommend using <code>package_facts</code> module to validate if the package is installed or not.</p>
<p>here is the sample playbook to validate if few packages are installed or not.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-meta" style="color: #9b859d;">---</span>
<span class="hljs-attr" style="color: #6d9cbe;"> - name:</span> Ansible validate if the packages are installed
<span class="hljs-attr" style="color: #6d9cbe;">   hosts:</span> web
<span class="hljs-attr" style="color: #6d9cbe;">   become:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr" style="color: #6d9cbe;">   tasks:</span> 

<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Gather Package facts
<span class="hljs-attr" style="color: #6d9cbe;">      package_facts:</span>
<span class="hljs-attr" style="color: #6d9cbe;">        manager:</span> auto
    
<span class="hljs-attr" style="color: #6d9cbe;">    - name:</span> Validating if the package is installed or not
<span class="hljs-attr" style="color: #6d9cbe;">      debug:</span> 
<span class="hljs-attr" style="color: #6d9cbe;">        msg:</span> <span class="hljs-string" style="color: #a5c261;">"<span class="hljs-template-variable" style="color: #a5c261;">{{item}}</span> is installed"</span>
<span class="hljs-attr" style="color: #6d9cbe;">      when:</span> <span class="hljs-string" style="color: #a5c261;">'"<span class="hljs-template-variable" style="color: #a5c261;">{{item}}</span>" in ansible_facts.packages'</span>
<span class="hljs-attr" style="color: #6d9cbe;">      with_items:</span>
<span class="hljs-bullet" style="color: #6d9cbe;">        -</span> apache2
<span class="hljs-bullet" style="color: #6d9cbe;">        -</span> nginx
<span class="hljs-bullet" style="color: #6d9cbe;">        -</span> filebeat</pre>
<p>Here is the output of this playbook.</p>
<p>You can see that it prints only apache2 is installed,  as the other two are not installed they were skipped</p>
<p><a href="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM.png"><img class="alignnone size-full wp-image-5154 lazyload" src="../../wp-content/ewww/lazy/placeholder-1007x490.png" alt="" width="1007" height="490" data-src="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM.png" loading="lazy" data-srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM.png 1007w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM-300x146.png 300w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM-768x374.png 768w" data-sizes="auto" /><noscript><img class="alignnone size-full wp-image-5154" src="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM.png" alt="" width="1007" height="490" srcset="../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM.png 1007w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM-300x146.png 300w, ../../wp-content/uploads/2020/02/Screenshot-2020-02-24-at-3.00.07-AM-768x374.png 768w" sizes="(max-width: 1007px) 100vw, 1007px" data-eio="l" /></noscript></a></p>
<p>&nbsp;</p>
<h3><span class="ez-toc-section" id="Clean_up_the_useless_Packages_using_ansible_apt">Clean up the useless Packages using ansible apt</span></h3>
<p>To Clean up the useless packages from the system you can use ansible apt module like shown below.</p>
<p>It clears the useless packages from cache and remove the dependency tools which are no longer required.</p>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;"><span class="hljs-attr" style="color: #6d9cbe;">- name:</span> Remove useless packages from the cache
<span class="hljs-attr" style="color: #6d9cbe;">  apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">    autoclean:</span> <span class="hljs-literal">yes</span>

<span class="hljs-attr" style="color: #6d9cbe;">- name:</span> Remove dependencies that are <span class="hljs-literal">no</span> longer required
<span class="hljs-attr" style="color: #6d9cbe;">  apt:</span>
<span class="hljs-attr" style="color: #6d9cbe;">    autoremove:</span> <span class="hljs-literal">yes</span></pre>
<p>&nbsp;</p>
<h2><span class="ez-toc-section" id="Conclusion">Conclusion</span></h2>
<p>Hope the given examples of Ansible apt module helps you understand how to use ansible apt module for managing Debian packages.</p>
<p>&nbsp;</p>
<p>Cheers<br />
Rumen Lishkov</p>
<div id="postfollow">
<a href='https://ko-fi.com/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==' border='0' alt='Buy Me a Coffee at ko-fi.com' data-src="https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2" loading="lazy" class="lazyload" /><noscript><img height='46' style='border:0px;height:46px;width: 186px' src='https://az743702.vo.msecnd.net/cdn/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' data-eio="l" /></noscript></a>
<p>Follow us on<a href="https://www.facebook.com/rumenlishkov">Facebook</a> or<a href="https://www.twitter.com/mwinventory">Twitter</a>
</br>
For more practical videos and tutorials. <a href="https://www.youtube.com/kiss2mark">Subscribe to our channel</a>
</br>
Find me on Linkedin <a href="https://www.linkedin.com/in/rumen-lishkov/">My Profile</a>
</br>
</i>For any Consultation or to hire us <a href="../../cdn-cgi/l/email-protection.html#7e161b1212113e190c170a1807501d1113"> <span class="__cf_email__" data-cfemail="59313c353536193e2b302d3f20773a3634">[email&#160;protected]</span></a>
</br>
If you like this article. Show your Support! <a href="https://ko-fi.com/middlewareinventory">Buy me a Coffee.</a>
</br>
</p>
<p style="color: palevioletred !important;">Signup for Exclusive "Subscriber-only" Content</p>
<div class="emaillist">
<form action="#" method="post" class="es_subscription_form es_shortcode_form" id="es_subscription_form_1657191004" data-source="ig-es">
<div class="es-field-wrap"><label>Name*<br /><input type="text" name="name" class="ig_es_form_field_name" placeholder="" value="" required="required" /></label></div><div class="es-field-wrap"><label>Email*<br /><input class="es_required_field es_txt_email ig_es_form_field_email" type="email" name="email" value="" placeholder="" required="required" /></label></div><input type="hidden" name="lists[]" value="1" /><input type="hidden" name="form_id" value="3" />
<input type="hidden" name="es_email_page" value="5138" />
<input type="hidden" name="es_email_page_url" value="https://www.middlewareinventory.com/blog/ansible-apt-examples/" />
<input type="hidden" name="status" value="Unconfirmed" />
<input type="hidden" name="es-subscribe" id="es-subscribe" value="915ddf1a10" />
<label style="position:absolute;top:-99999px;left:-99999px;z-index:-99;"><input type="email" name="es_hp_email" class="es_required_field" tabindex="-1" autocomplete="-1" value="" /></label>
<input type="submit" name="submit" class="es_subscription_form_submit es_submit_button es_textbox_button" id="es_subscription_form_submit_1657191004" value="Subscribe" />
<span class="es_spinner_image" id="spinner-image"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading" data-src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" loading="lazy" class="lazyload" /><noscript><img src="../../wp-content/plugins/email-subscribers/lite/public/images/spinner.gif" alt="Loading" data-eio="l" /></noscript></span>
</form>
<span class="es_subscription_message" id="es_subscription_message_1657191004"></span>
</div>
</div>
<hr>
<div class='rp4wp-related-posts'>
<h3>More from Middleware Inventory</h3>
<ul>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-unarchive-module-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible unarchive" data-src="../../wp-content/uploads/2019/12/Screenshot-2019-12-07-at-4.53.15-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/12/Screenshot-2019-12-07-at-4.53.15-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible unarchive" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-unarchive-module-examples/index.html'>Ansible Unarchive Module Examples</a><p>What is Ansible Unarchive Module and How does it work Ansible Unarchive module helps to unpack or uncompress the files from an archive file such as tar, tar.gz, zip&nbsp; . Ansible unarchive module can optionally copy the files to the remote server before uncompressing them. Though the unarchive module is&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-shell-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Shell" data-src="../../wp-content/uploads/2019/10/Screenshot-2019-10-21-at-5.29.32-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/10/Screenshot-2019-10-21-at-5.29.32-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Shell" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-shell-examples/index.html'>Ansible Shell Module Examples</a><p>&nbsp; Ansible shell module is designed to execute Shell commands against the target Unix based hosts. Unlike the Ansible command module, Ansible Shell would accept any highly complexed commands with pipes, redirection etc and you can also execute Shell scripts using Ansible Shell module. The Advantage of Ansible Shell module&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-command-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Command" data-src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2019/04/AnsibleCommand-1-150x150.jpeg" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Command" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-command-examples/index.html'>Ansible Command Module Examples</a><p>Ansible Command Module Introduction Ansible Command module is used to execute commands on a remote node. The Command module, is used mostly to run simple Linux commands on a remote node/server which is part of a host group or Stand alone server mentioned in the host group. If you want&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-find-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="Ansible Find" data-src="../../wp-content/uploads/2020/01/Screenshot-2020-01-03-at-4.51.17-AM-150x150.png" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2020/01/Screenshot-2020-01-03-at-4.51.17-AM-150x150.png" class="attachment-thumbnail size-thumbnail wp-post-image" alt="Ansible Find" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-find-examples/index.html'>Ansible Find Examples - How to use Ansible Find</a><p>Ansible find module functions as same as the Linux Find command and helps to find files and directories based on various search criteria such as age of the file, accessed date, modified date,&nbsp; regex search pattern etcetera. As said earlier, this is more of an ansible way to execute the&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-image'>
<a href='../ansible-when-variable-is-defined-or-undefined-examples/index.html'><img width="150" height="150" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3C/svg%3E" class="attachment-thumbnail size-thumbnail wp-post-image lazyload" alt="" data-src="../../wp-content/uploads/2018/12/Screen-Shot-2018-12-01-at-7.06.23-AM-150x150.png.html" loading="lazy" /><noscript><img width="150" height="150" src="../../wp-content/uploads/2018/12/Screen-Shot-2018-12-01-at-7.06.23-AM-150x150.png.html" class="attachment-thumbnail size-thumbnail wp-post-image" alt="" data-eio="l" /></noscript></a></div>
<div class='rp4wp-related-post-content'>
<a href='../ansible-when-variable-is-defined-or-undefined-examples/index.html'>Ansible When Variable is defined or undefined Examples</a><p>The Purpose The purpose of this post is to give you a real-time example and explanation of how ansible variable is defined and not defined (undefined) conditionals are working along with "when"&nbsp;conditional statement and how it controls the flow of the task and the play. The following ansible playbook is&hellip;</p></div>
</li>
</ul>
</div>
</div>
<footer class="entry-footer">
<div class="entry-tags clearfix">
<span class="meta-tags">
<a href="../tag/apt-update-ansible/index.html" rel="tag">apt update ansible</a> </span>
</div>
<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="../aws-mfa-ssh-ec2-setup/index.html" rel="prev"><span class="screen-reader-text">Previous Post:</span>Enabling Two Factor Authentication for EC2 SSH &#8211; AWS MFA Setup</a></div><div class="nav-next"><a href="../kubernetes-ingress-example/index.html" rel="next"><span class="screen-reader-text">Next Post:</span>Kubernetes Ingress Example on Google Cloud</a></div></div>
</nav>
</footer>
</article>
<div id="disqus_thread"></div>
</main>
</section>
<section id="secondary" class="sidebar widget-area clearfix" role="complementary">
<aside id="custom_html-18" class="widget_text widget widget_custom_html clearfix"><div class="textwidget custom-html-widget"><script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3398911159151128" crossorigin="anonymous"></script>


<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></aside><aside id="categories-8" class="widget widget_categories clearfix"><div class="widget-header"><h3 class="widget-title">Categories</h3></div>
<ul>
<li class="cat-item cat-item-61"><a href="../category/activemq/index.html">ActiveMQ</a> (4)
</li>
<li class="cat-item cat-item-98"><a href="../category/ansible/index.html">Ansible</a> (65)
</li>
<li class="cat-item cat-item-10"><a href="../category/apache/index.html">Apache</a> (8)
</li>
<li class="cat-item cat-item-234"><a href="../category/aws/index.html">AWS</a> (28)
</li>
<li class="cat-item cat-item-452"><a href="../category/azure/index.html">Azure</a> (1)
</li>
<li class="cat-item cat-item-8"><a href="../category/best-practice/index.html">Best Practice</a> (5)
</li>
<li class="cat-item cat-item-390"><a href="../category/bitbucket/index.html">BitBucket</a> (1)
</li>
<li class="cat-item cat-item-426"><a href="../category/boto/index.html">Boto</a> (1)
</li>
<li class="cat-item cat-item-399"><a href="../category/cloud/index.html" title="Cloud is not only a concept but also a practice of using a network of remote servers hosted on the Internet to store, manage, and process data.">Cloud</a> (1)
</li>
<li class="cat-item cat-item-397"><a href="../category/database/index.html">Database</a> (1)
</li>
<li class="cat-item cat-item-95"><a href="../category/development/index.html">Development</a> (3)
</li>
<li class="cat-item cat-item-152"><a href="../category/docker/index.html">Docker</a> (11)
</li>
<li class="cat-item cat-item-422"><a href="../category/efk/index.html">EFK</a> (1)
</li>
<li class="cat-item cat-item-423"><a href="../category/elastic-search/index.html">Elastic Search</a> (1)
</li>
<li class="cat-item cat-item-59"><a href="../category/f5-big-ip/index.html">F5-Big-IP</a> (6)
</li>
<li class="cat-item cat-item-419"><a href="../category/fluentd/index.html">FluentD</a> (2)
</li>
<li class="cat-item cat-item-424"><a href="../category/gcp-googlecloud/index.html">GCP &#8211; GoogleCloud</a> (1)
</li>
<li class="cat-item cat-item-450"><a href="../category/github-actions/index.html">Github Actions</a> (1)
</li>
<li class="cat-item cat-item-428"><a href="../category/grafana/index.html">Grafana</a> (1)
</li>
<li class="cat-item cat-item-275"><a href="../category/graphite/index.html">Graphite</a> (1)
</li>
<li class="cat-item cat-item-441"><a href="../category/ibm-cloud/index.html">IBM Cloud</a> (1)
</li>
<li class="cat-item cat-item-401"><a href="../category/ibm-websphere/index.html" title="IBM® WebSphere® Application Server provides a range of flexible and secure runtime for Java enterprise applications, lightweight web applications and microservices. You can create new applications and enhance and optimize existing application infrastructure on premises or across any public, private or hybrid cloud. In addition, by utilizing IBM Cloud Private, you can create on-premises cloud capabilities similar to public clouds to accelerate app development. The platform is built on the open source Kubernetes-based container architecture and supports both Docker containers and Cloud Foundry.">IBM Websphere</a> (2)
</li>
<li class="cat-item cat-item-354"><a href="../category/ihs-and-apache/index.html">IHS and Apache</a> (10)
</li>
<li class="cat-item cat-item-353"><a href="../category/iis/index.html">IIS</a> (4)
</li>
<li class="cat-item cat-item-388"><a href="../category/javascript/index.html">JavaScript</a> (3)
</li>
<li class="cat-item cat-item-286"><a href="../category/jenkins/index.html">Jenkins</a> (4)
</li>
<li class="cat-item cat-item-15"><a href="../category/joomla/index.html">Joomla</a> (1)
</li>
<li class="cat-item cat-item-151"><a href="../category/kubernetes/index.html">Kubernetes</a> (16)
</li>
<li class="cat-item cat-item-191"><a href="../category/middleware/index.html">Middleware</a> (3)
</li>
<li class="cat-item cat-item-322"><a href="../category/network-troubleshooting/index.html">Network Troubleshooting</a> (1)
</li>
<li class="cat-item cat-item-413"><a href="../category/networking/index.html">Networking</a> (1)
</li>
<li class="cat-item cat-item-273"><a href="../category/nodejs/index.html">NodeJS</a> (2)
</li>
<li class="cat-item cat-item-396"><a href="../category/office365/index.html">Office365</a> (1)
</li>
<li class="cat-item cat-item-148"><a href="../category/opensource/index.html">OpenSource</a> (2)
</li>
<li class="cat-item cat-item-417"><a href="../category/oracle-db/index.html">Oracle DB</a> (3)
</li>
<li class="cat-item cat-item-404"><a href="../category/oracle-weblogic/index.html" title="WebLogic is a leading Application Server product most widely used for e-commerce online transaction processing (OLTP) platform application, developed to connect users in a distributed computing environment and to facilitate the integration of mainframe applications with distributed corporate data and applications.">Oracle Weblogic</a> (2)
</li>
<li class="cat-item cat-item-232"><a href="../category/packer/index.html">Packer</a> (2)
</li>
<li class="cat-item cat-item-146"><a href="../category/perl/index.html">Perl</a> (1)
</li>
<li class="cat-item cat-item-60"><a href="../category/php/index.html">PHP</a> (1)
</li>
<li class="cat-item cat-item-453"><a href="../category/postgresql/index.html">PostgreSQL</a> (1)
</li>
<li class="cat-item cat-item-343"><a href="../category/powershell/index.html">PowerShell</a> (1)
</li>
<li class="cat-item cat-item-31"><a href="../category/weblogic/problemsolution/index.html">problem/solution</a> (8)
</li>
<li class="cat-item cat-item-427"><a href="../category/prometheus/index.html">Prometheus</a> (1)
</li>
<li class="cat-item cat-item-445"><a href="../category/pulumi/index.html">Pulumi</a> (1)
</li>
<li class="cat-item cat-item-285"><a href="../category/python-flask/index.html">Python Flask</a> (1)
</li>
<li class="cat-item cat-item-22"><a href="../category/python_scripts/index.html">python_scripts</a> (7)
</li>
<li class="cat-item cat-item-446"><a href="../category/redis/index.html">Redis</a> (1)
</li>
<li class="cat-item cat-item-451"><a href="../category/serverless/index.html">Serverless</a> (1)
</li>
<li class="cat-item cat-item-12"><a href="../category/shell-scripting/index.html">Shell Scripting</a> (6)
</li>
<li class="cat-item cat-item-125"><a href="../category/soap-web-services/index.html">SOAP Web Services</a> (1)
</li>
<li class="cat-item cat-item-13"><a href="../category/splunk/index.html">Splunk</a> (1)
</li>
<li class="cat-item cat-item-425"><a href="../category/sre/index.html">SRE</a> (1)
</li>
<li class="cat-item cat-item-274"><a href="../category/statsd/index.html">StatsD</a> (1)
</li>
<li class="cat-item cat-item-233"><a href="../category/terraform/index.html">Terraform</a> (12)
</li>
<li class="cat-item cat-item-35"><a href="../category/tomcat/index.html">tomcat</a> (7)
</li>
<li class="cat-item cat-item-147"><a href="../category/tools/index.html">tools</a> (5)
</li>
<li class="cat-item cat-item-391"><a href="../category/traefik/index.html">Traefik</a> (1)
</li>
<li class="cat-item cat-item-124"><a href="../category/troubleshooting/index.html">Troubleshooting</a> (3)
</li>
<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a> (5)
</li>
<li class="cat-item cat-item-7"><a href="../category/unix/index.html">Unix</a> (5)
</li>
<li class="cat-item cat-item-99"><a href="../category/vagrant/index.html">Vagrant</a> (4)
</li>
<li class="cat-item cat-item-389"><a href="../category/vuejs/index.html">VueJS</a> (2)
</li>
<li class="cat-item cat-item-356"><a href="../category/vulnerabilities-fixes/index.html">Vulnerabilities &amp; Fixes</a> (21)
</li>
<li class="cat-item cat-item-21"><a href="../category/weblogic/index.html">weblogic</a> (51)
</li>
<li class="cat-item cat-item-9"><a href="../category/webserver/index.html">Webserver</a> (1)
</li>
<li class="cat-item cat-item-92"><a href="../category/websphere/index.html">Websphere</a> (8)
</li>
<li class="cat-item cat-item-321"><a href="../category/windows-server/index.html">Windows Server</a> (5)
</li>
<li class="cat-item cat-item-55"><a href="../category/wlst/index.html">wlst</a> (7)
</li>
<li class="cat-item cat-item-36"><a href="../category/wordpress/index.html">wordpress</a> (2)
</li>
<li class="cat-item cat-item-4"><a href="../category/wsadmin-scripts/index.html">wsadmin scripts</a> (1)
</li>
</ul>
</aside><aside id="media_image-5" class="widget widget_media_image clearfix"><img width="267" height="400" src="../../wp-content/ewww/lazy/placeholder-267x400.png" class="image wp-image-8825  attachment-full size-full lazyload" alt="write for devopsjunction" style="max-width: 100%; height: auto;" data-src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" loading="lazy" data-srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" data-sizes="auto" /><noscript><img width="267" height="400" src="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png" class="image wp-image-8825  attachment-full size-full" alt="write for devopsjunction" style="max-width: 100%; height: auto;" srcset="../../wp-content/uploads/2022/07/write-for-us-devopsjunction.png 267w, ../../wp-content/uploads/2022/07/write-for-us-devopsjunction-200x300.png 200w" sizes="(max-width: 267px) 100vw, 267px" data-eio="l" /></noscript></aside>
</section>
</div>
<div id="footer" class="footer-wrap">
<footer id="colophon" class="site-footer container clearfix" role="contentinfo">
<div id="footer-text" class="site-info">
<span class="credit-link">Powered by <a href="../../index.html" title="Rumen Lishkov">Rumen Lishkov</a> and <a href="https://rumen.free.bg/" title="Studio-1">Studio1 Sofia</a> </span>
</div>
</footer>
</div>
</div>
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mwinventory" />
<meta name="twitter:creator" content="@mwinventory" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"><div class="simplesocialbuttons simplesocial-round-icon simplesocialbuttons-float-left-center post-5138 post  ssb_counter-activate simplesocialbuttons-slide-bottom-in">
<button class="simplesocial-fb-share" target="_blank" data-href="https://www.facebook.com/sharer/sharer.php?u=https://www.middlewareinventory.com/blog/ansible-apt-examples/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Facebook </span> <span class="ssb_counter ssb_fbshare_counter">0</span></button>
<button class="simplesocial-twt-share" data-href="https://twitter.com/share?text=Ansible+apt+module+Examples++%E2%80%93+install+packages+with+apt+%7C+Devops+Junction&url=https://www.middlewareinventory.com/blog/ansible-apt-examples/" rel="nofollow" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">Twitter</span> <span class="ssb_counter ssb_twitter_counter">0</span></button>
<button target="popup" class="simplesocial-linkedin-share" data-href="https://www.linkedin.com/cws/share?url=https://www.middlewareinventory.com/blog/ansible-apt-examples/" onclick="javascript:window.open(this.dataset.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><span class="simplesocialtxt">LinkedIn</span></button>
<button onclick="javascript:window.location.href = this.dataset.href;return false;" class="simplesocial-email-share" data-href="mailto:?subject=Ansible+apt+module+Examples++%E2%80%93+install+packages+with+apt+%7C+Devops+Junction&body=https://www.middlewareinventory.com/blog/ansible-apt-examples/"><span class="simplesocialtxt">Email</span></button>
<button onclick="javascript:window.open(this.dataset.href, '_blank' );return false;" class="simplesocial-whatsapp-share" data-href="https://web.whatsapp.com/send?text=https://www.middlewareinventory.com/blog/ansible-apt-examples/"><span class="simplesocialtxt">WhatsApp</span></button>
</div>
<script type="text/javascript">
		/* MonsterInsights Scroll Tracking */
			if ( typeof(jQuery) !== 'undefined' ) {
				jQuery( document ).ready(function(){
					function monsterinsights_scroll_tracking_load() {
						if ( typeof(__gaTracker) !== 'undefined' && __gaTracker && __gaTracker.hasOwnProperty( "loaded" ) && __gaTracker.loaded == true ) {
							(function(factory) {
								factory(jQuery);
							}(function($) {

								/* Scroll Depth */
								"use strict";
								var defaults = {
									percentage: true
								};

								var $window = $(window),
									cache = [],
									scrollEventBound = false,
									lastPixelDepth = 0;

								/*
								 * Plugin
								 */

								$.scrollDepth = function(options) {

									var startTime = +new Date();

									options = $.extend({}, defaults, options);

									/*
									 * Functions
									 */

									function sendEvent(action, label, scrollDistance, timing) {

										var fieldsArray = {
											hitType       : 'event',
											eventCategory : 'Scroll Depth',
											eventAction   : action,
											eventLabel    : label,
											eventValue    : 1,
											nonInteraction: 1
										};

										if ( 'undefined' === typeof MonsterInsightsObject || 'undefined' === typeof MonsterInsightsObject.sendEvent ) {
											return;
										}

										MonsterInsightsObject.sendEvent( fieldsArray );
										if (arguments.length > 3) {
											fieldsArray = {
												hitType        : 'timing',
												timingCategory : 'Scroll Depth',
												timingVar      : action,
												timingValue    : timing,
												timingLabel    : label,
												nonInteraction: 1
											};
											MonsterInsightsObject.sendEvent( fieldsArray );
										}
									}

									function calculateMarks(docHeight) {
										return {
											'25%' : parseInt(docHeight * 0.25, 10),
											'50%' : parseInt(docHeight * 0.50, 10),
											'75%' : parseInt(docHeight * 0.75, 10),
											/* Cushion to trigger 100% event in iOS */
											'100%': docHeight - 5
										};
									}

									function checkMarks(marks, scrollDistance, timing) {
										/* Check each active mark */
										$.each(marks, function(key, val) {
											if ( $.inArray(key, cache) === -1 && scrollDistance >= val ) {
												sendEvent('Percentage', key, scrollDistance, timing);
												cache.push(key);
											}
										});
									}

									function rounded(scrollDistance) {
										/* Returns String */
										return (Math.floor(scrollDistance/250) * 250).toString();
									}

									function init() {
										bindScrollDepth();
									}

									/*
									 * Public Methods
									 */

									/* Reset Scroll Depth with the originally initialized options */
									$.scrollDepth.reset = function() {
										cache = [];
										lastPixelDepth = 0;
										$window.off('scroll.scrollDepth');
										bindScrollDepth();
									};

									/* Add DOM elements to be tracked */
									$.scrollDepth.addElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.merge(options.elements, elems);

										/* If scroll event has been unbound from window, rebind */
										if (!scrollEventBound) {
											bindScrollDepth();
										}

									};

									/* Remove DOM elements currently tracked */
									$.scrollDepth.removeElements = function(elems) {

										if (typeof elems == "undefined" || !$.isArray(elems)) {
											return;
										}

										$.each(elems, function(index, elem) {

											var inElementsArray = $.inArray(elem, options.elements);
											var inCacheArray = $.inArray(elem, cache);

											if (inElementsArray != -1) {
												options.elements.splice(inElementsArray, 1);
											}

											if (inCacheArray != -1) {
												cache.splice(inCacheArray, 1);
											}

										});

									};

									/*
									 * Throttle function borrowed from:
									 * Underscore.js 1.5.2
									 * http://underscorejs.org
									 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
									 * Underscore may be freely distributed under the MIT license.
									 */

									function throttle(func, wait) {
										var context, args, result;
										var timeout = null;
										var previous = 0;
										var later = function() {
											previous = new Date;
											timeout = null;
											result = func.apply(context, args);
										};
										return function() {
											var now = new Date;
											if (!previous) previous = now;
											var remaining = wait - (now - previous);
											context = this;
											args = arguments;
											if (remaining <= 0) {
												clearTimeout(timeout);
												timeout = null;
												previous = now;
												result = func.apply(context, args);
											} else if (!timeout) {
												timeout = setTimeout(later, remaining);
											}
											return result;
										};
									}

									/*
									 * Scroll Event
									 */

									function bindScrollDepth() {

										scrollEventBound = true;

										$window.on('scroll.scrollDepth', throttle(function() {
											/*
											 * We calculate document and window height on each scroll event to
											 * account for dynamic DOM changes.
											 */

											var docHeight = $(document).height(),
												winHeight = window.innerHeight ? window.innerHeight : $window.height(),
												scrollDistance = $window.scrollTop() + winHeight,

												/* Recalculate percentage marks */
												marks = calculateMarks(docHeight),

												/* Timing */
												timing = +new Date - startTime;

											checkMarks(marks, scrollDistance, timing);
										}, 500));

									}

									init();
								};

								/* UMD export */
								return $.scrollDepth;

							}));

							jQuery.scrollDepth();
						} else {
							setTimeout(monsterinsights_scroll_tracking_load, 200);
						}
					}
					monsterinsights_scroll_tracking_load();
				});
			}
		/* End MonsterInsights Scroll Tracking */
		
</script><script type='text/javascript' id='disqus_count-js-extra'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"mwinventory"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f8767.js"></script>
<script type='text/javascript' id='disqus_embed-js-extra'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"integration":"wordpress 3.0.22"},"disqusIdentifier":"5138 https:\/\/www.middlewareinventory.com\/?p=5138","disqusShortname":"mwinventory","disqusTitle":"Ansible apt module Examples  \u2013 install packages with apt | Devops Junction","disqusUrl":"https:\/\/www.middlewareinventory.com\/blog\/ansible-apt-examples\/","postId":"5138"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/bccbc.js"></script>
<script type='text/javascript' id='dae-download-js-extra'>
/* <![CDATA[ */
var objDaeDownload = {"ajaxUrl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"2019084a26"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/8510d.js"></script>
<script type='text/javascript' id='socialsnap-js-js-extra'>
/* <![CDATA[ */
var socialsnap_script = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","on_media_width":"250","on_media_height":"250","nonce":"b4d440853b","post_id":"5138"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/fef55.js"></script>
<script type='text/javascript' id='aicp-js-extra'>
/* <![CDATA[ */
var AICP = {"ajaxurl":"https:\/\/www.middlewareinventory.com\/wp-admin\/admin-ajax.php","nonce":"0b980bed5f","ip":"78.133.233.210","clickLimit":"1","clickCounterCookieExp":"3","banDuration":"7","countryBlockCheck":"No","banCountryList":"RU"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/ff9fe.js"></script>
<script type='text/javascript' src='https://js.stripe.com/v3/?ver=2.03' id='stripe-js'></script>
<script type='text/javascript' id='q2w3_fixed_widget-js-extra'>
/* <![CDATA[ */
var q2w3_sidebar_options = [{"sidebar":"q2w3-default-sidebar","margin_top":10,"margin_bottom":0,"stop_id":"","screen_max_width":1026,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["text-32"]}];
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/f2bcf.js"></script>
<script type='text/javascript' id='enlighterjs-js-after'>
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"enlighter","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script src="../../wp-content/cache/minify/129c2.js"></script>
<script type='text/javascript' id='ez-toc-js-js-extra'>
/* <![CDATA[ */
var ezTOC = {"smooth_scroll":"1","visibility_hide_by_default":"","width":"100%","scroll_offset":"30"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0c713.js"></script>
<div id="ss-copy-popup" class="ss-popup-overlay">
<div class="ss-popup">
<div class="ss-popup-heading">
<span>Copy link</span>
<a href="#" id="ss-close-share-networks-modal" class="ss-close-modal" rel="nofollow"><i class="ss ss-close"></i></a>
</div>
<div class="ss-popup-content">
<div class="ss-copy-action">
<input type="text" readonly="readonly" value="https://www.middlewareinventory.com/blog/ansible-apt-examples/" class="ss-copy-action-field" />
<a href="#" class="ss-button" rel="nofollow">Copy<span class="ss-share-network-tooltip">Copied</span></a>
<i class="ss ss-copy"></i>
</div>
<div class="ss-powered-by">Powered by <a href="https://socialsnap.com/?utm_source=WordPress&amp;utm_medium=link&amp;utm_campaign=inthewild" target="_blank" rel="nofollow noopener"><i class="ss ss-socialsnap"></i>Social Snap</a></div>
</div>
</div>
</div>
<script type='text/javascript'>function initTwitCount(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://static1.twitcount.com/js/twitcount.js';fjs.parentNode.insertBefore(js,fjs)}}
        var ssb_twit_count_init=!1;addEventListener('mouseover',function(event){if(!ssb_twit_count_init){initTwitCount(document,'script','twitcount_plugins')
        ssb_twit_count_init=!0}})</script> 
<script type="text/javascript">

			var SocialSnapURL 				= window.location.href;
			var SocialSnapShareCacheExpired = 0;
				
			if ( -1 !== SocialSnapURL.indexOf('?ss_cache_refresh') ) {

				SocialSnapShareCacheExpired = true;

			} else {

				var SocialSnapServerTimestamp 	= 1657191004;
				var SocialSnapBrowserTimestamp 	= Date.now();

				if ( ! SocialSnapBrowserTimestamp ) {
					SocialSnapBrowserTimestamp = new Date().getTime();
				}

				SocialSnapBrowserTimestamp = Math.floor( SocialSnapBrowserTimestamp / 1000 );

				SocialSnapShareCacheExpired = SocialSnapShareCacheExpired && ( SocialSnapBrowserTimestamp - SocialSnapServerTimestamp < 60 );
			}

		</script>

<div id="cookie-notice" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #000;"><div class="cookie-notice-container"><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. The Cookies collected are used only to Show customized Ads. We Hope you are fine with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept" class="cn-set-cookie cn-button bootstrap button">Ok</a><a href="#" id="cn-refuse-cookie" data-cookie-set="refuse" class="cn-set-cookie cn-button bootstrap button">No</a><a href="../../cookie-policy/index.html" target="_blank" id="cn-more-info" class="cn-more-info cn-button bootstrap button">Privacy policy</a>
</div>
<div class="cookie-notice-revoke-container"><a href="#" class="cn-revoke-cookie cn-button bootstrap button">Revoke cookies</a></div>
</div>
</body>
</html>
