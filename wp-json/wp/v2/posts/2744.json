{"id":2744,"date":"2019-03-18T00:59:00","date_gmt":"2019-03-17T19:29:00","guid":{"rendered":"https:\/\/www.middlewareinventory.com\/?p=2744"},"modified":"2022-06-19T11:29:55","modified_gmt":"2022-06-19T05:59:55","slug":"ansible-get-ip-address","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/","title":{"rendered":"Ansible get ip address of current host or target"},"content":{"rendered":"<p><strong>How to get the IP address of the current or remote host in Ansible.<\/strong> That&#8217;s the question, this article is going to address.<\/p>\n<p>While running a Playbook you might have had a requirement where you need to get the IP address of the connected and current remote host.\u00a0 There are many different ways to obtain the IP address of the remote host but it has multiple network\u00a0channel like <code>eth0<\/code>\u00a0and <code>enp0s8<\/code>\u00a0 etc.<\/p>\n<p>Sometimes the Default IPv4 address of the remote host is not the one you are looking for or it is not the one you have used to connect.<\/p>\n<p>So the question is How do you get the IP address. In this article, we are going to see various methods to get that Done including the obvious Default IPv4 and eth0 choice.<\/p>\n<p>But the First one is my favourite and proved to be giving the IP address of the remote host I want.<\/p>\n<p>You can make your choice.<\/p>\n<p>So let us learn how ansible get ip address of the remote host.<\/p>\n<p>&nbsp;<\/p>\n<h2>Method1:\u00a0 Get the IP used by Ansible master to connect<\/h2>\n<p>In this method, we are going to use the IP address used by Ansible master to connect to the Remote Host.<\/p>\n<p>Sometimes, we would use the public IP to connect to the remote host in such cases we would want to use this method.<\/p>\n<blockquote><p>AWS hosts are the best example for this type as this method would use the public IP or the domain_name we have used to connect to the EC2 instance.<\/p><\/blockquote>\n<p>This is the method I have been using for a while and It never failed me.\u00a0 The \/etc\/hosts update post tagged above has also implemented with this method.<\/p>\n<p>So in this method. to get the remote IP address with ansible\u00a0 we are relying on the SSH connectivity between the Ansible Master and remote host(target)<\/p>\n<p>If you know already, ansible\u00a0Gather_facts collects all the information about the remote hosts and it provides a various lot of information about the remote host including the IP address being used for SSH connection.<\/p>\n<p>To know more about Ansible Gather_facts and to see what facts are being collected. <a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-facts-list-how-to-use-ansible-facts\/\">Check this post<\/a><\/p>\n<p>Now back to the objective.<\/p>\n<p>The following playbook would show how to get the IP address of the remote target or host using the SSH Connection between the ansible master and the host.<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;\"><span class=\"hljs-meta\" style=\"color: #9b859d;\">---<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">- hosts:<\/span> all\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">  gather_facts:<\/span> <span class=\"hljs-literal\">yes<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">  tasks:<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">    - debug:<\/span> var=hostvars[inventory_hostname][<span class=\"hljs-string\" style=\"color: #a5c261;\">'ansible_env'<\/span>].SSH_CONNECTION.split(<span class=\"hljs-string\" style=\"color: #a5c261;\">' '<\/span>)[<span class=\"hljs-number\" style=\"color: #a5c261;\">2<\/span>]<\/pre>\n<p>If you <a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-facts-list-how-to-use-ansible-facts\/\">refer this post\u00a0<\/a>\u00a0and look at the Facts being collected you would be able to understand where this information is coming from.<\/p>\n<p>Also, this is the IP being used to ansible master to connect to the target, so this can be used as the Righteous IP in all requirements.<\/p>\n<p><strong>Execution Output<\/strong><\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;\">$<span style=\"color: #ffff00;\"> ansible-playbook GetIPHosts.yml -i ansible_hosts<\/span> \r\n\r\nPLAY [all] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\n\r\nTASK [Gathering Facts] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp05]\r\nok: [mwiapp04]<\/span>\r\n\r\nTASK [debug] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp04] =&gt; {\r\n<span class=\"hljs-code\">    \"hostvars[inventory_hostname]['ansible_env'].SSH_CONNECTION.split(' ')[2]\": <span style=\"color: #ffff00;\">\"192.168.43.15\"<\/span><\/span>\r\n}\r\nok: [mwiapp05] =&gt; {\r\n<span class=\"hljs-code\">    \"hostvars[inventory_hostname]['ansible_env'].SSH_CONNECTION.split(' ')[2]\": <span style=\"color: #ffff00;\">\"192.168.43.16\"<\/span><\/span>\r\n}\r\n<\/span>\r\nPLAY RECAP <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\nmwiapp04                   : ok=2    changed=0    unreachable=0    failed=0   \r\nmwiapp05                   : ok=2    changed=0    unreachable=0    failed=0<\/pre>\n<p>you can see the IP address of the remote host is displayed. ( highlighted with Yellow colour)<\/p>\n<blockquote><p>Note*: Since All these information are derived from the facts collected. If you set\u00a0<code>Gather_facts<\/code> as <code>no<\/code> in your playbook for some reason. The method would not work.<\/p><\/blockquote>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<p>There is another best example you can refer for this method.\u00a0 We have written a post about updating the \/etc\/hosts files of all the hosts in the host group using ansible where we make an entry in \/etc\/hosts file in each other across the whole host group and multiple hosts.<\/p>\n<p>You can refer that post here.<\/p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"CO6f2BNR6V\"><p><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-update-etc-hosts-file-across-all-hosts\/\">ansible update \/etc\/hosts file with IP of all hosts across all hosts<\/a><\/p><\/blockquote>\n<p><iframe class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" title=\"&#8220;ansible update \/etc\/hosts file with IP of all hosts across all hosts&#8221; &#8212; Middleware Inventory\" src=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-update-etc-hosts-file-across-all-hosts\/embed\/#?secret=CO6f2BNR6V\" data-secret=\"CO6f2BNR6V\" width=\"600\" height=\"338\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"><\/iframe><\/p>\n<h2>Method2: Use the Default IPv4 address of the remote host<\/h2>\n<p>In a Well setup Linux Virtual Machine,\u00a0 The Default IPv4 and IPV6 address would accept the Connections from the remote and that is the IP address we would also be used in\u00a0 <code>ansible_hosts<\/code> file as well.<\/p>\n<blockquote><p>This method is not suitable when your remote hosts are AWS EC2 machines. as this would return the private IP of the host<\/p><\/blockquote>\n<p>If you SSH into the server and say<code> ping hostname<\/code>\u00a0you will get this IP address as a return.<\/p>\n<p>From remote, you can also SSH using this IP to the host. In such cases, the following playbook (or) method would help you to get the IP address of the remote host.<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;\"><span class=\"hljs-meta\" style=\"color: #9b859d;\">---<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">- hosts:<\/span> all\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">  tasks:<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">    - debug:<\/span> var=hostvars[inventory_hostname][<span class=\"hljs-string\" style=\"color: #a5c261;\">'ansible_default_ipv4'<\/span>][<span class=\"hljs-string\" style=\"color: #a5c261;\">'address'<\/span>]\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">    - debug:<\/span> var=hostvars[inventory_hostname][<span class=\"hljs-string\" style=\"color: #a5c261;\">'ansible_default_ipv6'<\/span>][<span class=\"hljs-string\" style=\"color: #a5c261;\">'address'<\/span>]<\/pre>\n<p>This is taking the default IPv4 and IPv6 address of the current remote host.<\/p>\n<p><strong>Execution Output<\/strong><\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;\">aksarav@middlewareinventory:\/apps\/vagrant\/webinfra\/AnsibleWorkSpace$ ansible-playbook GetIPofHosts.yml -i ansible_hosts\r\n\r\nPLAY [all] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\n\r\nTASK [Gathering Facts] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp05]\r\nok: [mwiapp04]<\/span>\r\n\r\nTASK [debug] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp04] =&gt; {\r\n<span class=\"hljs-code\">    \"hostvars[inventory_hostname]['ansible_default_ipv4']['address']\": <span style=\"color: #ffff00;\">\"10.0.2.15\"<\/span><\/span>\r\n}\r\nok: [mwiapp05] =&gt; {\r\n<span class=\"hljs-code\">    \"hostvars[inventory_hostname]['ansible_default_ipv4']['address']\": <span style=\"color: #ffff00;\">\"10.0.2.15\"<\/span><\/span>\r\n}\r\n<\/span>\r\nTASK [debug] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp04] =&gt; {\r\n<span class=\"hljs-code\">    \"hostvars[inventory_hostname]['ansible_default_ipv6']['address']\": \"VARIABLE IS NOT DEFINED!\"<\/span>\r\n}\r\nok: [mwiapp05] =&gt; {\r\n<span class=\"hljs-code\">    \"hostvars[inventory_hostname]['ansible_default_ipv6']['address']\": \"VARIABLE IS NOT DEFINED!\"<\/span>\r\n}\r\n<\/span>\r\nPLAY RECAP <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\nmwiapp04                   : ok=3    changed=0    unreachable=0    failed=0   \r\nmwiapp05                   : ok=3    changed=0    unreachable=0    failed=0<\/pre>\n<p>Since my remote hosts do not have <code>default_ipv6<\/code> address configured.\u00a0 The VARIABLE IS NOT DEFINED message have come otherwise the IPv4 address of the remote host is displayed and highlighted in yellow.<\/p>\n<p>If this is the IP address you are looking for you can choose this method.<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h2>Method 3:\u00a0 Get the IP of Remote Network interface name eth0.<\/h2>\n<p>Mostly the Linux servers used to have <code>eth0<\/code> as the default network interface name but this tradition is becoming an era.<\/p>\n<p>Now some of the Linux systems keep different names to their default network interface such as\u00a0<code>en3<\/code> or <code>enp0s3<\/code> etc<\/p>\n<blockquote><p>This can be used in AWS on certain circumstances but this would reveal only the private IP address not the public ip<\/p><\/blockquote>\n<p>In my case, the remote hosts are having a default interface name <code>enp0s3<\/code><\/p>\n<p>So, Let&#8217;s see how to get the target&#8217;s IP address using the network interface name<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;\"><span class=\"hljs-meta\" style=\"color: #9b859d;\">---<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">- hosts:<\/span> all\r\n  <span class=\"hljs-comment\" style=\"color: #bc9458; font-style: italic;\"># this is by default YES. So no need mention it anyway<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">  gather_facts:<\/span> <span class=\"hljs-literal\">yes<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">  tasks:<\/span>\r\n    <span class=\"hljs-comment\" style=\"color: #bc9458; font-style: italic;\"># Getting the IP address of enp0s3 interface<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">    - debug:<\/span> var=ansible_enp0s3.ipv4.address\r\n    <span class=\"hljs-comment\" style=\"color: #bc9458; font-style: italic;\"># Getting the IP address of eth0 interface<\/span>\r\n<span class=\"hljs-attr\" style=\"color: #6d9cbe;\">    - debug:<\/span> var=ansible_eth0.ipv4.address<\/pre>\n<p>You can see we have used the interface names to fetch the IP address of the connected target host.<\/p>\n<p><strong>Execution Output<\/strong><\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #232323; color: #e6e1dc;\">aksarav@middlewareinventory:\/apps\/vagrant\/webinfra\/AnsibleWorkSpace$ ansible-playbook GetIPInterface.yml -i ansible_hosts\r\n\r\nPLAY [all] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\n\r\nTASK [Gathering Facts] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp05]\r\nok: [mwiapp04]<\/span>\r\n\r\nTASK [debug] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp04] =&gt; {\r\n<span class=\"hljs-code\">    \"ansible_enp0s3.ipv4.address\": <span style=\"color: #e31e76;\">\"10.0.2.15\"<\/span><\/span>\r\n}\r\nok: [mwiapp05] =&gt; {\r\n<span class=\"hljs-code\">    \"ansible_enp0s3.ipv4.address\": <span style=\"color: #e31e76;\">\"10.0.2.15\"<\/span><\/span>\r\n}<\/span>\r\n\r\nTASK [debug] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n<span style=\"color: #00ff00;\">ok: [mwiapp04] =&gt; {\r\n<span class=\"hljs-code\">    \"ansible_eth0.ipv4.address\": <span style=\"color: #e31e76;\">\"192.168.43.15\"<\/span><\/span>\r\n}\r\nok: [mwiapp05] =&gt; {\r\n<span class=\"hljs-code\">    \"ansible_eth0.ipv4.address\": <span style=\"color: #e31e76;\">\"192.168.43.16\"<\/span><\/span>\r\n}<\/span>\r\n\r\nPLAY RECAP <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\nmwiapp04                   : ok=3    changed=0    unreachable=0    failed=0   \r\nmwiapp05                   : ok=3    changed=0    unreachable=0    failed=0<\/pre>\n<p>You can see the different interfaces have different IP addresses. You can choose this method if you are looking to get the IP address based on the interface name. If you are sure that eth0 is your default network interface you can use\u00a0<code><span style=\"color: #e31e76;\"><span class=\"hljs-code\">ansible_eth0.ipv4.address<\/span><\/span><\/code>\u00a0to get the default IP address of the remote target.<\/p>\n<p>So these are the three different methods to get the IP address of the remote hosts. If you feel that there is more feel free to comment and let the readers know.<\/p>\n<p>Thanks for reading.<\/p>\n<p>Rate this article [ratings]<\/p>\n<p>Cheers,<br \/>\nRumen Lishkov<\/p>\n<div id=\"postfollow\">\r\n<a href='https:\/\/ko-fi.com\/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='https:\/\/az743702.vo.msecnd.net\/cdn\/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' \/><\/a>\r\n<p>Follow us on<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a> or<a href=\"http:\/\/www.twitter.com\/mwinventory\">Twitter<\/a>\r\n<\/br>\r\nFor more practical videos and tutorials. <a href=\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw?sub_confirmation=1\">Subscribe to our channel<\/a>\r\n<\/br>\r\nFollow me on Linkedin <a href=\"https:\/\/www.linkedin.com\/comm\/mynetwork\/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=saravakmwinventory\">My Profile<\/a>\r\n<\/br>\r\n<\/i>For any Consultation or to hire us <a href=\"mailto:rumenlishkoff@gmail.com\"> rumenlishkoff@gmail.com<\/a>\r\n<\/br>\r\nIf you like this article. Show your Support! <a href=\"https:\/\/ko-fi.com\/middlewareinventory\">Buy me a Coffee.<\/a>\r\n<\/br>\r\n<\/p>\r\n<p style=\"color: palevioletred !important;\">Signup for Exclusive \"Subscriber-only\" Content<\/p>\r\n\n\t\t<div class=\"emaillist\">\n\t\t\t<form action=\"#\" method=\"post\" class=\"es_subscription_form es_shortcode_form\" id=\"es_subscription_form_1670577876\" data-source=\"ig-es\">\n\t\t\t\t\t\t\t\t<div class=\"es-field-wrap\"><label>Name*<br \/><input type=\"text\" name=\"name\" class=\"ig_es_form_field_name\" placeholder=\"\" value=\"\" required=\"required\" \/><\/label><\/div><div class=\"es-field-wrap\"><label>Email*<br \/><input class=\"es_required_field es_txt_email ig_es_form_field_email\" type=\"email\" name=\"email\" value=\"\" placeholder=\"\" required=\"required\" \/><\/label><\/div><input type=\"hidden\" name=\"lists[]\" value=\"1\" \/><input type=\"hidden\" name=\"form_id\" value=\"3\" \/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page\" value=\"2744\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page_url\" value=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"status\" value=\"Unconfirmed\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es-subscribe\" id=\"es-subscribe\" value=\"7aebfb1a9b\"\/>\n\t\t\t\t<label style=\"position:absolute;top:-99999px;left:-99999px;z-index:-99;\"><input type=\"email\" name=\"es_hp_email\" class=\"es_required_field\" tabindex=\"-1\" autocomplete=\"-1\" value=\"\"\/><\/label>\n\t\t\t\t\t\t\t\t<input type=\"submit\" name=\"submit\" class=\"es_subscription_form_submit es_submit_button es_textbox_button\" id=\"es_subscription_form_submit_1670577876\" value=\"Subscribe\"\/>\n\n\t\t\t\t\n\t\t\t\t<span class=\"es_spinner_image\" id=\"spinner-image\"><img src=\"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/email-subscribers\/lite\/public\/images\/spinner.gif\" alt=\"Loading\"\/><\/span>\n\n\t\t\t<\/form>\n\n\t\t\t<span class=\"es_subscription_message\" id=\"es_subscription_message_1670577876\"><\/span>\n\t\t<\/div>\n\n\t\t\r\n<\/div>\r\n<hr>\n","protected":false},"excerpt":{"rendered":"<p>How to get the IP address of the current or remote host in Ansible. That&#8217;s the question, this article is going to address. While running a Playbook you might have had a requirement where you need to get the IP address of the connected and current remote host.\u00a0 There are[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":3042,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[98],"tags":[213,209,210,212,214,211],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Ansible get ip address of current host or target<\/title>\n<meta name=\"description\" content=\"how to get ip address of a host in Ansible. How to get the remote target server IP address in ansible playbook using the ansible facts collected using multiple methods like default network interface name eth0, enp0s3 etc and SSH connection information and default IPv4 and IPv6 address etc. ansible get ip address\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Ansible get ip address of current host or target\" \/>\n<meta property=\"og:description\" content=\"how to get ip address of a host in Ansible. How to get the remote target server IP address in ansible playbook using the ansible facts collected using multiple methods like default network interface name eth0, enp0s3 etc and SSH connection information and default IPv4 and IPv6 address etc. ansible get ip address\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2019-03-17T19:29:00+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-06-19T05:59:55+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/03\/Screen-Shot-2019-03-18-at-12.45.43-AM.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1371\" \/>\n\t<meta property=\"og:image:height\" content=\"764\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/03\/Screen-Shot-2019-03-18-at-12.45.43-AM.png\",\"width\":1371,\"height\":764},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/\",\"name\":\"Ansible get ip address of current host or target\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#primaryimage\"},\"datePublished\":\"2019-03-17T19:29:00+00:00\",\"dateModified\":\"2022-06-19T05:59:55+00:00\",\"description\":\"how to get ip address of a host in Ansible. How to get the remote target server IP address in ansible playbook using the ansible facts collected using multiple methods like default network interface name eth0, enp0s3 etc and SSH connection information and default IPv4 and IPv6 address etc. ansible get ip address\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"Ansible get ip address of current host or target\",\"datePublished\":\"2019-03-17T19:29:00+00:00\",\"dateModified\":\"2022-06-19T05:59:55+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#primaryimage\"},\"keywords\":\"ansible get IP,ansible get ip address,ansible get IP address of connected host,ansible get IP of remote,ansible hosts IP address,remote host get IP ansible\",\"articleSection\":\"Ansible\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/ansible-get-ip-address\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/2744"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=2744"}],"version-history":[{"count":11,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/2744\/revisions"}],"predecessor-version":[{"id":6996,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/2744\/revisions\/6996"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/3042"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=2744"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=2744"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=2744"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}