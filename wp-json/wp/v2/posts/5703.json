{"id":5703,"date":"2020-09-14T05:16:56","date_gmt":"2020-09-13T23:46:56","guid":{"rendered":"https:\/\/www.middlewareinventory.com\/?p=5703"},"modified":"2022-02-17T16:20:15","modified_gmt":"2022-02-17T10:50:15","slug":"ansible-dict","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/","title":{"rendered":"Ansible Dictionary &#8211; How to create and add items to dict"},"content":{"rendered":"<h2>Introduction<\/h2>\n<p>In this post, we are going to see how to create a dictionary in ansible during the playbook execution dynamically and how to add items or elements to a dictionary.<\/p>\n<p>Before going further, let us refresh our memory of knowledge on the dictionaries. Especially python dictionaries because Ansible is pythonic and the word dictionary was introduced in python. in Perl, it used to be called as hash<\/p>\n<p>Dictionaries are a collection of\u00a0 <code>key: value<\/code> data sets. changeable, indexed and unordered.<\/p>\n<p>the difference between a list(array) and a dictionary is in the dictionary every value has a name(key) and not indexed by their positional values like 0,1,2 etc<\/p>\n<p>Hope the following picture would give a quick idea about the dictionaries.<\/p>\n<figure id=\"attachment_5715\" aria-describedby=\"caption-attachment-5715\" style=\"width: 371px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Dictionary-Key-Value-Pairs-Illustration.png\"><img class=\"wp-image-5715 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Dictionary-Key-Value-Pairs-Illustration.png\" alt=\"\" width=\"371\" height=\"293\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Dictionary-Key-Value-Pairs-Illustration.png 371w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Dictionary-Key-Value-Pairs-Illustration-300x237.png 300w\" sizes=\"(max-width: 371px) 100vw, 371px\" \/><\/a><figcaption id=\"caption-attachment-5715\" class=\"wp-caption-text\">Image credits to learn by example<\/figcaption><\/figure>\n<p>I am sure, if you are here then you must have an idea about dictionaries anyway. So let&#8217;s proceed.<\/p>\n<p>&nbsp;<\/p>\n<h2>How to Create Dictionaries in Ansible<\/h2>\n<p>There are multiple ways to create a dictionary in ansible and we would be seeing all of them with examples.<\/p>\n<h3>Creating a Dictionary under <code>vars<\/code> section in Ansible<\/h3>\n<p>You can declare and create a dictionary using the normal variable declaration methodology of Ansible. you can place your dictionary variable under the <code>vars<\/code> segment of your playbook like this<\/p>\n<p>In the following playbook, you can see that we have created a dictionary named <code>mydict<\/code> and stored some key-value data and displaying it using the debug statement<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3 none repeat scroll 0% 0%; color: #00193a;\"><span class=\"hljs-meta\" style=\"color: #4c81c9;\">---<\/span>\r\n<span class=\"hljs-attr\">- name:<\/span> Dictionary playbook example\r\n<span class=\"hljs-attr\">  hosts:<\/span> localhost\r\n<span class=\"hljs-attr\">  vars:<\/span> \r\n<span class=\"hljs-attr\">    - <span style=\"color: #993366;\">mydict:<\/span><\/span> {\r\n<span class=\"hljs-attr\">               'Name':<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">'Sarav'<\/span>, \r\n<span class=\"hljs-attr\">               'Email':<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">'aksarav.middlewareinventory.com'<\/span>, \r\n<span class=\"hljs-attr\">               'location':<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">'chennai'<\/span>\r\n               }\r\n<span class=\"hljs-attr\">  tasks:<\/span>\r\n<span class=\"hljs-attr\">    - name:<\/span> Display the Dictionary \r\n<span class=\"hljs-attr\">      debug:<\/span> var=mydict<\/pre>\n<p>execution result of this playbook would be\u00a0 as follows<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3 none repeat scroll 0% 0%; color: #00193a;\">\u279c  ansible-playbook Dict.yml\r\n\r\nPLAY [Dictionary playbook example] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-emphasis\" style=\"font-style: italic;\">***<\/span>\r\n\r\nTASK [Gathering Facts] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\nok: [localhost]\r\n\r\nTASK [Display the Dictionary] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-emphasis\" style=\"font-style: italic;\">***<\/span>\r\nok: [localhost] =&gt; {\r\n<span class=\"hljs-code\">    \"mydict\": {<\/span>\r\n<span class=\"hljs-code\">        \"Email\": \"aksarav.middlewareinventory.com\",<\/span>\r\n<span class=\"hljs-code\">        \"Name\": \"Sarav\",<\/span>\r\n<span class=\"hljs-code\">        \"location\": \"chennai\"<\/span>\r\n<span class=\"hljs-code\">    }<\/span>\r\n}\r\n\r\nPLAY RECAP <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\nlocalhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0<\/pre>\n<p>&nbsp;<\/p>\n<p>you can create an <strong>empty dictionary<\/strong> as well by not adding any values inside the parenthesis during the declaration like this.<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"yaml\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">---\r\n  - name: Dictionary playbook example\r\n    hosts: localhost\r\n    vars: \r\n    # Dictionary with some values\r\n      - mydict: {\r\n                'Name': 'Sarav', \r\n                'Email': 'aksarav.middlewareinventory.com', \r\n                'location': 'chennai'\r\n                }\r\n    #Empty Dictionary\r\n      - mydict2: {} \r\n    tasks:\r\n      - name: Display the Dictionary \r\n        debug: var=mydict2<\/pre>\n<p>&nbsp;<\/p>\n<h3>Creating a Dictionary in Ansible using the <code>default<\/code> function<\/h3>\n<p>You can also create a dictionary within the task itself and define some variable as a dictionary by default, the default value kicks in when there was no previous declaration for the same variable.<\/p>\n<p>For example. If the variable has not been declared earlier using the <code>vars<\/code> method, you can directly set them as a dictionary by default. you can define some value to it by default using the <code>default<\/code><\/p>\n<p>This is much more helpful while creating variables in a dynamic manner. To declare the variable within the task we use <code>set_fact<\/code> module.<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"yaml\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">---\r\n- name: Dictionary playbook example\r\n  hosts: localhost\r\n  tasks:\r\n    - name: Creating a Dictionary in a Task \r\n      set_fact: \r\n        # Dictionary with some value\r\n        mydict2: \"{{ mydict2 | default({ 'Name': 'Sarav'})}}\"\r\n        # Empty Dictionary\r\n        mydict: \"{{ mydict | default({})}}\"\r\n    - name: Display the Dictionaries\r\n      debug: var=\"{{item}}\"\r\n      loop:\r\n        - 'mydict2'\r\n        - 'mydict'<\/pre>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<p>this playbook would return the following result upon execution<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3 none repeat scroll 0% 0%; color: #00193a;\">\u279c  ansible-playbook Dict.yml\r\n\r\nPLAY [Dictionary playbook example] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>\r\n\r\nTASK [Gathering Facts] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>**\r\nok: [localhost]\r\n\r\nTASK [Creating a Dictionary in a Task] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span>*\r\nok: [localhost]\r\n\r\nTASK [Display the Dictionaries] <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-emphasis\" style=\"font-style: italic;\">***<\/span>\r\nok: [localhost] =&gt; (item=mydict2) =&gt; {\r\n<span class=\"hljs-code\">    \"ansible_loop_var\": \"item\",<\/span>\r\n<span class=\"hljs-code\">    \"item\": \"mydict2\",<\/span>\r\n<span style=\"color: #800000;\"><span class=\"hljs-code\">    \"mydict2\": {<\/span>\r\n<span class=\"hljs-code\">        \"Name\": \"Sarav\"<\/span>\r\n<span class=\"hljs-code\">    }<\/span><\/span>\r\n}\r\nok: [localhost] =&gt; (item=mydict) =&gt; {\r\n<span class=\"hljs-code\">    \"ansible_loop_var\": \"item\",<\/span>\r\n<span class=\"hljs-code\">    \"item\": \"mydict\",<\/span>\r\n<span class=\"hljs-code\" style=\"color: #800000;\">    \"mydict\": {}<\/span>\r\n}\r\n\r\nPLAY RECAP <span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-strong\" style=\"font-weight: bold;\">*****<\/span><span class=\"hljs-emphasis\" style=\"font-style: italic;\">***<\/span>*\r\nlocalhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0<\/pre>\n<p>&nbsp;<\/p>\n<h2>How to Append or Add items into Ansible Dictionary<\/h2>\n<p>In this segment, we are going to see how to append or add items into Ansible dictionary and how to create a list of dictionaries (or) List with nested dictionaries.<\/p>\n<p>We have seen how to declare dictionaries in python so far and now we are going to see how to add new items (or) a key, value dataset into an existing ansible dictionary.<\/p>\n<p>One way to add\/append elements is during the declaration time which we have seen in the last two examples. in this section, we are going to see how to add or append new elements into dictionaries dynamically at runtime<\/p>\n<p>In the following playbook example, we are going to create a dictionary named userdata using the default filter and adding elements to it using the <code>combine<\/code> filter<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3 none repeat scroll 0% 0%; color: #00193a;\"><span class=\"hljs-meta\" style=\"color: #4c81c9;\">---<\/span>\r\n<span class=\"hljs-attr\">- name:<\/span> Dictionary playbook example\r\n<span class=\"hljs-attr\">  hosts:<\/span> localhost\r\n<span class=\"hljs-attr\">  tasks:<\/span>\r\n\r\n<span class=\"hljs-attr\">    - name:<\/span> Create and Add items to dictionary\r\n<span class=\"hljs-attr\">      set_fact:<\/span> \r\n<span class=\"hljs-attr\">          userdata:<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">\"<span class=\"hljs-template-variable\" style=\"color: #4c81c9;\">{{ userdata | default({}) | <span style=\"color: #800000;\">combine ({ item.key : item.value })<\/span> }}<\/span>\"<\/span>\r\n<span class=\"hljs-attr\">      with_items:<\/span>\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'key'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Name'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'value'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'SaravAK'<\/span>}\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'key'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Email'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'value'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'sarav@gritfy.com'<\/span>}\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'key'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Location'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'value'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Coimbatore'<\/span>}\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'key'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Nationality'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'value'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Indian'<\/span>}\r\n\r\n<span class=\"hljs-attr\">    -  name:<\/span> Display the Dictionary\r\n<span class=\"hljs-attr\">       debug:<\/span> var=userdata<\/pre>\n<p>So we have a list of items (datasets) with key and value stored in our playbook and we are iterating one by one and referring them as <code>item.key<\/code> and <code>item.value<\/code> and adding one by one using the <code>combine<\/code> filter<\/p>\n<p>at runtime, the items would be appended into the <code>userdata<\/code> dictionary and we are displaying it using the debug module. Here is the execution result of this playbook<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM.png\"><img class=\"alignnone size-full wp-image-5716\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM.png\" alt=\"Ansible Dictionary\" width=\"2136\" height=\"1924\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM.png 2136w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM-300x270.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM-768x692.png 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM-1024x922.png 1024w\" sizes=\"(max-width: 2136px) 100vw, 2136px\" \/><\/a><br \/>\nOne more best example of this dynamic dictionary creation is in our other article, where JSON data gets processed and created as a phonebook using ansible dictionary. <a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible_json_query\/#Example4_Parse_json_query_result_in_a_loop_and_access_it_as_variable\">Refer the article<\/a><\/p>\n<p>Here is the playbook for your quick reference<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3 none repeat scroll 0% 0%; color: #00193a;\"><span class=\"hljs-meta\" style=\"color: #4c81c9;\">---<\/span>\r\n<span class=\"hljs-attr\"> - name:<\/span> JsonQuery Playbook\r\n<span class=\"hljs-attr\">   hosts:<\/span> localhost\r\n<span class=\"hljs-attr\">   tasks:<\/span>\r\n<span class=\"hljs-attr\">     - name:<\/span> Download JSON content play\r\n<span class=\"hljs-attr\">       uri:<\/span>\r\n<span class=\"hljs-attr\">         url:<\/span> https:\/\/jsonplaceholder.typicode.com\/users\r\n<span class=\"hljs-attr\">         return_content:<\/span> <span class=\"hljs-literal\" style=\"color: #0048ab;\">yes<\/span>\r\n<span class=\"hljs-attr\">       register:<\/span> jsoncontent\r\n\r\n<span class=\"hljs-attr\">     - name:<\/span> Collecting UserName and Mobile Number info\r\n<span class=\"hljs-attr\">       no_log:<\/span> <span class=\"hljs-literal\" style=\"color: #0048ab;\">True<\/span>\r\n<span class=\"hljs-attr\">       set_fact:<\/span>\r\n<span class=\"hljs-attr\">         phonebook:<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">\"<span class=\"hljs-template-variable\" style=\"color: #4c81c9;\">{{phonebook|default({}) | <span style=\"color: #800000;\">combine ( {item.name : item.phone})<\/span> }}<\/span>\"<\/span>\r\n<span class=\"hljs-attr\">       with_items:<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">\"<span class=\"hljs-template-variable\" style=\"color: #4c81c9;\">{{ jsoncontent.json | json_query('[*]')}}<\/span>\"<\/span>\r\n\r\n<span class=\"hljs-attr\">     - name:<\/span> The Phonebook\r\n<span class=\"hljs-attr\">       debug:<\/span> var=phonebook<\/pre>\n<p>&nbsp;<\/p>\n<h2>How to create List of Dictionaries in Ansible<\/h2>\n<p>In this segment, we are going to see how to create a List of dictionaries. To put it in other words, a list with dictionaries in it.<\/p>\n<p>The following diagram depicts the structure of an idle List of dictionaries.\u00a0 We have a list of three dictionaries stored inside an array or list.<\/p>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-3.36.31-PM.png\"><img class=\"alignnone size-full wp-image-5718\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-3.36.31-PM.png\" alt=\"Ansible List of Dictionaries\" width=\"1672\" height=\"742\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-3.36.31-PM.png 1672w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-3.36.31-PM-300x133.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-3.36.31-PM-768x341.png 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-3.36.31-PM-1024x454.png 1024w\" sizes=\"(max-width: 1672px) 100vw, 1672px\" \/><\/a><\/p>\n<p>Let us see how to create this data structure, List of dictionary with Ansible<\/p>\n<pre class=\"hljs\" style=\"display: block; overflow-x: auto; padding: 0.5em; background: #eaeef3 none repeat scroll 0% 0%; color: #00193a;\"><span class=\"hljs-meta\" style=\"color: #4c81c9;\">---<\/span>\r\n<span class=\"hljs-attr\">- name:<\/span> Dictionary playbook example\r\n<span class=\"hljs-attr\">  hosts:<\/span> localhost\r\n<span class=\"hljs-attr\">  tasks:<\/span>\r\n<span class=\"hljs-attr\">    - name:<\/span> Create and Add items to dictionary\r\n<span class=\"hljs-attr\">      set_fact:<\/span> \r\n<span class=\"hljs-attr\">          userdata:<\/span> <span class=\"hljs-string\" style=\"color: #0048ab;\">\"<span class=\"hljs-template-variable\" style=\"color: #4c81c9;\">{{ userdata | default(<span style=\"color: #000000;\">[]<\/span>) + <span style=\"color: #000000;\">[<\/span><span style=\"color: #800000;\">{ 'Name' : item.Name, 'Email' : item.Email, 'Location' : item.Location }<\/span><span style=\"color: #000000;\"><strong>]<\/strong><\/span> }}<\/span>\"<\/span>\r\n<span class=\"hljs-attr\">      with_items:<\/span>\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'Name'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Sarav'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'Email'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'sarav@gritfy.com'<\/span>, <span class=\"hljs-string\" style=\"color: #0048ab;\">'Location'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Chennai'<\/span>}\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'Name'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Richa'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'Email'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'richa@gritfy.com'<\/span>, <span class=\"hljs-string\" style=\"color: #0048ab;\">'Location'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Chennai'<\/span>}\r\n<span class=\"hljs-bullet\" style=\"color: #4c81c9;\">        -<\/span> { <span class=\"hljs-string\" style=\"color: #0048ab;\">'Name'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Hanu'<\/span> , <span class=\"hljs-string\" style=\"color: #0048ab;\">'Email'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'hanu@gritfy.com'<\/span>, <span class=\"hljs-string\" style=\"color: #0048ab;\">'Location'<\/span>: <span class=\"hljs-string\" style=\"color: #0048ab;\">'Hyderabad'<\/span>}\r\n\r\n<span class=\"hljs-attr\">    -  name:<\/span> Display the Dictionary\r\n<span class=\"hljs-attr\">       debug:<\/span> var=userdata<\/pre>\n<p>in this playbook, we are creating a variable named <code>userdata<\/code> and declaring it as a list (array) and adding each dictionary (key-value datasets) we have stored inside <code>with_items<\/code><\/p>\n<p>Like the previous example, we do not need any functions like <code>combine<\/code> to add a new element to list (or) array, this can be simply done with the <code>+<\/code> plus sign<\/p>\n<p>&nbsp;<\/p>\n<h2>Working with Ansible Dictionaries &#8211; Examples<\/h2>\n<p>I have written various articles on how to process and iterate and filter ansible dictionaries.\u00a0 We have given the hyperlinks here for you to read further.<\/p>\n<ol>\n<li>\n<h3><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-facts-list-how-to-use-ansible-facts\/#How_to_Parse_through_the_Dictionary_variable_in_a_loop\"><span style=\"font-size: 14pt;\">How to process (or) iterate through the ansible dictionary<\/span><\/a><\/h3>\n<\/li>\n<li>\n<h3><span style=\"font-size: 14pt;\"><a href=\"https:\/\/www.middlewareinventory.com\/blog\/terraform-import-securitygroup-aws\/\">A real-time example of a complex Nested List and Dictionaries of Ansible<\/a><\/span><\/h3>\n<\/li>\n<li>\n<h3><span style=\"font-size: 14pt;\"><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible_json_query\/\">A JSON data processing with Dictionary techniques and Json_query ansible<\/a><\/span><\/h3>\n<\/li>\n<li>\n<h3><span style=\"font-size: 14pt;\"><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict-object-has-no-attribute-stdout-or-stderr-how-to-resolve\/\">How to handle Data processing Errors with Ansible, Dict Object<\/a><\/span><\/h3>\n<\/li>\n<li>\n<h3><span style=\"font-size: 14pt;\"><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-selectattr-example\/\">How to Filter and Select elements from Dictionary using Ansible select_attr<\/a><\/span><\/h3>\n<\/li>\n<li>\n<h3><span style=\"font-size: 14pt;\"><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-map\/\">Ansible Map Examples &#8211; Filter List and Dictionaries<\/a><\/span><\/h3>\n<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<h2>How to work with Ansible List &#8211; Create List, Append items<\/h2>\n<p>So far we have talked about Ansible Dictionary.\u00a0 The other famous datatype is Ansible List and you might use both of them together often.<\/p>\n<p>I have written an article on Ansible List too. Check it out.<\/p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"J4Vhi0kDfi\"><p><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-list-examples-how-to-create-and-append-items-to-list\/\">Ansible List Examples &#8211; How to create and append items to List<\/a><\/p><\/blockquote>\n<p><iframe class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" title=\"&#8220;Ansible List Examples &#8211; How to create and append items to List&#8221; &#8212; Middleware Inventory\" src=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-list-examples-how-to-create-and-append-items-to-list\/embed\/#?secret=J4Vhi0kDfi\" data-secret=\"J4Vhi0kDfi\" width=\"600\" height=\"338\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"><\/iframe><\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<p>Cheers<br \/>\nRumen Lishkov \u0b9a\u0bb0\u0bb5\u0ba3\u0ba9\u0bcd \u0b85.\u0b95<\/p>\n<div id=\"postfollow\">\r\n<a href='https:\/\/ko-fi.com\/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='https:\/\/az743702.vo.msecnd.net\/cdn\/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' \/><\/a>\r\n<p>Follow us on<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a> or<a href=\"http:\/\/www.twitter.com\/mwinventory\">Twitter<\/a>\r\n<\/br>\r\nFor more practical videos and tutorials. <a href=\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw?sub_confirmation=1\">Subscribe to our channel<\/a>\r\n<\/br>\r\nFollow me on Linkedin <a href=\"https:\/\/www.linkedin.com\/comm\/mynetwork\/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=saravakmwinventory\">My Profile<\/a>\r\n<\/br>\r\n<\/i>For any Consultation or to hire us <a href=\"mailto:rumenlishkoff@gmail.com\"> rumenlishkoff@gmail.com<\/a>\r\n<\/br>\r\nIf you like this article. Show your Support! <a href=\"https:\/\/ko-fi.com\/middlewareinventory\">Buy me a Coffee.<\/a>\r\n<\/br>\r\n<\/p>\r\n<p style=\"color: palevioletred !important;\">Signup for Exclusive \"Subscriber-only\" Content<\/p>\r\n\n\t\t<div class=\"emaillist\">\n\t\t\t<form action=\"#\" method=\"post\" class=\"es_subscription_form es_shortcode_form\" id=\"es_subscription_form_1670576943\" data-source=\"ig-es\">\n\t\t\t\t\t\t\t\t<div class=\"es-field-wrap\"><label>Name*<br \/><input type=\"text\" name=\"name\" class=\"ig_es_form_field_name\" placeholder=\"\" value=\"\" required=\"required\" \/><\/label><\/div><div class=\"es-field-wrap\"><label>Email*<br \/><input class=\"es_required_field es_txt_email ig_es_form_field_email\" type=\"email\" name=\"email\" value=\"\" placeholder=\"\" required=\"required\" \/><\/label><\/div><input type=\"hidden\" name=\"lists[]\" value=\"1\" \/><input type=\"hidden\" name=\"form_id\" value=\"3\" \/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page\" value=\"5703\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page_url\" value=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"status\" value=\"Unconfirmed\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es-subscribe\" id=\"es-subscribe\" value=\"7aebfb1a9b\"\/>\n\t\t\t\t<label style=\"position:absolute;top:-99999px;left:-99999px;z-index:-99;\"><input type=\"email\" name=\"es_hp_email\" class=\"es_required_field\" tabindex=\"-1\" autocomplete=\"-1\" value=\"\"\/><\/label>\n\t\t\t\t\t\t\t\t<input type=\"submit\" name=\"submit\" class=\"es_subscription_form_submit es_submit_button es_textbox_button\" id=\"es_subscription_form_submit_1670576943\" value=\"Subscribe\"\/>\n\n\t\t\t\t\n\t\t\t\t<span class=\"es_spinner_image\" id=\"spinner-image\"><img src=\"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/email-subscribers\/lite\/public\/images\/spinner.gif\" alt=\"Loading\"\/><\/span>\n\n\t\t\t<\/form>\n\n\t\t\t<span class=\"es_subscription_message\" id=\"es_subscription_message_1670576943\"><\/span>\n\t\t<\/div>\n\n\t\t\r\n<\/div>\r\n<hr>\n","protected":false},"excerpt":{"rendered":"<p>Introduction In this post, we are going to see how to create a dictionary in ansible during the playbook execution dynamically and how to add items or elements to a dictionary. Before going further, let us refresh our memory of knowledge on the dictionaries. Especially python dictionaries because Ansible is[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":5716,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[98],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Ansible Dictionary - How to create and add items to dict | Devops Junction<\/title>\n<meta name=\"description\" content=\"Ansible Dict creation and adding elements. how to create dictionaries runtime in Ansible playbook. How to add items to ansible dictionaries and how to create List or array of Dictionaries. How to append or add an element to ansible dictionary. Ansible dictionaries example. ansible set_fact dict.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Ansible Dictionary - How to create and add items to dict | Devops Junction\" \/>\n<meta property=\"og:description\" content=\"Ansible Dict creation and adding elements. how to create dictionaries runtime in Ansible playbook. How to add items to ansible dictionaries and how to create List or array of Dictionaries. How to append or add an element to ansible dictionary. Ansible dictionaries example. ansible set_fact dict.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2020-09-13T23:46:56+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-02-17T10:50:15+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM.png\" \/>\n\t<meta property=\"og:image:width\" content=\"2136\" \/>\n\t<meta property=\"og:image:height\" content=\"1924\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-11-at-7.50.12-AM.png\",\"width\":2136,\"height\":1924,\"caption\":\"Ansible Dictionary\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/\",\"name\":\"Ansible Dictionary - How to create and add items to dict | Devops Junction\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#primaryimage\"},\"datePublished\":\"2020-09-13T23:46:56+00:00\",\"dateModified\":\"2022-02-17T10:50:15+00:00\",\"description\":\"Ansible Dict creation and adding elements. how to create dictionaries runtime in Ansible playbook. How to add items to ansible dictionaries and how to create List or array of Dictionaries. How to append or add an element to ansible dictionary. Ansible dictionaries example. ansible set_fact dict.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"Ansible Dictionary &#8211; How to create and add items to dict\",\"datePublished\":\"2020-09-13T23:46:56+00:00\",\"dateModified\":\"2022-02-17T10:50:15+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#primaryimage\"},\"articleSection\":\"Ansible\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/ansible-dict\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/5703"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=5703"}],"version-history":[{"count":5,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/5703\/revisions"}],"predecessor-version":[{"id":8202,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/5703\/revisions\/8202"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/5716"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=5703"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=5703"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=5703"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}