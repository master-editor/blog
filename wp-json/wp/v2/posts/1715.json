{"id":1715,"date":"2018-09-06T04:48:56","date_gmt":"2018-09-05T23:18:56","guid":{"rendered":"http:\/\/www.middlewareinventory.com\/?p=1715"},"modified":"2020-11-16T20:41:30","modified_gmt":"2020-11-16T15:11:30","slug":"log-rotation-purging-archiving-application-server-logs-script","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/","title":{"rendered":"Log Rotation, Purging, Archiving of Application Server Logs &#8211; Script"},"content":{"rendered":"<h2>Overview<\/h2>\n<p>An Automation script Linux for Log rotation, LogPurging and Compressing For weblogic and tomcat Installations. In Big infrastructure when you are running multiple Tomcat, weblogic, JBoss (or) Websphere instances or domains. The Biggest problem that you would face often as a system administrator is disk space issue.<\/p>\n<p>Perhaps, the products like weblogic and WebSphere and even tomcat come with log rotation for their own instance or JVM logs but you cannot always bet on it.\u00a0 Since there could be other application-level logs which would be written and some STDOUT logs does not fall under the log rotation etc.<\/p>\n<p>When you want to log rotate, you go for <code>logrotate.d<\/code>\u00a0or some custom script to do the same. when you want to <code>purge<\/code> the logs and <code>compress<\/code> them , you will write another script to achieve that as well.<\/p>\n<p>Diskspaceman does all of them under a single window. Log Purging, Log Rotation, Log Compressing (or) Archiving. You can schedule this single script in a cron to all of these tasks every single day for better server disk space management.<\/p>\n<p>You can go ahead and look at the code base and examples in the Github repository using the below link (or) continue reading to know more.<\/p>\n<p><strong>GitHub Repository:<\/strong>\u00a0<a href=\"https:\/\/github.com\/AKSarav\/diskspaceman\">https:\/\/github.com\/AKSarav\/diskspaceman<\/a><\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h2><a id=\"user-content-overview\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#overview\" aria-hidden=\"true\"><\/a>Short Summary<\/h2>\n<p>DiskSpaceMan is a Shell script, designed in bash with various modules. It was initially designed for Log Rotation and further expanded to achieve the following tasks under a single window.<\/p>\n<ul>\n<li>Log Rotation<\/li>\n<li>Log Purging\n<ul>\n<li>Removal of Old Logs based on the Retention Period<\/li>\n<li>Compressing the Uncompressed Rotated log files<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h2><a id=\"user-content-how-to-execute\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#how-to-execute\" aria-hidden=\"true\"><\/a>How To Execute<\/h2>\n<p><strong>Step1:<\/strong>\u00a0Download the All in one ZIP file\u00a0<code>diskspaceman.zip<\/code>\u00a0from the repository<\/p>\n<p><strong>Step2:<\/strong>\u00a0Uncompress\/Unzip the downloaded zip file<\/p>\n<p><strong>Step3:<\/strong>\u00a0 Change the username (or) workspace in the script. ( only if the script does not match with your username and workspace assignments)<\/p>\n<p><strong>Step4:<\/strong> Execute the script as a valid user, Either\u00a0<code>tomcat<\/code>\u00a0or\u00a0<code>weblogic<\/code>\u00a0along with the desired\u00a0<strong>retention period<\/strong><\/p>\n<div style=\"background: #000000; overflow: auto; width: auto; border-left: solid 5px red; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\"><span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">diskspaceman<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">sh<\/span> <span style=\"color: #3399cc;\">--<\/span><span style=\"color: #cccccc;\">retentionperiod<\/span><span style=\"color: #3399cc;\">=<\/span><span style=\"color: #cd00cd;\">30<\/span><span style=\"color: #cccccc;\">days<\/span>\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<h2>The WorkSpace ( Directories to Search)<\/h2>\n<p>Based on the user of execution. The workspace (or) directories to consider for searching the logs will change. In order to update it,\u00a0 you need to change the value of <code>DIRTOSEARCH<\/code>\u00a0variable in the <code>diskspaceman.sh<\/code><\/p>\n<p>The Code snippet with current workspace assignment is given below.<\/p>\n<p>[ This is just a part of the code, Full script is on the repository]<\/p>\n<div style=\"background: #272822; overflow: auto; width: auto; border-left: solid 5px crimson; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\"><span style=\"color: #75715e;\">#Determine the username<\/span>\r\n<span style=\"color: #66d9ef;\">if<\/span> <span style=\"color: #f92672;\">[<\/span> <span style=\"color: #e6db74;\">`<\/span>whoami<span style=\"color: #e6db74;\">`<\/span> <span style=\"color: #f92672;\">==<\/span> <span style=\"color: #e6db74;\">\"weblogic\"<\/span> <span style=\"color: #f92672;\">]<\/span>\r\n<span style=\"color: #66d9ef;\">then<\/span>\r\n        <span style=\"color: #f8f8f2;\">DIRTOSEARCH<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #e6db74;\">\"\/apps\/weblogic\/domains\/*\/*\/*\/logs \/opt\/weblogic\/domains\/*\/*\/*\/logs \/opt\/weblogic\/logs\/* \/apps\/weblogic\/logs\/*\"<\/span>\r\n        <span style=\"color: #f8f8f2;\">LOGSDIRS<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #e6db74;\">`<\/span>ls -d <span style=\"color: #f8f8f2;\">$DIRTOSEARCH<\/span> 2&gt;\/dev\/null<span style=\"color: #e6db74;\">`<\/span>\r\n<span style=\"color: #66d9ef;\">elif<\/span> <span style=\"color: #f92672;\">[<\/span> <span style=\"color: #e6db74;\">`<\/span>whoami<span style=\"color: #e6db74;\">`<\/span> <span style=\"color: #f92672;\">==<\/span> <span style=\"color: #e6db74;\">\"tomcat\"<\/span> <span style=\"color: #f92672;\">]<\/span>\r\n<span style=\"color: #66d9ef;\">then<\/span>\r\n        <span style=\"color: #f8f8f2;\">DIRTOSEARCH<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #e6db74;\">\"\/opt\/tomcat\/instances\/*\/logs \/apps\/tomcat\/instances\/*\/logs \/opt\/tomcat\/logs\/* \/apps\/tomcat\/logs\/*\"<\/span>\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong><em>For weblogic<\/em><\/strong><\/p>\n<p>If the script has been started as a\u00a0<code>weblogic<\/code>\u00a0user, the script will consider the following directories as a workspace<\/p>\n<div style=\"background: #000000; overflow: auto; width: auto; border-left: solid 5px crimson; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\"> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">apps<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/*\/*\/*\/<\/span><span style=\"color: #cccccc;\">logs<\/span> \r\n <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/*\/*\/*\/<\/span><span style=\"color: #cccccc;\">logs<\/span> \r\n <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/*<\/span> \r\n <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">apps<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/*<\/span>     \r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong><em>For tomcat<\/em><\/strong><\/p>\n<p>If the script has been started as a\u00a0<code>tomcat<\/code>\u00a0user, the script will consider the following directories as a workspace<\/p>\n<div style=\"background: #000000; overflow: auto; width: auto; border-left: solid 5px crimson; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\"> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">apps<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">tomcat<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">instances<\/span><span style=\"color: #3399cc;\">\/*\/<\/span><span style=\"color: #cccccc;\">logs<\/span> \r\n <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">tomcat<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">instances<\/span><span style=\"color: #3399cc;\">\/*\/<\/span><span style=\"color: #cccccc;\">logs<\/span>\r\n <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">tomcat<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/*<\/span> \r\n <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">apps<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">tomcat<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/*<\/span><\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<blockquote><p><span style=\"font-size: 14pt;\">You can extend the script to many other users and other workspaces based on your requirement.<\/span><\/p><\/blockquote>\n<h2><a id=\"user-content-builtin-features\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#builtin-features\" aria-hidden=\"true\"><\/a>BuiltIn Features<\/h2>\n<h3><a id=\"user-content-point_right-efficient-logging\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#point_right-efficient-logging\" aria-hidden=\"true\"><\/a>\ud83d\udc49\u00a0Efficient Logging<\/h3>\n<p>The script is designed with an efficient and\u00a0<strong>Debug level<\/strong>\u00a0logging functionality. All messages to\u00a0<strong>STDOUT<\/strong>\u00a0is properly formatted with the time stamp. Take a look at the sample given below<\/p>\n<div style=\"background: #000000; overflow: auto; width: auto; border-left: solid 5px red; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\">   <span style=\"color: #cccccc;\">weblogic@testserver<\/span><span style=\"color: #3399cc;\">&gt;<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">diskspaceman<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">sh<\/span> <span style=\"color: #3399cc;\">--<\/span><span style=\"color: #cccccc;\">retentionperiod<\/span><span style=\"color: #3399cc;\">=<\/span><span style=\"color: #cd00cd;\">100<\/span><span style=\"color: #cccccc;\">days<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span>  <span style=\"color: #3399cc;\">****<\/span> <span style=\"color: #cccccc;\">DISKSPACEMAN<\/span> <span style=\"color: #3399cc;\">-<\/span> <span style=\"color: #cccccc;\">PROCESS<\/span> <span style=\"color: #cccccc;\">STARTED<\/span> <span style=\"color: #3399cc;\">****<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">LIST<\/span> <span style=\"color: #cccccc;\">OF<\/span> <span style=\"color: #cccccc;\">DIRECTORIES<\/span> <span style=\"color: #cccccc;\">FOUND:<\/span> <span style=\"color: #cccccc;\">[<\/span> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">servers<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">AdminServer<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs,<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">servers<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">wls_PegaServer1<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs,<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">pega<\/span> <span style=\"color: #cccccc;\">]<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #3399cc;\">===========================================================<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">PROCESSING<\/span> <span style=\"color: #cccccc;\">DIRECTORY:<\/span> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">servers<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">AdminServer<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">LIST<\/span> <span style=\"color: #cccccc;\">OF<\/span> <span style=\"color: #cccccc;\">FILES<\/span> <span style=\"color: #cccccc;\">FOUND<\/span> <span style=\"color: #cccccc;\">FOR<\/span> <span style=\"color: #cccccc;\">LOGROTATION:<\/span> <span style=\"color: #cccccc;\">[<\/span> <span style=\"color: #cccccc;\">access<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log,AdminServer<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log,test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log<\/span> <span style=\"color: #cccccc;\">]<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">LOGROTATION<\/span> <span style=\"color: #cccccc;\">COMPLETED<\/span> <span style=\"color: #cccccc;\">SUCCESSFULLY<\/span> <span style=\"color: #cccccc;\">FOR<\/span> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">servers<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">AdminServer<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">access<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">LOGROTATION<\/span> <span style=\"color: #cccccc;\">COMPLETED<\/span> <span style=\"color: #cccccc;\">SUCCESSFULLY<\/span> <span style=\"color: #cccccc;\">FOR<\/span> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">servers<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">AdminServer<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">AdminServer<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">LOGROTATION<\/span> <span style=\"color: #cccccc;\">COMPLETED<\/span> <span style=\"color: #cccccc;\">SUCCESSFULLY<\/span> <span style=\"color: #cccccc;\">FOR<\/span> <span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">opt<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">weblogic<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">domains<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">servers<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">AdminServer<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">logs<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">PURGING<\/span> <span style=\"color: #cccccc;\">PROCESS<\/span> <span style=\"color: #cccccc;\">STARTED<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">REMOVING<\/span> <span style=\"color: #cccccc;\">THE<\/span> <span style=\"color: #cd00cd;\">100<\/span> <span style=\"color: #cccccc;\">DAYS<\/span> <span style=\"color: #cccccc;\">OLD<\/span> <span style=\"color: #cccccc;\">FILES<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">LIST<\/span> <span style=\"color: #cccccc;\">OF<\/span> <span style=\"color: #cccccc;\">FILES<\/span> <span style=\"color: #cccccc;\">GOING<\/span> <span style=\"color: #cccccc;\">TO<\/span> <span style=\"color: #cccccc;\">BE<\/span> <span style=\"color: #cccccc;\">REMOVED:<\/span> <span style=\"color: #cccccc;\">[<\/span>  <span style=\"color: #cccccc;\">]<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">G<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cccccc;\">ZIPPING<\/span> <span style=\"color: #cccccc;\">THE<\/span> <span style=\"color: #cccccc;\">OTHER<\/span> <span style=\"color: #cccccc;\">AVAILABLE<\/span> <span style=\"color: #cccccc;\">LOGS<\/span>\r\n   <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06787:<\/span>  <span style=\"color: #cd00cd;\">97.1<\/span><span style=\"color: #3399cc;\">%<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">replaced<\/span> <span style=\"color: #cdcd00;\">with<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06787<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">gz<\/span>\r\n   <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">logrotate<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cccccc;\">out<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">conf:<\/span>     <span style=\"color: #cd00cd;\">0.0<\/span><span style=\"color: #3399cc;\">%<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">replaced<\/span> <span style=\"color: #cdcd00;\">with<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">logrotate<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cccccc;\">out<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">conf<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">gz<\/span>\r\n   <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06835:<\/span>  <span style=\"color: #cd00cd;\">96.9<\/span><span style=\"color: #3399cc;\">%<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">replaced<\/span> <span style=\"color: #cdcd00;\">with<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06835<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">gz<\/span>\r\n   <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06808:<\/span>  <span style=\"color: #cd00cd;\">97.1<\/span><span style=\"color: #3399cc;\">%<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">replaced<\/span> <span style=\"color: #cdcd00;\">with<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06808<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">gz<\/span>\r\n   <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06826:<\/span>  <span style=\"color: #cd00cd;\">97.0<\/span><span style=\"color: #3399cc;\">%<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">replaced<\/span> <span style=\"color: #cdcd00;\">with<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06826<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">gz<\/span>\r\n   <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06878:<\/span>  <span style=\"color: #cd00cd;\">97.1<\/span><span style=\"color: #3399cc;\">%<\/span> <span style=\"color: #3399cc;\">--<\/span> <span style=\"color: #cccccc;\">replaced<\/span> <span style=\"color: #cdcd00;\">with<\/span> <span style=\"color: #3399cc;\">.\/<\/span><span style=\"color: #cccccc;\">test_domain<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">log06878<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">gz<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #cccccc;\">PURGING<\/span> <span style=\"color: #cccccc;\">PROCESS<\/span> <span style=\"color: #cccccc;\">COMPLETED<\/span>\r\n   <span style=\"color: #cd00cd;\">22<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">08<\/span><span style=\"color: #3399cc;\">-<\/span><span style=\"color: #cd00cd;\">18<\/span> <span style=\"color: #cd00cd;\">14<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">57<\/span><span style=\"color: #cccccc;\">:<\/span><span style=\"color: #cd00cd;\">27<\/span> <span style=\"color: #3399cc;\">===========================================================<\/span>\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p>Here you could notice that all userful information is getting printed including the file name and the directory the script is processing<\/p>\n<p>It can help to understand the working prinicple of this script and it comes handy for troubleshooting in case of any issues in future.<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h3><a id=\"user-content-point_right-runtime-validations\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#point_right-runtime-validations\" aria-hidden=\"true\"><\/a>\ud83d\udc49\u00a0Runtime Validations<\/h3>\n<p>The script performs multiple levels of validation to make sure\u00a0<strong>nothing goes wrong<\/strong><\/p>\n<h4><a id=\"user-content-validation1-username-validation\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#validation1-username-validation\" aria-hidden=\"true\"><\/a>Validation1: Username validation<\/h4>\n<p>The script will try to validate the\u00a0<code>username<\/code>\u00a0as it is being invoked, to determine the correct\u00a0<strong>workspace<\/strong>\u00a0<em>The Log directories<\/em>\u00a0Script is designed to dynamically switch the log directories based on the user of execution. This is to avoid an accidental execution of script as an invalid user like\u00a0<code>root<\/code>\u00a0, which would end up in messing up the logs and eventually result in application downtime<\/p>\n<p>If the script is started as any other user, the script would print an error message and exit. The sample execution is shown below<\/p>\n<div style=\"background: #000000; overflow: auto; width: auto; border-left: solid 5px crimson; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\"> <span style=\"color: #00cdcd;\">root<\/span><span style=\"color: #cccccc;\">@<\/span><span style=\"color: #00cdcd;\">testserver<\/span><span style=\"color: #cccccc; border: 1px solid #FF0000;\">#<\/span> <span style=\"color: #00cdcd;\">whoami<\/span>\r\n <span style=\"color: #00cdcd;\">root<\/span>\r\n <span style=\"color: #00cdcd;\">root<\/span><span style=\"color: #cccccc;\">@<\/span><span style=\"color: #00cdcd;\">testserver<\/span><span style=\"color: #cccccc; border: 1px solid #FF0000;\">#<\/span> <span style=\"color: #cccccc;\">.<\/span><span style=\"color: #3399cc;\">\/<\/span><span style=\"color: #00cdcd;\">diskspaceman<\/span><span style=\"color: #3399cc;\">.<\/span><span style=\"color: #cccccc;\">sh<\/span> <span style=\"color: #3399cc;\">--<\/span><span style=\"color: #00cdcd;\">retentionperiod<\/span><span style=\"color: #3399cc;\">=<\/span><span style=\"color: #cd00cd;\">100<\/span><span style=\"color: #00cdcd;\">days<\/span>\r\n <span style=\"color: #00cdcd;\">Correct<\/span> <span style=\"color: #00cdcd;\">the<\/span> <span style=\"color: #00cdcd;\">Errors<\/span> <span style=\"color: #00cdcd;\">before<\/span> <span style=\"color: #00cdcd;\">proceeding<\/span>\r\n\r\n <span style=\"color: #cccccc;\">ERROR:<\/span> <span style=\"color: #00cdcd;\">Invalid<\/span> <span style=\"color: #00cdcd;\">User<\/span> <span style=\"color: #00cdcd;\">to<\/span> <span style=\"color: #00cdcd;\">run<\/span> <span style=\"color: #00cdcd;\">the<\/span> <span style=\"color: #00cdcd;\">script<\/span>\r\n <span style=\"color: #00cdcd;\">Valid<\/span> <span style=\"color: #00cdcd;\">Users<\/span> <span style=\"color: #00cdcd;\">are<\/span>\r\n          <span style=\"color: #cd00cd;\">1<\/span><span style=\"color: #cccccc;\">)<\/span> <span style=\"color: #00cdcd;\">tomcat<\/span>\r\n          <span style=\"color: #cd00cd;\">2<\/span><span style=\"color: #cccccc;\">)<\/span> <span style=\"color: #00cdcd;\">weblogic<\/span>\r\n\r\n <span style=\"color: #00cdcd;\">root<\/span><span style=\"color: #cccccc;\">@<\/span><span style=\"color: #00cdcd;\">testserver<\/span><span style=\"color: #cccccc; border: 1px solid #FF0000;\">#<\/span>\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h4><a id=\"user-content-validation2-startup-argument-validation\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#validation2-startup-argument-validation\" aria-hidden=\"true\"><\/a>Validation2: Startup Argument Validation<\/h4>\n<p>The script gets the\u00a0<code>retentionperiod<\/code>\u00a0as a startup argument, Attempt of execution without the startup argument would yield the following result<\/p>\n<div style=\"background: #272822; overflow: auto; width: auto; border-left: solid 5px crimson; background-color: black;\">\n<pre style=\"margin: 0; line-height: 125%; background-color: black;\"> <span style=\"color: #75715e;\">#Tried with no startup argument<\/span>\r\n <span style=\"color: #f8f8f2;\">weblogic<\/span><span style=\"color: #a6e22e;\">@testserver<\/span><span style=\"color: #f92672;\">&gt;<\/span> <span style=\"color: #f92672;\">.\/<\/span><span style=\"color: #f8f8f2;\">diskspaceman<\/span><span style=\"color: #f92672;\">.<\/span><span style=\"color: #f8f8f2;\">sh<\/span>\r\n <span style=\"color: #f8f8f2;\">Please<\/span> <span style=\"color: #f8f8f2;\">execute<\/span> <span style=\"color: #f8f8f2;\">the<\/span> <span style=\"color: #f8f8f2;\">script<\/span> <span style=\"color: #f8f8f2;\">correctly<\/span>\r\n <span style=\"color: #f92672;\">.\/<\/span><span style=\"color: #f8f8f2;\">diskspaceman<\/span><span style=\"color: #f92672;\">.<\/span><span style=\"color: #f8f8f2;\">sh<\/span> <span style=\"color: #f92672;\">--<\/span><span style=\"color: #f8f8f2;\">retentionperiod<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #ae81ff;\">400<\/span><span style=\"color: #f8f8f2;\">days<\/span>\r\n\r\n <span style=\"color: #75715e;\">#Tried with wrong or invalid startup argument<\/span>\r\n <span style=\"color: #f8f8f2;\">weblogic<\/span><span style=\"color: #a6e22e;\">@testserver<\/span><span style=\"color: #f92672;\">&gt;<\/span> <span style=\"color: #f92672;\">.\/<\/span><span style=\"color: #f8f8f2;\">diskspaceman<\/span><span style=\"color: #f92672;\">.<\/span><span style=\"color: #f8f8f2;\">sh<\/span> <span style=\"color: #f92672;\">--<\/span><span style=\"color: #f8f8f2;\">asdfasdf<\/span>\r\n <span style=\"color: #f8f8f2;\">Please<\/span> <span style=\"color: #f8f8f2;\">execute<\/span> <span style=\"color: #f8f8f2;\">the<\/span> <span style=\"color: #f8f8f2;\">script<\/span> <span style=\"color: #f8f8f2;\">correctly<\/span>\r\n <span style=\"color: #f92672;\">.\/<\/span><span style=\"color: #f8f8f2;\">diskspaceman<\/span><span style=\"color: #f92672;\">.<\/span><span style=\"color: #f8f8f2;\">sh<\/span> <span style=\"color: #f92672;\">--<\/span><span style=\"color: #f8f8f2;\">retentionperiod<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #ae81ff;\">400<\/span><span style=\"color: #f8f8f2;\">days<\/span>\r\n\r\n <span style=\"color: #75715e;\">#Spelling mistake in Startup argument<\/span>\r\n <span style=\"color: #f8f8f2;\">weblogic<\/span><span style=\"color: #a6e22e;\">@testserver<\/span><span style=\"color: #f92672;\">&gt;<\/span> <span style=\"color: #f92672;\">.\/<\/span><span style=\"color: #f8f8f2;\">diskspaceman<\/span><span style=\"color: #f92672;\">.<\/span><span style=\"color: #f8f8f2;\">sh<\/span> <span style=\"color: #f92672;\">--<\/span><span style=\"color: #f8f8f2;\">retentionpariod<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #ae81ff;\">300<\/span>\r\n <span style=\"color: #f8f8f2;\">Please<\/span> <span style=\"color: #f8f8f2;\">execute<\/span> <span style=\"color: #f8f8f2;\">the<\/span> <span style=\"color: #f8f8f2;\">script<\/span> <span style=\"color: #f8f8f2;\">correctly<\/span>\r\n <span style=\"color: #f92672;\">.\/<\/span><span style=\"color: #f8f8f2;\">diskspaceman<\/span><span style=\"color: #f92672;\">.<\/span><span style=\"color: #f8f8f2;\">sh<\/span> <span style=\"color: #f92672;\">--<\/span><span style=\"color: #f8f8f2;\">retentionperiod<\/span><span style=\"color: #f92672;\">=<\/span><span style=\"color: #ae81ff;\">400<\/span><span style=\"color: #f8f8f2;\">days<\/span>\r\n <span style=\"color: #f8f8f2;\">weblogic<\/span><span style=\"color: #a6e22e;\">@testserver<\/span><span style=\"color: #f92672;\">&gt;<\/span>\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h2><a id=\"user-content-risk-assesement\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#risk-assesement\" aria-hidden=\"true\"><\/a>Risk Assessment<\/h2>\n<p>\u2744\ufe0f\u00a0The script does not use\u00a0<code>rm<\/code>\u00a0or\u00a0<code>mv<\/code>\u00a0command to prevent accidental log overwriting or deletion<\/p>\n<p>\u2744\ufe0f\u00a0It uses the Native\u00a0<strong>logrotate<\/strong>\u00a0command instead of manually copying and performing the log rotation<\/p>\n<p>\u2744\ufe0f\u00a0It leaves no log file (or) footprint in the file system as the output is directly printed to STDOUT, If you would like to save the output to a file you can use runtime redirection using\u00a0<code>&gt; logfilename 2&gt;&amp;1<\/code><\/p>\n<p>\u2744\ufe0f\u00a0CPU load and memory load of this script have been tested and proven to be Efficient and not having any issues.<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h2><a id=\"user-content-additional-notes\" class=\"anchor\" href=\"https:\/\/github.com\/AKSarav\/diskspaceman#additional-notes\" aria-hidden=\"true\"><\/a>Additional Notes<\/h2>\n<ul>\n<li>Complete Test Execution Session Output is uploaded to the GITHUB repository for your reference<\/li>\n<li>This Script can be scheduled to run every day using\u00a0<strong>crontab<\/strong>\u00a0for efficient server management and housekeeping of your Application Server.<\/li>\n<\/ul>\n<p>Hope it helps.<\/p>\n<p>Let me know if you need any help in modifying the script to suit your needs. You can use the comment section below<\/p>\n<p>Thanks for reading.<\/p>\n<p>Rumen Lishkov<\/p>\n<div id=\"postfollow\">\r\n<a href='https:\/\/ko-fi.com\/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='https:\/\/az743702.vo.msecnd.net\/cdn\/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' \/><\/a>\r\n<p>Follow us on<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a> or<a href=\"http:\/\/www.twitter.com\/mwinventory\">Twitter<\/a>\r\n<\/br>\r\nFor more practical videos and tutorials. <a href=\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw?sub_confirmation=1\">Subscribe to our channel<\/a>\r\n<\/br>\r\nFollow me on Linkedin <a href=\"https:\/\/www.linkedin.com\/comm\/mynetwork\/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=saravakmwinventory\">My Profile<\/a>\r\n<\/br>\r\n<\/i>For any Consultation or to hire us <a href=\"mailto:rumenlishkoff@gmail.com\"> rumenlishkoff@gmail.com<\/a>\r\n<\/br>\r\nIf you like this article. Show your Support! <a href=\"https:\/\/ko-fi.com\/middlewareinventory\">Buy me a Coffee.<\/a>\r\n<\/br>\r\n<\/p>\r\n<p style=\"color: palevioletred !important;\">Signup for Exclusive \"Subscriber-only\" Content<\/p>\r\n\n\t\t<div class=\"emaillist\">\n\t\t\t<form action=\"#\" method=\"post\" class=\"es_subscription_form es_shortcode_form\" id=\"es_subscription_form_1670577896\" data-source=\"ig-es\">\n\t\t\t\t\t\t\t\t<div class=\"es-field-wrap\"><label>Name*<br \/><input type=\"text\" name=\"name\" class=\"ig_es_form_field_name\" placeholder=\"\" value=\"\" required=\"required\" \/><\/label><\/div><div class=\"es-field-wrap\"><label>Email*<br \/><input class=\"es_required_field es_txt_email ig_es_form_field_email\" type=\"email\" name=\"email\" value=\"\" placeholder=\"\" required=\"required\" \/><\/label><\/div><input type=\"hidden\" name=\"lists[]\" value=\"1\" \/><input type=\"hidden\" name=\"form_id\" value=\"3\" \/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page\" value=\"1715\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page_url\" value=\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"status\" value=\"Unconfirmed\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es-subscribe\" id=\"es-subscribe\" value=\"7aebfb1a9b\"\/>\n\t\t\t\t<label style=\"position:absolute;top:-99999px;left:-99999px;z-index:-99;\"><input type=\"email\" name=\"es_hp_email\" class=\"es_required_field\" tabindex=\"-1\" autocomplete=\"-1\" value=\"\"\/><\/label>\n\t\t\t\t\t\t\t\t<input type=\"submit\" name=\"submit\" class=\"es_subscription_form_submit es_submit_button es_textbox_button\" id=\"es_subscription_form_submit_1670577896\" value=\"Subscribe\"\/>\n\n\t\t\t\t\n\t\t\t\t<span class=\"es_spinner_image\" id=\"spinner-image\"><img src=\"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/email-subscribers\/lite\/public\/images\/spinner.gif\" alt=\"Loading\"\/><\/span>\n\n\t\t\t<\/form>\n\n\t\t\t<span class=\"es_subscription_message\" id=\"es_subscription_message_1670577896\"><\/span>\n\t\t<\/div>\n\n\t\t\r\n<\/div>\r\n<hr>\n","protected":false},"excerpt":{"rendered":"<p>Overview An Automation script Linux for Log rotation, LogPurging and Compressing For weblogic and tomcat Installations. In Big infrastructure when you are running multiple Tomcat, weblogic, JBoss (or) Websphere instances or domains. The Biggest problem that you would face often as a system administrator is disk space issue. Perhaps, the[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":1727,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[1],"tags":[141,139,140,138,136,135,134,137],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Log Rotation, Purging, Archiving of Application Server Logs - Script<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Log Rotation, Purging, Archiving of Application Server Logs - Script\" \/>\n<meta property=\"og:description\" content=\"Overview An Automation script Linux for Log rotation, LogPurging and Compressing For weblogic and tomcat Installations. In Big infrastructure when you are running multiple Tomcat, weblogic, JBoss (or) Websphere instances or domains. The Biggest problem that you would face often as a system administrator is disk space issue. Perhaps, the[...]\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2018-09-05T23:18:56+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2020-11-16T15:11:30+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/09\/diskspaceman.png\" \/>\n\t<meta property=\"og:image:width\" content=\"848\" \/>\n\t<meta property=\"og:image:height\" content=\"478\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/09\/diskspaceman.png\",\"width\":848,\"height\":478},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/\",\"name\":\"Log Rotation, Purging, Archiving of Application Server Logs - Script\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#primaryimage\"},\"datePublished\":\"2018-09-05T23:18:56+00:00\",\"dateModified\":\"2020-11-16T15:11:30+00:00\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"Log Rotation, Purging, Archiving of Application Server Logs &#8211; Script\",\"datePublished\":\"2018-09-05T23:18:56+00:00\",\"dateModified\":\"2020-11-16T15:11:30+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#primaryimage\"},\"keywords\":\"application servers house keeping script,Log management script,Log purging script application servers,Log rotation for application servers,Log rotation for Jboss,Log rotation for tomcat,Log rotation for weblogic,Log rotation for Websphere\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/log-rotation-purging-archiving-application-server-logs-script\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/1715"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=1715"}],"version-history":[{"count":13,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/1715\/revisions"}],"predecessor-version":[{"id":1729,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/1715\/revisions\/1729"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/1727"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=1715"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=1715"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=1715"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}