{"id":7665,"date":"2021-12-24T00:18:04","date_gmt":"2021-12-23T18:48:04","guid":{"rendered":"https:\/\/www.middlewareinventory.com\/?p=7665"},"modified":"2021-12-30T20:48:05","modified_gmt":"2021-12-30T15:18:05","slug":"store-terraform-state-terraform-cloud","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/","title":{"rendered":"Store terraform state file on Terraform cloud Remote | Devops Junction"},"content":{"rendered":"<p>In this article, I am going to discuss how we can keep safe our terraform state file using terraform cloud.<\/p>\n<p>As a pioneer\/Practioner of Terraform CLI, we hold responsible for Terraform state file which is the source of truth for our infrastructure.<\/p>\n<p>What if we lose this state file or delete it by mistake?? This would create havoc and terraform will try to create infra resource again!!<\/p>\n<p>We can keep your state file secure and share it with collaborators, by migrating it to Terraform Cloud without interrupting or recreating your existing infrastructure.<\/p>\n<p>Prerequisites<\/p>\n<ol>\n<li>Terraform installed in local ( terraform -cli)<\/li>\n<li>Terraform cloud account<\/li>\n<\/ol>\n<p>You can create an account in Terraform cloud using the<a href=\"https:\/\/www.terraform.io\/cloud\"> below link<\/a><\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state.jpg\"><img class=\"post-img alignnone wp-image-7691 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state.jpg\" alt=\"Terraform remote state cloud\" width=\"1748\" height=\"1240\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state.jpg 1748w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state-300x213.jpg 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state-1024x726.jpg 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state-768x545.jpg 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state-1536x1090.jpg 1536w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state-90x65.jpg 90w\" sizes=\"(max-width: 1748px) 100vw, 1748px\" \/><\/a><\/p>\n<h3><\/h3>\n<h2>Step1: Create an Organization in Terraform Cloud<\/h2>\n<p>Once you have Terraform cloud account, create an organisation and workspace accordingly.<\/p>\n<p>Here I have created an organisation called <code>thebigdummycorp<\/code> and two workspaces namely <code>dev-workspace<\/code> and <code>tbdc-workspace<\/code><\/p>\n<h3><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf1.png\"><img class=\"post-img alignnone wp-image-7670 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf1.png\" alt=\"\" width=\"1400\" height=\"363\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf1.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf1-300x78.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf1-1024x266.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf1-768x199.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/h3>\n<p>&nbsp;<\/p>\n<h2>Step2: Create Configuration files<\/h2>\n<p>Create a directory by any name (For eg: check-terraform-cloud) and create a sample state file in it. Next, create a <code>.tf<\/code> file named <code>main.tf<\/code> in this directory<\/p>\n<pre><code class=\"language-json\">$ mkdir check-terraform-cloud\r\n<\/code><\/pre>\n<pre><code class=\"language-json\">$ cd check-terraform-cloud\r\n<\/code><\/pre>\n<pre><code class=\"language-json\">$ touch main.tf\r\n<\/code><\/pre>\n<p>copy and paste the below content into your <code>main.tf<\/code><\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-linenumbers=\"false\" data-enlighter-theme=\"bootstrap4\">## Terraform configurationterraform {\r\nrequired_providers {\r\n    random = {\r\n        source = \"hashicorp\/random\"\r\n        version = \"3.0.1\"\r\n    }\r\n}\r\nrequired_version = \"&gt;= 1.1.0\"\r\n}\r\n\r\nvariable \"name_length\" {\r\n    description = \"The number of words in the pet name\"\r\n    default = \"5\"\r\n}\r\n\r\nresource \"random_pet\" \"pet_name\" {\r\n    length = var.name_length\r\n    separator = \"-\"\r\n    }\r\n\r\noutput \"pet_name\" {\r\n    value = random_pet.pet_name.id\r\n}<\/pre>\n<p>&nbsp;<\/p>\n<p>this configuration uses the\u00a0random_pet\u00a0resource to generate and output a random pet name with a given number of words. The length of the name is determined by the value of the\u00a0name_length\u00a0variable, which defaults 5.<\/p>\n<p>&nbsp;<\/p>\n<h2>Step3: Initialize Terraform<\/h2>\n<p>Initialise directory using terraform init command<\/p>\n<pre><code class=\"language-python\">$ terraform init\r\n<\/code><\/pre>\n<pre><code class=\"language-python\">$ terraform initInitializing the backend...\r\nInitializing provider plugins...\r\n- Finding hashicorp\/random versions matching \"3.0.1\"...\r\n- Installing hashicorp\/random v3.0.1...\r\n- Installed hashicorp\/random v3.0.1 (signed by HashiCorp) Terraform has created a lock file .terraform.lock.hcl to record the providerselections it made above. Include this file in your version control repositoryso that Terraform can guarantee to make the same selections by default whenyou run \"terraform init\" in the future.\r\nTerraform has been successfully initialized!\r\n<\/code><\/pre>\n<p>After Terraform initialises, apply the configuration and approve the run by typing \u201cyes\u201d at the prompt. (or you can pass auto approve flag to bypass prompt)<\/p>\n<pre><code class=\"language-json\">$ terraform apply\r\n<\/code><\/pre>\n<p>Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:<\/p>\n<pre><code class=\"language-json\">+ createTerraform will perform the following actions:# random_pet.pet_name will be created\r\n+ resource \"random_pet\" \"pet_name\" {\r\n+ id = (known after apply)\r\n+ length = 5\r\n+ separator = \"-\"\r\n}Plan: 1 to add, 0 to change, 0 to destroy.Changes to Outputs:\r\n+ pet_name = (known after apply)\r\n\r\nDo you want to perform these actions?\r\n\r\nTerraform will perform the actions described above.\r\n\r\nOnly 'yes' will be accepted to approve.\r\n\r\nEnter a value: yes\r\n\r\nrandom_pet.pet_name: Creating...\r\nrandom_pet.pet_name: Creation complete after 0s [id=mostly-joint-lacewing]\r\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\r\n\r\nOutputs:\r\n\r\npet_name = \"promptly-optionally-reliably-merry-vulture\"\r\n<\/code><\/pre>\n<p>Terraform will output a five-word randomly generated pet name. Here it has generated <code>\u2018promptly-optionally-reliably-merry-vulture\u2019<\/code><\/p>\n<p>&nbsp;<\/p>\n<h2>Step4: Configure Terraform Cloud<\/h2>\n<p>Now that we have a local state file, we need to create a\u00a0cloud\u00a0code block in your configuration.<\/p>\n<p>The Terraform CLI workflow saves our state as a\u00a0<code>terraform.tfstate<\/code>\u00a0file in the directory where we run\u00a0terraform apply.<\/p>\n<p>To migrate your state to Terraform Cloud, update the\u00a0cloud\u00a0block and change the\u00a0<code>&lt;ORG_NAME&gt;<\/code>\u00a0to your Terraform Cloud organisation name.<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"json\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">## Terraform configuration\r\n\r\nterraform \r\n{ \r\n    cloud \r\n        {\r\n            organization = \"thebigdummycorp\"\r\n            workspaces {name = \"dev-Workspace\"}\r\n        }\r\n    required_providers \r\n        {\r\n            random = {source = \"hashicorp\/random\"version = \"3.0.1\"}\r\n        }\r\n    required_version = \"&gt;= 1.1.0\"\r\n}\r\n\r\nvariable \"name_length\" {\r\n    description = \"The number of words in the pet name\"\r\ndefault = \"5\"\r\n}\r\n\r\nresource \"random_pet\" \"pet_name\" {\r\n    length = var.name_length\r\n    separator = \"-\"\r\n}\r\noutput \"pet_name\" { \r\n    value = random_pet.pet_name.id\r\n}<\/pre>\n<p>&nbsp;<\/p>\n<p>Here I have used <code>organization = thebigdummycorp<\/code> and <code>workspace = dev-Workspace<\/code> (Change it accordingly as per your requirement)<\/p>\n<p>Replace the organisation and workspaces attribute values with the name of your Terraform Cloud organisation and desired workspace name.<\/p>\n<p>While the organization defined in the\u00a0cloud\u00a0stanza\u00a0<strong>must<\/strong>\u00a0already exist, the workspace does not have to;<\/p>\n<p>Terraform Cloud will create it if necessary. If you opt to use a workspace that already exists, the workspace must not have any existing states.<\/p>\n<p>&nbsp;<\/p>\n<h2>Step5: Authentication with Terraform Cloud<\/h2>\n<p>Now that we have defined our Terraform Cloud configuration, we must authenticate with Terraform Cloud in order to proceed with initialisation. In order to authenticate with Terraform Cloud, run the\u00a0terraform login\u00a0subcommand, and follow the prompts to log in.<\/p>\n<pre><code class=\"language-json\">$ terraform login\r\n\r\nTerraform will request an API token for `app.terraform.io` using your browser.\r\n\r\nIf login is successful, Terraform will store the token in plain text inthe following file for use by subsequent commands:\/Users\/c5281159\/.terraform.d\/credentials.tfrc.json\r\n\r\n**Do you want to proceed?** \r\n\r\nOnly 'yes' will be accepted to confirm.\r\n\r\n**Enter a value:**\r\n<\/code><\/pre>\n<p>Enter the value as \u2018Yes\u2019 and it will open a browser prompt in Terraform cloud where we can create an API token.<\/p>\n<p>(Refer to below screenshot)<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf2.png\"><img class=\"post-img alignnone wp-image-7671 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf2.png\" alt=\"Terraform Cloud state file\" width=\"1400\" height=\"821\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf2.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf2-300x176.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf2-1024x601.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf2-768x450.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>Give a valid name in the Description block and click on <code>Create API Token<\/code><\/p>\n<p>You will get a long string of tokens (keep it safe and don\u2019t lose it)<\/p>\n<p>Next in the command prompt pass this token value<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">Terraform will request an API token for `app.terraform.io` using your browser. \r\n\r\nIf login is successful, Terraform will store the token in plain text inthe following file for use by subsequent commands:\/Users\/c5281159\/.terraform.d\/credentials.tfrc.json \r\n\r\n**Do you want to proceed?** Only 'yes' will be accepted to confirm. \r\n\r\n**Enter a value:**<\/pre>\n<p>&nbsp;<\/p>\n<p>Once login is successful, you can see terraform console logs as below<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf3.png\"><img class=\"post-img alignnone wp-image-7672 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf3.png\" alt=\"\" width=\"1400\" height=\"1189\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf3.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf3-300x255.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf3-1024x870.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf3-768x652.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>You can see created tokens under the \u2018User Settings\u2019 tab<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf4.png\"><img class=\"post-img alignnone wp-image-7673 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf4.png\" alt=\"\" width=\"1400\" height=\"521\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf4.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf4-300x112.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf4-1024x381.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf4-768x286.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h2>Step6: Migrate the state file<\/h2>\n<p>Once we have authenticated to Terraform Cloud, we are ready to migrate our local state file to Terraform Cloud. To begin the migration, reinitialize.<\/p>\n<p>This causes Terraform to recognize your\u00a0cloud\u00a0block configuration.<\/p>\n<p>During reinitialization, Terraform presents a prompt saying that it will copy the state file to your Terraform Cloud workspace. Enter\u00a0yes\u00a0and Terraform will migrate the state from your local machine to Terraform Cloud.<\/p>\n<pre><code class=\"language-json\">$ terraform init\r\ninitializing Terraform Cloud...\r\nDo you wish to proceed?\r\nAs part of migrating to Terraform Cloud, Terraform can optionally copy your current workspace state to the configured Terraform Cloud workspace.\r\nAnswer \"yes\" to copy the latest state snapshot to the configured Terraform Cloud workspace.\r\nAnswer \"no\" to ignore the existing state and just activate the configured Terraform Cloud workspace with its existing state, if any. \r\nShould Terraform migrate your existing state? Enter a value:\r\n<\/code><\/pre>\n<p>&nbsp;<\/p>\n<h2>Step7: Configure the Terraform Cloud workspace<\/h2>\n<p>After migrating your state to Terraform Cloud, log in to the\u00a0<a href=\"https:\/\/app.terraform.io\/\">Terraform Cloud web UI<\/a>, find your workspace name as defined in your\u00a0cloud\u00a0block, and click on it. Navigate to the\u00a0<strong>States<\/strong>\u00a0tab of the workspace, and see your first action within the workspace. (Refer below screenshots )<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf5.png\"><img class=\"post-img alignnone wp-image-7674 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf5.png\" alt=\"\" width=\"1379\" height=\"475\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf5.png 1379w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf5-300x103.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf5-1024x353.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf5-768x265.png 768w\" sizes=\"(max-width: 1379px) 100vw, 1379px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf6.png\"><img class=\"post-img alignnone wp-image-7675 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf6.png\" alt=\"\" width=\"1400\" height=\"767\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf6.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf6-300x164.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf6-1024x561.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf6-768x421.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>Remember that our configuration has a variable that we need to add to the new workspace.<\/p>\n<p>Click the \u201cVariables\u201d tab in the workspace and then \u201cAdd variable\u201d. Enter the name of the variable,\u00a0name_length, as the key. Then enter a new value, 8, and save the variable.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf7.png\"><img class=\"post-img alignnone wp-image-7676 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf7.png\" alt=\"\" width=\"1400\" height=\"652\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf7.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf7-300x140.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf7-1024x477.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf7-768x358.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf8.png\"><img class=\"post-img alignnone wp-image-7677 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf8.png\" alt=\"\" width=\"1400\" height=\"733\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf8.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf8-300x157.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf8-1024x536.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf8-768x402.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>For real-world configurations, We can add cloud platform credentials and any other configuration variables to the workspace as well.<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h2>Step8: Initiate a run in the new workspace<\/h2>\n<p>After verifying that the state was migrated to the Terraform Cloud workspace, remove the local state file.<\/p>\n<pre><code class=\"language-json\">$ rm terraform.tfstate\r\n<\/code><\/pre>\n<p>Next, apply a new run<\/p>\n<pre><code class=\"language-json\">$ terraform apply\r\nRunning apply in Terraform Cloud. \r\nOutput will stream here. \r\nPressing Ctrl-Cwill cancel the remote apply if it's still pending. \r\nIf the apply started itwill stop streaming the logs, but will not stop the apply running remotely.\r\nPreparing the remote apply...\r\nTo view this run in a browser, visit:&lt;https:\/\/app.terraform.io\/app\/thebigdummycorp\/dev-Workspace\/runs\/run-HJvrtZzQpFcCqHh9&gt;\r\nWaiting for the plan to start...\r\nTerraform v1.1.1on linux_amd64Configuring remote state backend...\r\nInitializing Terraform configuration...\r\n\r\n**random_pet.pet_name: Refreshing state... [id=promptly-optionally-reliably-merry-vulture]**\r\n\r\nTerraform used the selected providers to generate the following executionplan. \r\n\r\nResource actions are indicated with the following symbols:-\/+ destroy and then create replacement\r\n\r\nTerraform will perform the following actions:\r\n\r\n**# random_pet.pet_name** must be **replaced**-\/\r\n\t+ resource \"random_pet\" \"pet_name\" {\r\n\t\t\t~ id = \"promptly-optionally-reliably-merry-vulture\" \r\n\t\t\t-&gt; (known after apply)\r\n\t\t\t~ length = 5 -&gt; 8 \r\n# forces replacement\r\n\r\n# (1 unchanged attribute hidden)}\r\n\r\n**Plan:** 1 to add, 0 to change, 1 to destroy.\r\n\r\n**Changes to Outputs:**\r\n\r\n~ pet_name = \"promptly-optionally-reliably-merry-vulture\" -&gt; (known after apply)\r\n\r\n**random_pet.pet_name: Destroying... [id=promptly-optionally-reliably-merry-vulture]\r\n\r\nrandom_pet.pet_name: Destruction complete after 0srandom_pet.pet_name: \r\n\r\nCreating...random_pet.pet_name: Creation complete after 0s [id=remarkably-nominally-terminally-purely-horribly-monthly-lasting-camel]\r\n\r\nApply complete! Resources: 1 added, 0 changed, 1 destroyed.Outputs:**pet_name = \"remarkably-nominally-terminally-purely-horribly-monthly-lasting-camel\"\r\n<\/code><\/pre>\n<p>Observe logs carefully, it\u2019s been mentioned that apply command is running in the cloud and we can monitor real-time logs (URL is mentioned in logs)<\/p>\n<p><code>https:\/\/app.terraform.io\/app\/thebigdummycorp\/dev-Workspace\/runs\/run-HJvrtZzQpFcCqHh9<\/code><\/p>\n<p>Terraform will stream logs from Terraform Cloud and provide a link to the run in the Terraform Cloud UI. You set a new value for the\u00a0name_length\u00a0variable, so the resource will be replaced with one matching the new parameters.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf9.png\"><img class=\"post-img alignnone wp-image-7678 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf9.png\" alt=\"\" width=\"1400\" height=\"598\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf9.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf9-300x128.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf9-1024x437.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf9-768x328.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf10-1.png\"><img class=\"post-img alignnone wp-image-7680 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf10-1.png\" alt=\"\" width=\"1400\" height=\"627\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf10-1.png 1400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf10-1-300x134.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf10-1-1024x459.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/tf10-1-768x344.png 768w\" sizes=\"(max-width: 1400px) 100vw, 1400px\" \/><\/a><\/p>\n<p>This confirms terraform is reading state files from remote terraform cloud.<\/p>\n<p>This is one of the secure ways of managing your state-file in the production environment.<\/p>\n<p>Cheers<br \/>\nTapan Hegde<\/p>\n","protected":false},"excerpt":{"rendered":"<p>In this article, I am going to discuss how we can keep safe our terraform state file using terraform cloud. As a pioneer\/Practioner of Terraform CLI, we hold responsible for Terraform state file which is the source of truth for our infrastructure. What if we lose this state file or[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":7691,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[233],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Store terraform state file on Terraform cloud Remote | Devops Junction<\/title>\n<meta name=\"description\" content=\"Terraform Remote State using Terraform Cloud. Store Terraform State file on Terraform Cloud securely. Terraform cloud State example.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Store terraform state file on Terraform cloud Remote | Devops Junction\" \/>\n<meta property=\"og:description\" content=\"Terraform Remote State using Terraform Cloud. Store Terraform State file on Terraform Cloud securely. Terraform cloud State example.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2021-12-23T18:48:04+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-12-30T15:18:05+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"1748\" \/>\n\t<meta property=\"og:image:height\" content=\"1240\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/12\/terraform-remote-state.jpg\",\"width\":1748,\"height\":1240,\"caption\":\"Terraform remote state cloud\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/\",\"name\":\"Store terraform state file on Terraform cloud Remote | Devops Junction\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#primaryimage\"},\"datePublished\":\"2021-12-23T18:48:04+00:00\",\"dateModified\":\"2021-12-30T15:18:05+00:00\",\"description\":\"Terraform Remote State using Terraform Cloud. Store Terraform State file on Terraform Cloud securely. Terraform cloud State example.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"Store terraform state file on Terraform cloud Remote | Devops Junction\",\"datePublished\":\"2021-12-23T18:48:04+00:00\",\"dateModified\":\"2021-12-30T15:18:05+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#primaryimage\"},\"articleSection\":\"Terraform\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/store-terraform-state-terraform-cloud\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/7665"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=7665"}],"version-history":[{"count":5,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/7665\/revisions"}],"predecessor-version":[{"id":7765,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/7665\/revisions\/7765"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/7691"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=7665"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=7665"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=7665"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}