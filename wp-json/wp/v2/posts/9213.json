{"id":9213,"date":"2022-10-25T10:33:25","date_gmt":"2022-10-25T05:03:25","guid":{"rendered":"https:\/\/www.middlewareinventory.com\/?p=9213"},"modified":"2022-10-25T10:33:25","modified_gmt":"2022-10-25T05:03:25","slug":"list-environment-variables-of-a-pod-and-container-kubectl-devops-junction","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/","title":{"rendered":"List Environment variables of a POD and Container &#8211; Kubectl | Devops Junction"},"content":{"rendered":"<p>In this quick article let us see how to list the Environment variables of a POD and its containers.<\/p>\n<p>Environment variables are common in all ecosystems, Let it be monolith applications or Micro Services.<\/p>\n<p>Those who started their journey with Java might be well aware of this Environment variable <code>JAVA_HOME<\/code> and <code>PATH<\/code><\/p>\n<p>If you do not set them right, your Java Program would not even run.<\/p>\n<p>These Environment variables hold great value and it has never faded a bit. And for the applications to run and function properly they heavily depend on these environmental variables.<\/p>\n<p>Just like Java needs <code>JAVA_HOME<\/code> and <code>PATH<\/code> etc.\u00a0 Every Application has its own dependency on environment variables.<\/p>\n<p>These Environment variables often hold configuration data and sometimes it holds confidential secrets<\/p>\n<p>You can use <code>configmap<\/code> or <code>secrets<\/code> to store your configuration data or confidential information like passwords etc, and refer to them as Environment variables for your application to run and thrive.<\/p>\n<p>Now enough with a Context. Now to the objective. How do you list these Environment variables of a running POD and its containers?<\/p>\n<p>Let us see.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction.jpg\"><img class=\"alignnone size-full wp-image-9214\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction.jpg\" alt=\"\" width=\"1748\" height=\"1240\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction.jpg 1748w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-300x213.jpg 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-1024x726.jpg 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-768x545.jpg 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-1536x1090.jpg 1536w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-400x284.jpg 400w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-1080x766.jpg 1080w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction-90x65.jpg 90w\" sizes=\"(max-width: 1748px) 100vw, 1748px\" \/><\/a><\/p>\n<h3>List Environment variables of <span style=\"color: #e6157d;\">all the containers<\/span> inside the POD<\/h3>\n<p>You can use this option to list all the Environment variables available in your pod. Let it be a multi-container setup, A POD with more than one container<\/p>\n<p>Or a POD with a Single container.<\/p>\n<p>This command would bring all the environment variables<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">kubectl get deployments &lt;name-of-deployment&gt; -o jsonpath='{range .spec.template.spec.containers[*].env[*]}{@.name}{\"=\"}{@.value}{\"\\n\"}{end}<\/pre>\n<p>&nbsp;<\/p>\n<p>as you can see, we are using the JSONpath to filter out the selective fields and also add <code>=<\/code> sign while printing the Key and Values.<\/p>\n<p>To understand this JSONPath syntax a little better, you can try to evaluate this with the <a href=\"https:\/\/jsonpath.com\/\">JSONPath Online evaluator<\/a><\/p>\n<p>&nbsp;<\/p>\n<h3>List Environment variables of a <span style=\"color: #e6157d;\">Selective Container<\/span> from the POD<\/h3>\n<p>In the previous example, we have seen how to list the Environment variables of all the containers inside the pod<\/p>\n<p>It was made possible with JSONPath syntax and if you look at the JSONPath query we have used, we have used <code>.spec.containers[*]<\/code> as we have used <code>*<\/code> within the array, all the elements of containers would be chosen.<\/p>\n<p>Instead of using <code>*<\/code> we can apply a filter or perform a search using the following syntax<\/p>\n<pre>[?(@.name==\"containername\")]<\/pre>\n<p>this filter Selects the container with the name matching what we are looking for.<\/p>\n<p>Let us suppose that your POD has two containers such as\u00a0 <code>nginx<\/code> and a <code>python-flask<\/code> application and the name of containers are the same too.<\/p>\n<p>You just need only the Environment variables of a container with a name <code>python-flask<\/code> inside the POD.<\/p>\n<p>Here is the kubectl command to list environment variables of a selective container.<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">kubectl get deployments &lt;name-of-deployment&gt; -o jsonpath='{range .spec.template.spec.containers[?(@.name==\"python-flask\")].env[*]}{@.name}{\"=\"}{@.value}{\"\\n\"}{end}<\/pre>\n<p>&nbsp;<\/p>\n<h3>Print Only Keys and Not Values.<\/h3>\n<p>For security reasons, we might not really want to print the values of the environment variables but just the keys<\/p>\n<p>So how do you print only the keys but not values?<\/p>\n<p>This is how you can do it<\/p>\n<p><span style=\"color: #003366;\"><strong>List only Environment variable keys For a selective container<\/strong><\/span><\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">$ kubectl get deployments v4 -n production -o jsonpath='{range .spec.template.spec.containers[?(@.name==\"python-flask\")].env[*]}{.name}{\"\\n\"}{end}'<\/pre>\n<p>&nbsp;<\/p>\n<p><span style=\"color: #003366;\"><strong>List only Environment variable keys For all the containers<\/strong><\/span><\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"bootstrap4\" data-enlighter-linenumbers=\"false\">$ kubectl get deployments v4 -n production -o jsonpath='{range .spec.template.spec.containers[*].env[*]}{.name}{\"\\n\"}{end}<\/pre>\n<p>&nbsp;<\/p>\n<p>Hope these commands help you.<\/p>\n<p>Cheers<br \/>\nRumen Lishkov<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n","protected":false},"excerpt":{"rendered":"<p>In this quick article let us see how to list the Environment variables of a POD and its containers. Environment variables are common in all ecosystems, Let it be monolith applications or Micro Services. Those who started their journey with Java might be well aware of this Environment variable JAVA_HOME[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":9214,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[151],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>List Environment variables of a POD and Container - Kubectl | Devops Junction<\/title>\n<meta name=\"description\" content=\"List Environment Variables of POD and its containers. All the containers or Single container. Or Only values using Kubectl. Kubectl List Environment variables examples.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"List Environment variables of a POD and Container - Kubectl | Devops Junction\" \/>\n<meta property=\"og:description\" content=\"List Environment Variables of POD and its containers. All the containers or Single container. Or Only values using Kubectl. Kubectl List Environment variables examples.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2022-10-25T05:03:25+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"1748\" \/>\n\t<meta property=\"og:image:height\" content=\"1240\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2022\/10\/devopsjunction.jpg\",\"width\":1748,\"height\":1240,\"caption\":\"list environment variables kubectl\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/\",\"name\":\"List Environment variables of a POD and Container - Kubectl | Devops Junction\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#primaryimage\"},\"datePublished\":\"2022-10-25T05:03:25+00:00\",\"dateModified\":\"2022-10-25T05:03:25+00:00\",\"description\":\"List Environment Variables of POD and its containers. All the containers or Single container. Or Only values using Kubectl. Kubectl List Environment variables examples.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"List Environment variables of a POD and Container &#8211; Kubectl | Devops Junction\",\"datePublished\":\"2022-10-25T05:03:25+00:00\",\"dateModified\":\"2022-10-25T05:03:25+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#primaryimage\"},\"articleSection\":\"Kubernetes\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/list-environment-variables-of-a-pod-and-container-kubectl-devops-junction\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/9213"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=9213"}],"version-history":[{"count":4,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/9213\/revisions"}],"predecessor-version":[{"id":9224,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/9213\/revisions\/9224"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/9214"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=9213"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=9213"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=9213"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}