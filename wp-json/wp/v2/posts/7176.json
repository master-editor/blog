{"id":7176,"date":"2021-08-26T20:58:19","date_gmt":"2021-08-26T15:28:19","guid":{"rendered":"https:\/\/www.middlewareinventory.com\/?p=7176"},"modified":"2022-06-19T11:14:39","modified_gmt":"2022-06-19T05:44:39","slug":"how-to-get-images-of-all-pods-and-deployments","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/","title":{"rendered":"How to Get Images of all PODs and Deployments"},"content":{"rendered":"<p>Let&#8217;s say you have two similar namespaces in your Kuberentes cluster and you want to compare the images of pods running on both these name spaces.<\/p>\n<p>Or Simply want to know what images are being used across the pods (or) deployments in your namespace<\/p>\n<p>Of course we are going to use <code>kubectl<\/code> with little <code>jsonpath<\/code> annonations.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM.png\"><img class=\"post-img alignnone wp-image-7178 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM.png\" alt=\"\" width=\"2214\" height=\"1468\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM.png 2214w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-300x199.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-1024x679.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-768x509.png 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-1536x1018.png 1536w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-2048x1358.png 2048w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-120x80.png 120w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM-360x240.png 360w\" sizes=\"(max-width: 2214px) 100vw, 2214px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h2>Get Images of All Pods in a NameSpace<\/h2>\n<p>&nbsp;<\/p>\n<p>You can <strong>use the following command to get the list of pods and their images<\/strong> in a nice tabbed format<\/p>\n<pre>kubectl get pods -n &lt;your namespace&gt; -o jsonpath='{range .items[*]}{@.metadata.name}{\" \"}{@.spec.containers[*].image}{\"\\n\"}{end}'| column -t<\/pre>\n<p>When you have more replicas you might see duplicate pods with the same image name.<\/p>\n<p>In such cases, If you want<strong> to see the unique Images used on your namespace<\/strong> use the following command<\/p>\n<p>which sorts and apply unique filter on the column two which contains our image names.<\/p>\n<pre>kubectl get pods -n &lt;your namespace&gt; -o jsonpath='{range .items[*]}{@.metadata.name}{\" \"}{@.spec.containers[*].image}{\"\\n\"}{end}'|sort -u -k2|column -t<\/pre>\n<p>Now you can take the same outputs for the other namespace by just changing the <code>-n<\/code> value on the kubectl command if you would like to compare with other namespace.<\/p>\n<p>&nbsp;<\/p>\n<h2>Get Images of All Deployments in a NameSpace<\/h2>\n<p>Now if you want to get all images of All the deployments in\u00a0 your namespace. You need to tweak our previous kubectl command a little like follows<\/p>\n<pre>kubectl get deployments -n &lt;your namespace&gt; -o jsonpath='{range .items[*]}{@.metadata.name}{\" \"}{@.spec.template.spec.containers[*].image}{\"\\n\"}{end}'|column -t<\/pre>\n<p>Thats all. Now you would be presented with a tabbed\u00a0 columns <code>deployment name<\/code> followed by the <code>image name\/url<\/code><\/p>\n<p>something like shown below.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM.png\"><img class=\"post-img alignnone wp-image-7177 size-full\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM.png\" alt=\"Kubectl list all images of all pods\" width=\"2944\" height=\"444\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM.png 2944w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM-300x45.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM-1024x154.png 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM-768x116.png 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM-1536x232.png 1536w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.39.07-PM-2048x309.png 2048w\" sizes=\"(max-width: 2944px) 100vw, 2944px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>Hope this helps.<\/p>\n<a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/09\/DaaS.svg\"><img class=\"post-img\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/09\/DaaS.svg\" alt=\"gritfy\" width=\"1047\" height=\"415\" class=\"alignnone size-full wp-image-6623\" \/><\/a>\n<p>&nbsp;<\/p>\n<p>Cheers<br \/>\nRumen Lishkov<\/p>\n<div id=\"postfollow\">\r\n<a href='https:\/\/ko-fi.com\/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='https:\/\/az743702.vo.msecnd.net\/cdn\/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' \/><\/a>\r\n<p>Follow us on<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a> or<a href=\"http:\/\/www.twitter.com\/mwinventory\">Twitter<\/a>\r\n<\/br>\r\nFor more practical videos and tutorials. <a href=\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw?sub_confirmation=1\">Subscribe to our channel<\/a>\r\n<\/br>\r\nFollow me on Linkedin <a href=\"https:\/\/www.linkedin.com\/comm\/mynetwork\/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=saravakmwinventory\">My Profile<\/a>\r\n<\/br>\r\n<\/i>For any Consultation or to hire us <a href=\"mailto:rumenlishkoff@gmail.com\"> rumenlishkoff@gmail.com<\/a>\r\n<\/br>\r\nIf you like this article. Show your Support! <a href=\"https:\/\/ko-fi.com\/middlewareinventory\">Buy me a Coffee.<\/a>\r\n<\/br>\r\n<\/p>\r\n<p style=\"color: palevioletred !important;\">Signup for Exclusive \"Subscriber-only\" Content<\/p>\r\n\n\t\t<div class=\"emaillist\">\n\t\t\t<form action=\"#\" method=\"post\" class=\"es_subscription_form es_shortcode_form\" id=\"es_subscription_form_1670578177\" data-source=\"ig-es\">\n\t\t\t\t\t\t\t\t<div class=\"es-field-wrap\"><label>Name*<br \/><input type=\"text\" name=\"name\" class=\"ig_es_form_field_name\" placeholder=\"\" value=\"\" required=\"required\" \/><\/label><\/div><div class=\"es-field-wrap\"><label>Email*<br \/><input class=\"es_required_field es_txt_email ig_es_form_field_email\" type=\"email\" name=\"email\" value=\"\" placeholder=\"\" required=\"required\" \/><\/label><\/div><input type=\"hidden\" name=\"lists[]\" value=\"1\" \/><input type=\"hidden\" name=\"form_id\" value=\"3\" \/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page\" value=\"7176\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page_url\" value=\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"status\" value=\"Unconfirmed\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es-subscribe\" id=\"es-subscribe\" value=\"7aebfb1a9b\"\/>\n\t\t\t\t<label style=\"position:absolute;top:-99999px;left:-99999px;z-index:-99;\"><input type=\"email\" name=\"es_hp_email\" class=\"es_required_field\" tabindex=\"-1\" autocomplete=\"-1\" value=\"\"\/><\/label>\n\t\t\t\t\t\t\t\t<input type=\"submit\" name=\"submit\" class=\"es_subscription_form_submit es_submit_button es_textbox_button\" id=\"es_subscription_form_submit_1670578177\" value=\"Subscribe\"\/>\n\n\t\t\t\t\n\t\t\t\t<span class=\"es_spinner_image\" id=\"spinner-image\"><img src=\"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/email-subscribers\/lite\/public\/images\/spinner.gif\" alt=\"Loading\"\/><\/span>\n\n\t\t\t<\/form>\n\n\t\t\t<span class=\"es_subscription_message\" id=\"es_subscription_message_1670578177\"><\/span>\n\t\t<\/div>\n\n\t\t\r\n<\/div>\r\n<hr>\n","protected":false},"excerpt":{"rendered":"<p>Let&#8217;s say you have two similar namespaces in your Kuberentes cluster and you want to compare the images of pods running on both these name spaces. Or Simply want to know what images are being used across the pods (or) deployments in your namespace Of course we are going to[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":7178,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[151],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>How to Get Images of all PODs and Deployments | Devops Junction<\/title>\n<meta name=\"description\" content=\"Kubectl Get Images of All Pods and Deployments in a single command. In Nice format. Get Images of All deployments group by image name unique. Kubectl Command tricks.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"How to Get Images of all PODs and Deployments | Devops Junction\" \/>\n<meta property=\"og:description\" content=\"Kubectl Get Images of All Pods and Deployments in a single command. In Nice format. Get Images of All deployments group by image name unique. Kubectl Command tricks.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2021-08-26T15:28:19+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-06-19T05:44:39+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM.png\" \/>\n\t<meta property=\"og:image:width\" content=\"2214\" \/>\n\t<meta property=\"og:image:height\" content=\"1468\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2021\/08\/Screenshot-2021-08-26-at-8.53.39-PM.png\",\"width\":2214,\"height\":1468},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/\",\"name\":\"How to Get Images of all PODs and Deployments | Devops Junction\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#primaryimage\"},\"datePublished\":\"2021-08-26T15:28:19+00:00\",\"dateModified\":\"2022-06-19T05:44:39+00:00\",\"description\":\"Kubectl Get Images of All Pods and Deployments in a single command. In Nice format. Get Images of All deployments group by image name unique. Kubectl Command tricks.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"How to Get Images of all PODs and Deployments\",\"datePublished\":\"2021-08-26T15:28:19+00:00\",\"dateModified\":\"2022-06-19T05:44:39+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#primaryimage\"},\"articleSection\":\"Kubernetes\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/how-to-get-images-of-all-pods-and-deployments\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/7176"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=7176"}],"version-history":[{"count":1,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/7176\/revisions"}],"predecessor-version":[{"id":7179,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/7176\/revisions\/7179"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/7178"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=7176"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=7176"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=7176"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}