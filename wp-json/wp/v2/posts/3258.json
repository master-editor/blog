{"id":3258,"date":"2019-04-14T02:20:37","date_gmt":"2019-04-13T20:50:37","guid":{"rendered":"https:\/\/www.middlewareinventory.com\/?p=3258"},"modified":"2022-06-19T11:28:42","modified_gmt":"2022-06-19T05:58:42","slug":"ansible-command-examples","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/","title":{"rendered":"Ansible Command Module Examples"},"content":{"rendered":"<h2>Ansible Command Module Introduction<\/h2>\n<p>Ansible Command module is used to execute commands on a remote node.<\/p>\n<p>The Command module, is used mostly to run simple Linux commands on a remote node\/server which is part of a host group or Stand alone server mentioned in the host group.<\/p>\n<p>If you want to run Some Simple Shell Commands on the remote server you can use this Ansible command module.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1.jpeg\"><img class=\"alignnone size-full wp-image-3292\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1.jpeg\" alt=\"Ansible Command\" width=\"959\" height=\"728\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1.jpeg 959w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1-300x228.jpeg 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1-768x583.jpeg 768w\" sizes=\"(max-width: 959px) 100vw, 959px\" \/><\/a><\/p>\n<p>But when there are little complex Shell commands or\u00a0 two commands joined with the <code>PIPE<\/code> . you cannot use this command module and you should choose Shell module over this.<\/p>\n<p>Not Just pipe, If you use any of these characters like<span style=\"color: #ff0000;\"> |<\/span> <span style=\"color: #ff0000;\">&gt;<\/span> <span style=\"color: #ff0000;\">&lt;<\/span> in your command you should consider using Shell module<\/p>\n<p>&nbsp;<\/p>\n<h3><strong>Where to use Ansible <span style=\"color: #d61e65;\">COMMAND<\/span> and Where to use Ansible <span style=\"color: #d61e62;\">SHELL?<\/span><\/strong><\/h3>\n<p>&nbsp;<\/p>\n<p><code>ls -lrt \/etc\/httpd\/conf\u00a0<\/code> is simple and can be executed with Ansible <span style=\"color: #ff6600;\">command module<\/span><\/p>\n<p><code>ls -lrt \/etc\/httpd\/conf|awk '{print $9}'<\/code>\u00a0 It has PIPE simple in it. you should use <span style=\"color: #ff6600;\">Shell module<\/span> for this command<\/p>\n<p>&nbsp;<\/p>\n<p>If you think the Ansible Shell module is what you want. Refer the following article or If you would like to continue with Ansible Command module Continue to read.<\/p>\n<blockquote class=\"wp-embedded-content\" data-secret=\"hfYJ0vJavS\"><p><a href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-shell-examples\/\">Ansible Shell Module Examples<\/a><\/p><\/blockquote>\n<p><iframe class=\"wp-embedded-content\" sandbox=\"allow-scripts\" security=\"restricted\" style=\"position: absolute; clip: rect(1px, 1px, 1px, 1px);\" title=\"&#8220;Ansible Shell Module Examples&#8221; &#8212; Middleware Inventory\" src=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-shell-examples\/embed\/#?secret=hfYJ0vJavS\" data-secret=\"hfYJ0vJavS\" width=\"600\" height=\"338\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"><\/iframe><\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h2>Prerequisites<\/h2>\n<p>We presume that you have ansible and couple of Virtual machines to test it and we would highly recommend Vagrant Over Traditional Virtual machine like Oracle Virtual box \/ VMware WorkStation etc.<\/p>\n<p>We have designed this post specific to the commands module.<\/p>\n<p>If you want to know Learn the basics like What is Ansible, What is Vagrant and How to Install and Setup them and build your Local Work Space. <a href=\"https:\/\/www.middlewareinventory.com\/blog\/vagrant-ansible-example\/\">Refer this post<\/a><\/p>\n<p>&nbsp;<\/p>\n<h2>Ansible <span style=\"color: #d61e62;\">Command<\/span> Examples<\/h2>\n<ul>\n<li>Get the Uptime of remote server with an ansible command module<\/li>\n<li>Get the Hostname and version using UNAME<\/li>\n<li>Check the Disk Usage of Remote server or node using ansible command module<\/li>\n<li>Restart Apache on the remote server using ansible command module<\/li>\n<li>Execute a command when a the file exists or not exists ( present or not present) [ <span style=\"color: #2a95bd;\"><em>Create a file if it does not already exist, Remove the file if it is present or exist<\/em>]<\/span><\/li>\n<li>Run a Script only if a certain file is present (or) Not Present (EXIST or\u00a0 NOT EXIST )<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<p>Here I have two Virtual machines named <code>mwiweb02<\/code> and <code>mwivmapp01<\/code> grouped in the name of <code>testservers<\/code> in an <code>ansible_hosts<\/code> file.<br \/>\n<!-- HTML generated using hilite.me --><\/p>\n<p>Let us quickly list the servers under the host group\u00a0<code>testservers<\/code>.<\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #993366;\">$ ansible testservers &#8211; list -i ansible_hosts<\/span>\r\n  hosts (<span style=\"color: #0000ff;\">2<\/span>):\r\n    mwiweb02\r\n    mwivmapp01\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p>Now you can see we have listed the machines\/remote servers in the hostgroup named <code>testservers<\/code>.<\/p>\n<p>&nbsp;<\/p>\n<h3>Example1: Get the Uptime of\u00a0 remote servers<\/h3>\n<p>We have used command module to run the uptime command and we have given both the ad hoc and the playbook form of execution.<\/p>\n<p><strong><span style=\"font-size: 14pt;\">as AD-HOC Command<\/span><\/strong><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #000000;\"><span style=\"color: #993366;\">$ ansible testservers -m command -a uptime -i ansible_hosts<\/span>\r\n\r\nmwivmapp01 | CHANGED | rc=0 &gt;&gt;\r\n 10:43:11 up 33 min,  1 user,  load average: 0.00, 0.01, 0.05\r\n\r\nmwiweb02 | CHANGED | rc=0 &gt;&gt;\r\n 10:43:11 up 37 min,  1 user,  load average: 0.00, 0.01, 0.03 <\/span><\/pre>\n<\/div>\n<p><strong><span style=\"font-size: 14pt;\">as Playbook<\/span><\/strong><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #00aaaa;\">---<\/span>\r\n <span style=\"color: #000000;\"> - name: Check the remote host uptime\r\n    hosts: testservers\r\n    tasks:\r\n      - name: Execute the Uptime command over Command module\r\n        register: uptimeoutput\r\n        command: \"uptime\"\r\n\r\n      - debug:\r\n          var: uptimeoutput.stdout_lines\r\n<\/span><\/pre>\n<\/div>\n<p><span style=\"font-size: 14pt;\"><strong>Execution of Playbook<\/strong>\u00a0<\/span><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #993366;\">$ ansible-playbook AnsibleWorkSpace\/ansible-command-ex1.yml -i ansible_hosts<\/span>\r\n\r\n<span style=\"color: #000000;\">PLAY [Check the remote host uptime] **************************************************************************************************************************\r\n\r\nTASK [Gathering Facts] ***************************************************************************************************************************************\r\nok: [mwiweb02]\r\nok: [mwivmapp01]\r\n\r\nTASK [Execute the Uptime command over Command module] ********************************************************************************************************\r\nchanged: [mwiweb02]\r\nchanged: [mwivmapp01]\r\n\r\nTASK [debug] *************************************************************************************************************************************************\r\nok: [mwiweb02] =&gt; {\r\n    \"uptimeoutput.stdout_lines\": [\r\n        \" 11:13:15 up  1:07,  1 user,  load average: 0.01, 0.02, 0.04\"\r\n    ]\r\n}\r\nok: [mwivmapp01] =&gt; {\r\n    \"uptimeoutput.stdout_lines\": [\r\n        \" 11:13:15 up  1:04,  1 user,  load average: 0.01, 0.02, 0.05\"\r\n    ]\r\n}\r\n\r\nPLAY RECAP ***************************************************************************************************************************************************\r\nmwivmapp01                 : ok=3    changed=1    unreachable=0    failed=0   \r\nmwiweb02                   : ok=3    changed=1    unreachable=0    failed=0\r\n<\/span><\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h3>Example2: Get the Hostname and Version of\u00a0 remote servers with UNAME<\/h3>\n<p>we have used the <code>command<\/code> module and executing an <code>uname -a<\/code> command<\/p>\n<p><strong>as AD-HOC command<\/strong><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #993366;\">$ ansible testservers -m command -a \"uname -a\" -i ansible_hosts<\/span>\r\n\r\nmwiweb02 | CHANGED | rc=<span style=\"color: #009999;\">0<\/span> &gt;&gt;\r\nLinux mwiweb02 <span style=\"color: #009999;\">3.10.0<\/span>-<span style=\"color: #009999;\">693.11.1<\/span>.el7.x86_64 <span style=\"color: #ff0000; background-color: #ffaaaa;\">#<\/span><span style=\"color: #009999;\">1<\/span> SMP Mon Dec <span style=\"color: #009999;\">4<\/span> <span style=\"color: #009999;\">23<\/span>:<span style=\"color: #009999;\">52<\/span>:<span style=\"color: #009999;\">40<\/span> UTC <span style=\"color: #009999;\">2017<\/span> x86_64 x86_64 x86_64 GNU\/Linux\r\n\r\nmwivmapp01 | CHANGED | rc=<span style=\"color: #009999;\">0<\/span> &gt;&gt;\r\nLinux mwivmapp01 <span style=\"color: #009999;\">3.10.0<\/span>-<span style=\"color: #009999;\">693.11.1<\/span>.el7.x86_64 <span style=\"color: #ff0000; background-color: #ffaaaa;\">#<\/span><span style=\"color: #009999;\">1<\/span> SMP Mon Dec <span style=\"color: #009999;\">4<\/span> <span style=\"color: #009999;\">23<\/span>:<span style=\"color: #009999;\">52<\/span>:<span style=\"color: #009999;\">40<\/span> UTC <span style=\"color: #009999;\">2017<\/span> x86_64 x86_64 x86_64 GNU\/Linux\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong>As Playbook<\/strong><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #00aaaa; text-decoration: underline;\">---<\/span>\r\n  - name: Check the remote host Hostname, Version, Distribution with UNAME\r\n    hosts: testservers\r\n    tasks:\r\n      - name: Execute the UNAME command\r\n        register: unameout\r\n        command: <span style=\"color: #aa5500;\">\"uname<\/span> <span style=\"color: #aa5500;\">-a\"<\/span>\r\n\r\n      - debug:\r\n          var: unameout.stdout_lines\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong>Execution of Playbook<\/strong><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #993366;\">$ ansible-playbook AnsibleWorkSpace\/ansible-command-ex2.yml -i ansible_hosts<\/span>\r\n\r\n<span style=\"color: #000000;\">PLAY [Check the remote host Hostname, Version, Distribution with UNAME] **************************************************************************************\r\n\r\nTASK [Gathering Facts] ***************************************************************************************************************************************\r\nok: [mwiweb02]\r\nok: [mwivmapp01]\r\n\r\nTASK [Execute the UNAME command] *****************************************************************************************************************************\r\nchanged: [mwiweb02]\r\nchanged: [mwivmapp01]\r\n\r\nTASK [debug] *************************************************************************************************************************************************\r\nok: [mwiweb02] =&gt; {\r\n    \"unameout.stdout_lines\": [\r\n        \"Linux mwiweb02 3.10.0-693.11.1.el7.x86_64 #1 SMP Mon Dec 4 23:52:40 UTC 2017 x86_64 x86_64 x86_64 GNU\/Linux\"\r\n    ]\r\n<span style=\"background-color: #ffaaaa;\">}<\/span>\r\nok: [mwivmapp01] =&gt; {\r\n    \"unameout.stdout_lines\": [\r\n        \"Linux mwivmapp01 3.10.0-693.11.1.el7.x86_64 #1 SMP Mon Dec 4 23:52:40 UTC 2017 x86_64 x86_64 x86_64 GNU\/Linux\"\r\n    ]\r\n<span style=\"background-color: #ffaaaa;\">}<\/span>\r\n\r\nPLAY RECAP ***************************************************************************************************************************************************\r\nmwivmapp01                 : ok=3    changed=1    unreachable=0    failed=0   \r\nmwiweb02                   : ok=3    changed=1    unreachable=0    failed=0<\/span>   \r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<h3>Example3:\u00a0Check the Disk Usage of Remote server<\/h3>\n<p>To get the disk usage, we are using <code>df -h<\/code> , here <code>-h<\/code> is human readable<\/p>\n<p><strong>As Ad Hoc command<\/strong><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #993366;\"><span style=\"background-color: #ffaaaa;\">$<\/span> ansible testservers -m command -a \"df -h\" -i ansible_hosts\r\n<\/span>\r\nmwiweb02 | CHANGED | rc=<span style=\"color: #009999;\">0<\/span> &gt;&gt;\r\nFilesystem               Size  Used Avail Use% Mounted on\r\n\/dev\/mapper\/centos-root   <span style=\"color: #009999;\">50<\/span>G  <span style=\"color: #009999;\">1.2<\/span>G   <span style=\"color: #009999;\">49<\/span>G   <span style=\"color: #009999;\">3<\/span>% \/\r\ndevtmpfs                 <span style=\"color: #009999;\">909<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">909<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/dev\r\ntmpfs                    <span style=\"color: #009999;\">920<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">920<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/dev\/shm\r\ntmpfs                    <span style=\"color: #009999;\">920<\/span>M  <span style=\"color: #009999;\">8.5<\/span>M  <span style=\"color: #009999;\">912<\/span>M   <span style=\"color: #009999;\">1<\/span>% \/run\r\ntmpfs                    <span style=\"color: #009999;\">920<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">920<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/sys\/fs\/cgroup\r\n\/dev\/sda1               <span style=\"color: #009999;\">1014<\/span>M  <span style=\"color: #009999;\">171<\/span>M  <span style=\"color: #009999;\">844<\/span>M  <span style=\"color: #009999;\">17<\/span>% \/boot\r\n\/dev\/mapper\/centos-home   <span style=\"color: #009999;\">28<\/span>G   <span style=\"color: #009999;\">33<\/span>M   <span style=\"color: #009999;\">28<\/span>G   <span style=\"color: #009999;\">1<\/span>% \/home\r\nvagrant                  <span style=\"color: #009999;\">112<\/span>G   <span style=\"color: #009999;\">88<\/span>G   <span style=\"color: #009999;\">24<\/span>G  <span style=\"color: #009999;\">79<\/span>% \/vagrant\r\ntmpfs                    <span style=\"color: #009999;\">184<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">184<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/run\/user\/<span style=\"color: #009999;\">0<\/span>\r\ntmpfs                    <span style=\"color: #009999;\">184<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">184<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/run\/user\/<span style=\"color: #009999;\">1000<\/span>\r\n\r\nmwivmapp01 | CHANGED | rc=<span style=\"color: #009999;\">0<\/span> &gt;&gt;\r\nFilesystem               Size  Used Avail Use% Mounted on\r\n\/dev\/mapper\/centos-root   <span style=\"color: #009999;\">50<\/span>G  <span style=\"color: #009999;\">1.4<\/span>G   <span style=\"color: #009999;\">49<\/span>G   <span style=\"color: #009999;\">3<\/span>% \/\r\ndevtmpfs                 <span style=\"color: #009999;\">909<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">909<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/dev\r\ntmpfs                    <span style=\"color: #009999;\">920<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">920<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/dev\/shm\r\ntmpfs                    <span style=\"color: #009999;\">920<\/span>M  <span style=\"color: #009999;\">8.5<\/span>M  <span style=\"color: #009999;\">912<\/span>M   <span style=\"color: #009999;\">1<\/span>% \/run\r\ntmpfs                    <span style=\"color: #009999;\">920<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">920<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/sys\/fs\/cgroup\r\n\/dev\/sda1               <span style=\"color: #009999;\">1014<\/span>M  <span style=\"color: #009999;\">171<\/span>M  <span style=\"color: #009999;\">844<\/span>M  <span style=\"color: #009999;\">17<\/span>% \/boot\r\n\/dev\/mapper\/centos-home   <span style=\"color: #009999;\">28<\/span>G   <span style=\"color: #009999;\">33<\/span>M   <span style=\"color: #009999;\">28<\/span>G   <span style=\"color: #009999;\">1<\/span>% \/home\r\nvagrant                  <span style=\"color: #009999;\">112<\/span>G   <span style=\"color: #009999;\">88<\/span>G   <span style=\"color: #009999;\">24<\/span>G  <span style=\"color: #009999;\">79<\/span>% \/vagrant\r\ntmpfs                    <span style=\"color: #009999;\">184<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">184<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/run\/user\/<span style=\"color: #009999;\">0<\/span>\r\ntmpfs                    <span style=\"color: #009999;\">184<\/span>M     <span style=\"color: #009999;\">0<\/span>  <span style=\"color: #009999;\">184<\/span>M   <span style=\"color: #009999;\">0<\/span>% \/run\/user\/<span style=\"color: #009999;\">1000<\/span>\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong>As Playbook<\/strong><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #00aaaa; text-decoration: underline;\">---<\/span>\r\n  - name: Check the disk usage of all the file system in the remote servers\r\n    hosts: testservers\r\n    tasks:\r\n      - name: Execute the df command\r\n        register: dfout\r\n        command: <span style=\"color: #aa5500;\">\"df -h<\/span><span style=\"color: #aa5500;\">\"<\/span>\r\n\r\n      - debug:\r\n          var: dfout.stdout_lines<\/pre>\n<\/div>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h3>Example4:\u00a0Restart Apache Server using Ansible Command Module<\/h3>\n<p>So far, In all the sample we have seen we are using one application server and one web server. Totally two servers.<\/p>\n<p>But in this example, we need to limit our execution only to the web server as we are going to check the restart the apache web server.<\/p>\n<p>this is done using <code>--limit<\/code> parameter<\/p>\n<p><strong>As Ad hoc command<\/strong><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\">$ ansible testservers -m command -a <span style=\"color: #aa5500;\">\"httpd -k restart\"<\/span> -i ansible_hosts -b &#8211; limit mwiweb02\r\n<span style=\"color: #00aaaa;\">mwiweb02<\/span> | CHANGED | rc=0 &gt;&gt;\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong>As Playbook<\/strong><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #000000;\">---\r\n  - name: restart apache web server\r\n    hosts: testservers\r\n    tasks:\r\n      - name: restartapache\r\n        register: httpdresout\r\n        become: yes\r\n        command: <span style=\"color: #800000;\">\"httpd -k restart\"<\/span>\r\n        when: <span style=\"color: #008000;\">ansible_hostname == \"mwiweb02\"<\/span>\r\n\r\n\r\n      - debug:\r\n          var: httpdresout.stdout_lines<\/span><\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><strong>Playbook Execution<\/strong><\/p>\n<p>From the Output you can notice that the application server is skipped<\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #000000;\"><span style=\"color: #993366;\">$ ansible-playbook restarthttpd.yml -i ansible_hosts<\/span>\r\n\r\nPLAY [restart apache web server] *************************************************************************************************************************************************\r\n\r\nTASK [Gathering Facts] ***********************************************************************************************************************************************************\r\nok: [mwiweb02]\r\nok: [mwivmapp01]\r\n\r\nTASK [Execute the df command] ****************************************************************************************************************************************************\r\n<span style=\"color: #339966;\">skipping: [mwivmapp01]<\/span>\r\n<span style=\"color: #ff6600;\">changed: [mwiweb02]\r\n\r\n<\/span>TASK [debug] *********************************************************************************************************************************************************************\r\nok: [mwiweb02] =&gt; {\r\n    \"httpdresout.stdout_lines\": []\r\n}\r\nok: [mwivmapp01] =&gt; {\r\n    \"httpdresout.stdout_lines\": \"VARIABLE IS NOT DEFINED!\"\r\n}\r\n\r\nPLAY RECAP ***********************************************************************************************************************************************************************\r\nmwivmapp01                 : ok=2    changed=0    unreachable=0    failed=0\r\nmwiweb02                   : ok=3    changed=1    unreachable=0    failed=0\r\n<\/span><\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<h3>Example5: Execute a command when a file exists or not exists<\/h3>\n<p>There are two most useful parameters in ansible command module such as <code>removes<\/code> and <code>creates<\/code><\/p>\n<p><code>removes<\/code> &#8211; used to tell ansible to Execute the command only <strong>if the file exist<\/strong><\/p>\n<p><code>creates<\/code> &#8211; used to tell ansible to Execute the specified command only <strong>if the file does not exist<\/strong><\/p>\n<blockquote><p>Here we are going to do a very simple file creation and removal based on the file availability or existence. In General using the ansible <code>command<\/code> module, This method of creating and removing the file is not recommended as Ansible has a dedicated module named <code>file<\/code> to do the same effortlessly.<\/p><\/blockquote>\n<p><span style=\"font-size: 14pt;\"><strong>As Ad hoc command<\/strong><\/span><\/p>\n<p><span style=\"color: #ed0c75;\">Remove the file, if it does exist (or) present<\/span><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #aa0000;\">$ <\/span>ansible testservers -a <span style=\"color: #aa5500;\">\"rm -rf \/tmp\/testfile  removes=\/tmp\/testfile\"<\/span> -i ansible_hosts\r\n \r\nmwiweb02 | CHANGED | <span style=\"color: #aa0000;\">rc<\/span>=0 &gt;&gt;\r\n\r\nmwivmapp01 | CHANGED | <span style=\"color: #aa0000;\">rc<\/span>=0 &gt;&gt;\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><span style=\"color: #ed0c75;\">Create\u00a0 the file, if it does <strong>NOT<\/strong> exist (or) absent<\/span><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #aa0000;\">$ <\/span>ansible testservers -a <span style=\"color: #aa5500;\">\"touch \/tmp\/testfile  creates=\/tmp\/testfile\"<\/span> -i ansible_hosts\r\n\r\nmwivmapp01 | CHANGED | <span style=\"color: #aa0000;\">rc<\/span>=0 &gt;&gt;\r\n\r\nmwiweb02 | CHANGED | <span style=\"color: #aa0000;\">rc<\/span>=0 &gt;&gt;\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<p><span style=\"font-size: 14pt;\"><strong>As Playbook<\/strong><\/span><\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\">---\r\n - name: <span style=\"color: #aa5500;\">\"Validate if a file is present or not present using Ansible Command module\"<\/span>\r\n   hosts: testservers\r\n   tasks:\r\n    - name: <span style=\"color: #aa5500;\">\"Create a file if it does not exist\"<\/span>\r\n      <span style=\"color: #00aaaa;\">command<\/span>: <span style=\"color: #aa5500;\">\"touch \/tmp\/latestfile\"<\/span>\r\n      args:\r\n         creates: <span style=\"color: #aa5500;\">\"\/tmp\/latestfile\"<\/span>\r\n      register: createif\r\n\r\n    - name: <span style=\"color: #aa5500;\">\"Display the file to make sure its created\"<\/span>\r\n      <span style=\"color: #00aaaa;\">command<\/span>: <span style=\"color: #aa5500;\">\"ls -lrt \/tmp\/latestfile\"<\/span>\r\n      register: displayif\r\n      when: createif is changed\r\n\r\n    - debug: <span style=\"color: #aa0000;\">var<\/span>=displayif.stdout\r\n\r\n    - name: <span style=\"color: #aa5500;\">\"Remove the file if it exist\"<\/span>\r\n      <span style=\"color: #00aaaa;\">command<\/span>: <span style=\"color: #aa5500;\">\"rm -rf \/tmp\/latestfile\"<\/span>\r\n      args:\r\n         removes: <span style=\"color: #aa5500;\">\"\/tmp\/latestfile\"<\/span>\r\n      register: removeif<\/pre>\n<\/div>\n<p>In the playbook<\/p>\n<p>we execute three tasks,<\/p>\n<ul>\n<li>First one is a create a file if it does not exist<\/li>\n<li>Second to display if the creation is successful<\/li>\n<li>Third one is to delete the file if it exists<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<p><strong><span style=\"font-size: 14pt;\">Playbook Execution Result<\/span><\/strong><\/p>\n<p>this is the execution result\u00a0 or output the preceding playbook. this playbook would return the same result despite run multiple times cause we create, validate and we remove at each execution.<\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #aa0000;\">$ <\/span><span style=\"color: #993366;\">ansible-playbook AnsibleWorkSpace\/commandex-existnot.yml -i ansible_hosts<\/span>\r\n\r\nPLAY [Validate <span style=\"color: #0000aa;\">if <\/span>a file is present or not present using Ansible Command module] *************************************************************************************************\r\n\r\nTASK [Gathering Facts] ***********************************************************************************************************************************************************\r\n<span style=\"color: #339966;\">ok: [mwivmapp01]\r\nok: [mwiweb02]<\/span>\r\n\r\nTASK [Create a file <span style=\"color: #0000aa;\">if <\/span>it does not exist] ****************************************************************************************************************************************\r\n<span style=\"color: #ff6600;\">changed: [mwivmapp01]\r\nchanged: [mwiweb02]<\/span>\r\n\r\nTASK [Display the file to make sure its created] *********************************************************************************************************************************\r\n<span style=\"color: #ff6600;\">changed: [mwiweb02]\r\nchanged: [mwivmapp01]<\/span>\r\n\r\nTASK [debug] *********************************************************************************************************************************************************************\r\n<span style=\"color: #339966;\">ok: [mwiweb02] =&gt; {\r\n    \"displayif.stdout\": \"-rw-rw-r--. 1 vagrant vagrant 0 Apr 13 19:55 \/tmp\/latestfile\"\r\n}\r\nok: [mwivmapp01] =&gt; {\r\n    \"displayif.stdout\": \"-rw-rw-r--. 1 vagrant vagrant 0 Apr 13 19:55 \/tmp\/latestfile\"\r\n}<\/span>\r\n\r\nTASK [Remove the file <span style=\"color: #0000aa;\">if <\/span>it exist] ***********************************************************************************************************************************************\r\n<span style=\"color: #ff6600;\">changed: [mwiweb02]\r\nchanged: [mwivmapp01]<\/span>\r\n\r\nPLAY RECAP ***********************************************************************************************************************************************************************\r\nmwivmapp01                 : <span style=\"color: #aa0000;\">ok<\/span>=5    <span style=\"color: #aa0000;\">changed<\/span>=3    <span style=\"color: #aa0000;\">unreachable<\/span>=0    <span style=\"color: #aa0000;\">failed<\/span>=0\r\nmwiweb02                   : <span style=\"color: #aa0000;\">ok<\/span>=5    <span style=\"color: #aa0000;\">changed<\/span>=3    <span style=\"color: #aa0000;\">unreachable<\/span>=0    <span style=\"color: #aa0000;\">failed<\/span>=0\r\n<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h3>Example5: Execute or Run the Script when a file exists or not exists<\/h3>\n<p>Now for this example let us take something relatable to real world scenario. Like Start the Server instance (or) program if the PID file or LOCK file does not exist<\/p>\n<p>Here is the sample playbook for you to get started. I am giving a general playbook here as I do not want to pick some server\/technology of my own which you cannot relate to.<\/p>\n<p>you can feel free to modify the script to your needs as this is just a template.<\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\">---\r\n - name: Start of Stop Server instance based on PID\/LOCK file availability\r\n   hosts: appservers\r\n   tasks:\r\n      - name: Start the instance when the PID file is not present\r\n        become: yes\r\n        become_user: appuser\r\n        <span style=\"color: #00aaaa;\">command<\/span>: <span style=\"color: #aa5500;\">\"startserver.sh\"<\/span>\r\n        args:\r\n          creates: <span style=\"color: #aa5500;\">\"\/path\/to\/pid\/instance.pid\"<\/span>\r\n        register: startinst\r\n\r\n      - name: Stop the instance when the lock file is present\r\n        become: yes\r\n        become_user: appuser\r\n        <span style=\"color: #00aaaa;\">command<\/span>: <span style=\"color: #aa5500;\">\"stopserver.sh\"<\/span>\r\n        args:\r\n          removes: <span style=\"color: #aa5500;\">\"\/path\/to\/lockfile\/instance.lck\"<\/span>\r\n        register: stopinst<\/pre>\n<\/div>\n<p>&nbsp;<\/p>\n<h3>A Quick Additional Info<\/h3>\n<p>Ansible Command Module is the Default Module of &#8220;Ansible&#8221; CLI, Which means, You can write your AD HOC command in both the following forms and both are correct<\/p>\n<p><span style=\"color: #000000;\"><span style=\"color: #993366;\">ansible testservers <span style=\"color: #008000;\">-m command<\/span> -a uptime -i ansible_hosts<\/span><\/span><\/p>\n<p>or<\/p>\n<p><span style=\"color: #000000;\"><span style=\"color: #993366;\">ansible testservers\u00a0 -a uptime -i ansible_hosts<\/span><\/span><\/p>\n<p>To verify, Try executing\u00a0<code>ansible &#8211; help<\/code> in your control master\/host and read it through.<\/p>\n<p>&nbsp;<\/p>\n<p>Hope this article helps.<\/p>\n<p>Let me know your questions or comments over the comments section below. Rate this article [ratings]<\/p>\n<p>Cheers<br \/>\nRumen Lishkov<\/p>\n<div id=\"postfollow\">\r\n<a href='https:\/\/ko-fi.com\/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='https:\/\/az743702.vo.msecnd.net\/cdn\/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' \/><\/a>\r\n<p>Follow us on<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a> or<a href=\"http:\/\/www.twitter.com\/mwinventory\">Twitter<\/a>\r\n<\/br>\r\nFor more practical videos and tutorials. <a href=\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw?sub_confirmation=1\">Subscribe to our channel<\/a>\r\n<\/br>\r\nFollow me on Linkedin <a href=\"https:\/\/www.linkedin.com\/comm\/mynetwork\/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=saravakmwinventory\">My Profile<\/a>\r\n<\/br>\r\n<\/i>For any Consultation or to hire us <a href=\"mailto:rumenlishkoff@gmail.com\"> rumenlishkoff@gmail.com<\/a>\r\n<\/br>\r\nIf you like this article. Show your Support! <a href=\"https:\/\/ko-fi.com\/middlewareinventory\">Buy me a Coffee.<\/a>\r\n<\/br>\r\n<\/p>\r\n<p style=\"color: palevioletred !important;\">Signup for Exclusive \"Subscriber-only\" Content<\/p>\r\n\n\t\t<div class=\"emaillist\">\n\t\t\t<form action=\"#\" method=\"post\" class=\"es_subscription_form es_shortcode_form\" id=\"es_subscription_form_1670578256\" data-source=\"ig-es\">\n\t\t\t\t\t\t\t\t<div class=\"es-field-wrap\"><label>Name*<br \/><input type=\"text\" name=\"name\" class=\"ig_es_form_field_name\" placeholder=\"\" value=\"\" required=\"required\" \/><\/label><\/div><div class=\"es-field-wrap\"><label>Email*<br \/><input class=\"es_required_field es_txt_email ig_es_form_field_email\" type=\"email\" name=\"email\" value=\"\" placeholder=\"\" required=\"required\" \/><\/label><\/div><input type=\"hidden\" name=\"lists[]\" value=\"1\" \/><input type=\"hidden\" name=\"form_id\" value=\"3\" \/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page\" value=\"3258\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page_url\" value=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"status\" value=\"Unconfirmed\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es-subscribe\" id=\"es-subscribe\" value=\"7aebfb1a9b\"\/>\n\t\t\t\t<label style=\"position:absolute;top:-99999px;left:-99999px;z-index:-99;\"><input type=\"email\" name=\"es_hp_email\" class=\"es_required_field\" tabindex=\"-1\" autocomplete=\"-1\" value=\"\"\/><\/label>\n\t\t\t\t\t\t\t\t<input type=\"submit\" name=\"submit\" class=\"es_subscription_form_submit es_submit_button es_textbox_button\" id=\"es_subscription_form_submit_1670578256\" value=\"Subscribe\"\/>\n\n\t\t\t\t\n\t\t\t\t<span class=\"es_spinner_image\" id=\"spinner-image\"><img src=\"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/email-subscribers\/lite\/public\/images\/spinner.gif\" alt=\"Loading\"\/><\/span>\n\n\t\t\t<\/form>\n\n\t\t\t<span class=\"es_subscription_message\" id=\"es_subscription_message_1670578256\"><\/span>\n\t\t<\/div>\n\n\t\t\r\n<\/div>\r\n<hr>\n","protected":false},"excerpt":{"rendered":"<p>Ansible Command Module Introduction Ansible Command module is used to execute commands on a remote node. The Command module, is used mostly to run simple Linux commands on a remote node\/server which is part of a host group or Stand alone server mentioned in the host group. If you want[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":3292,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[98],"tags":[260,175,261,262],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Ansible Command Module Examples | Devops Junction<\/title>\n<meta name=\"description\" content=\"ansible command examples, ansible command module introduction and examples. In this post we are covering how to use ansible command module for various real-time. To check the disk space, to check the hostname, to validate if the file is present or not, Run the command or script when a file exists or does not exist.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Ansible Command Module Examples | Devops Junction\" \/>\n<meta property=\"og:description\" content=\"ansible command examples, ansible command module introduction and examples. In this post we are covering how to use ansible command module for various real-time. To check the disk space, to check the hostname, to validate if the file is present or not, Run the command or script when a file exists or does not exist.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2019-04-13T20:50:37+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-06-19T05:58:42+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1.jpeg\" \/>\n\t<meta property=\"og:image:width\" content=\"959\" \/>\n\t<meta property=\"og:image:height\" content=\"728\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2019\/04\/AnsibleCommand-1.jpeg\",\"width\":959,\"height\":728,\"caption\":\"Ansible Command\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/\",\"name\":\"Ansible Command Module Examples | Devops Junction\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#primaryimage\"},\"datePublished\":\"2019-04-13T20:50:37+00:00\",\"dateModified\":\"2022-06-19T05:58:42+00:00\",\"description\":\"ansible command examples, ansible command module introduction and examples. In this post we are covering how to use ansible command module for various real-time. To check the disk space, to check the hostname, to validate if the file is present or not, Run the command or script when a file exists or does not exist.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"Ansible Command Module Examples\",\"datePublished\":\"2019-04-13T20:50:37+00:00\",\"dateModified\":\"2022-06-19T05:58:42+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#primaryimage\"},\"keywords\":\"Ansible command,ansible command examples,Ansible command usage,Ansible commands\",\"articleSection\":\"Ansible\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/ansible-command-examples\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/3258"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=3258"}],"version-history":[{"count":36,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/3258\/revisions"}],"predecessor-version":[{"id":4609,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/3258\/revisions\/4609"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/3292"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=3258"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=3258"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=3258"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}