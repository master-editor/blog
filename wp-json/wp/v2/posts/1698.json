{"id":1698,"date":"2018-07-29T14:20:54","date_gmt":"2018-07-29T08:50:54","guid":{"rendered":"http:\/\/www.middlewareinventory.com\/?p=1698"},"modified":"2019-06-01T22:39:17","modified_gmt":"2019-06-01T17:09:17","slug":"enable-ssh-key-based-authentication-ssh-without-password","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/","title":{"rendered":"How to enable SSH Key based authentication &#8211; Passwordless SSH"},"content":{"rendered":"<p>How to SSH without Password into remote Linux Server is the question that every Engineer working on Linux might have come across.<\/p>\n<p>Sometimes the Question we seek could be different like<\/p>\n<ol>\n<li>ssh command without password<\/li>\n<li>ssh to the remote server without password<\/li>\n<li>SSH without password from Shell Script<\/li>\n<li>SCP to a remote server without password From Shell Script<\/li>\n<li>Passwordless SSH and SCP between Linux servers. etc..<\/li>\n<\/ol>\n<p>But the solution remains the same. Which is enabling <strong>Key Based Authentication between servers<\/strong><\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth.jpeg\"><img class=\"alignnone size-full wp-image-3890\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth.jpeg\" alt=\"SSH without Password Key Based Authentication\" width=\"1050\" height=\"700\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth.jpeg 1050w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-300x200.jpeg 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-768x512.jpeg 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-1024x683.jpeg 1024w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-840x560.jpeg 840w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-120x80.jpeg 120w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-360x240.jpeg 360w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-600x400.jpeg 600w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth-480x320.jpeg 480w\" sizes=\"(max-width: 1050px) 100vw, 1050px\" \/><\/a><\/p>\n<h3>So, How to enable SSH Key based authentication (or) Passwordless SSH in 2 steps<\/h3>\n<p>Execute the following commands in the server from where you are going to log in to the other (or) initiate the SSH command.<\/p>\n<p>For example, If you want to log in to <code>mwiapp02<\/code> server from <code>mwiapp01<\/code>\u00a0as <code>wlsusr<\/code>\u00a0user. You\u00a0should perform the following steps in <code>mwiapp01<\/code>\u00a0as <code>wlsusr<\/code><\/p>\n<p>&nbsp;<\/p>\n<p><span style=\"color: #000000; font-size: 14pt;\"><strong style=\"color: firebrick;\">Step1: Create SSH key for your username (if not already created) using the following command<\/strong><\/span><\/p>\n<p>This Step is to create SSH Key for your user.\u00a0 The Generated SSH Key file would be placed in Home Directory of the current user under <code>.ssh<\/code> directory<\/p>\n<p>The Filename of this Key would be <code>id_rsa<\/code><\/p>\n<blockquote style=\"background-color: black !important;\">\n<p class=\"p1\"><span class=\"s1\" style=\"color: white !important;\">ssh-keygen -q -b 2048 -t rsa -N &#8220;&#8221; -C &#8220;creating SSH&#8221; -f ~\/.ssh\/id_rsa<\/span><\/p>\n<\/blockquote>\n<p>&nbsp;<\/p>\n<p><span style=\"color: #000000; font-size: 14pt;\"><strong style=\"color: firebrick;\">Step2: Copy the key file to the remote server to which you would like to login\u00a0<\/strong><\/span><\/p>\n<p>Using this <code>ssh-copy-id<\/code> command you can actually copy the public key of your user ( Generated from the last command) to the remote server and it would be appended into the\u00a0<code>homedirectory\/.ssh\/authorized_keys<\/code> file<\/p>\n<p>You can optionally do the aforementioned step manually also. But <code>ssh-copy-id<\/code> is the easy and efficient way to do it<\/p>\n<blockquote style=\"background-color: black !important;\"><p><span class=\"s1\" style=\"color: white !important;\">ssh-copy-id wlsusr@mwiapp02<\/span><\/p><\/blockquote>\n<p>Here is a quick Demo on how to do it.<\/p>\n<div class=\"lyte-wrapper\" style=\"width:640px;max-width:100%;margin:5px;\"><div class=\"lyMe\" id=\"WYL_V32V4kJq22o\"><div id=\"lyte_V32V4kJq22o\" data-src=\"\/\/i.ytimg.com\/vi\/V32V4kJq22o\/hqdefault.jpg\" class=\"pL\"><div class=\"tC\"><div class=\"tT\"><\/div><\/div><div class=\"play\"><\/div><div class=\"ctrl\"><div class=\"Lctrl\"><\/div><div class=\"Rctrl\"><\/div><\/div><\/div><noscript><a href=\"https:\/\/youtu.be\/V32V4kJq22o\"><img src=\"https:\/\/i.ytimg.com\/vi\/V32V4kJq22o\/0.jpg\" alt=\"\" width=\"640\" height=\"340\" \/><br \/>Watch this video on YouTube<\/a><\/noscript><\/div><\/div><div class=\"lL\" style=\"max-width:100%;width:640px;margin:5px;\"><\/div><\/p>\n<p>&nbsp;<\/p>\n<h3>SSH from Shell Script and Execute commands after Key Based Authentication Enabled<\/h3>\n<p>As we are now having Passwordless SSH enabled you can do SSH and SCP without being prompted for the password.<\/p>\n<p>Here is a Sample Script which copy an another Script file which has to be executed on the remote Server using SCP and invokes it with SSH.<\/p>\n<p><!-- HTML generated using hilite.me --><\/p>\n<div style=\"background: #ffffff; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;\">\n<pre style=\"margin: 0; line-height: 125%;\"><span style=\"color: #888888;\">#!\/bin\/bash<\/span>\r\n\r\n<span style=\"color: #888888;\"># Read the ServerNames from Properties file<\/span>\r\n<span style=\"color: #008800; font-weight: bold;\">for <\/span>server in <span style=\"background-color: #fff0f0;\">`<\/span>cat Serverlist.properties<span style=\"background-color: #fff0f0;\">`<\/span>\r\n<span style=\"color: #008800; font-weight: bold;\">do<\/span>\r\n        <span style=\"color: #888888;\"># Printing the ServerName<\/span>\r\n        <span style=\"color: #007020;\">echo<\/span> <span style=\"background-color: #fff0f0;\">\"Processing ServerName \"<\/span><span style=\"color: #996633;\">$server<\/span>\r\n\r\n        <span style=\"color: #888888;\"># SCP - copy the script file from Current Directory to Remote Server and Ignore Host Key Verification<\/span>\r\n        scp -o <span style=\"color: #996633;\">UserKnownHostsFile<\/span><span style=\"color: #333333;\">=<\/span>\/dev\/null -o <span style=\"color: #996633;\">StrictHostKeyChecking<\/span><span style=\"color: #333333;\">=<\/span>no EnableLogRotationWLS.sh <span style=\"color: #996633;\">$server<\/span>:\/tmp\/EnableLogRotationWLS.sh\r\n        \r\n        <span style=\"color: #888888;\"># Take Rest for 5 Seconds<\/span>\r\n        sleep 5\r\n\r\n        <span style=\"color: #888888;\"># SSH to remote Server  and Execute a Command [ Invoke the Script ] and Ignore Host Key Verification<\/span>\r\n        ssh   -o <span style=\"color: #996633;\">UserKnownHostsFile<\/span><span style=\"color: #333333;\">=<\/span>\/dev\/null -o <span style=\"color: #996633;\">StrictHostKeyChecking<\/span><span style=\"color: #333333;\">=<\/span>no <span style=\"color: #996633;\">$server<\/span> <span style=\"background-color: #fff0f0;\">\"\/tmp\/EnableLogRotationWLS.sh\"<\/span> &gt; EnableLogRotationLog\/<span style=\"color: #996633;\">$server<\/span>.process\r\n<span style=\"color: #008800; font-weight: bold;\">done<\/span>\r\n<\/pre>\n<\/div>\n<p>Hope it helps<\/p>\n<p>Rate this article [ratings]<\/p>\n<p>Thanks,<\/p>\n<p>Rumen Lishkov<\/p>\n","protected":false},"excerpt":{"rendered":"<p>How to SSH without Password into remote Linux Server is the question that every Engineer working on Linux might have come across. Sometimes the Question we seek could be different like ssh command without password ssh to the remote server without password SSH without password from Shell Script SCP to[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":3890,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[7],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>How to enable SSH Key based authentication - Passwordless SSH<\/title>\n<meta name=\"description\" content=\"The passwordless SSH and SCP between Linux servers, How to Enable SSH Key based Authentication, How to Generate key file and copy to remote server, SSH command without password, SSH to remote server from Shell Script without being prompted for Password. Remote SSH without Password. Key Based Authentication.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"How to enable SSH Key based authentication - Passwordless SSH\" \/>\n<meta property=\"og:description\" content=\"The passwordless SSH and SCP between Linux servers, How to Enable SSH Key based Authentication, How to Generate key file and copy to remote server, SSH command without password, SSH to remote server from Shell Script without being prompted for Password. Remote SSH without Password. Key Based Authentication.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2018-07-29T08:50:54+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2019-06-01T17:09:17+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth.jpeg\" \/>\n\t<meta property=\"og:image:width\" content=\"1050\" \/>\n\t<meta property=\"og:image:height\" content=\"700\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/07\/KeyBasedAuth.jpeg\",\"width\":1050,\"height\":700,\"caption\":\"SSH without Password Key Based Authentication\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/\",\"name\":\"How to enable SSH Key based authentication - Passwordless SSH\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#primaryimage\"},\"datePublished\":\"2018-07-29T08:50:54+00:00\",\"dateModified\":\"2019-06-01T17:09:17+00:00\",\"description\":\"The passwordless SSH and SCP between Linux servers, How to Enable SSH Key based Authentication, How to Generate key file and copy to remote server, SSH command without password, SSH to remote server from Shell Script without being prompted for Password. Remote SSH without Password. Key Based Authentication.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"How to enable SSH Key based authentication &#8211; Passwordless SSH\",\"datePublished\":\"2018-07-29T08:50:54+00:00\",\"dateModified\":\"2019-06-01T17:09:17+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#primaryimage\"},\"articleSection\":\"Unix\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/enable-ssh-key-based-authentication-ssh-without-password\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/1698"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=1698"}],"version-history":[{"count":10,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/1698\/revisions"}],"predecessor-version":[{"id":3896,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/1698\/revisions\/3896"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/3890"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=1698"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=1698"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=1698"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}