{"id":2245,"date":"2018-10-23T09:32:16","date_gmt":"2018-10-23T04:02:16","guid":{"rendered":"http:\/\/www.middlewareinventory.com\/?p=2245"},"modified":"2022-06-19T11:32:58","modified_gmt":"2022-06-19T06:02:58","slug":"how-to-find-high-cpu-consuming-threads-java-thread-top","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/","title":{"rendered":"How to find High CPU Consuming Threads &#8211; Java Thread Top"},"content":{"rendered":"<h2>The Objective<\/h2>\n<p>Let it be any Application Server you use such as Weblogic, Websphere, Tomcat, Jboss, Glassfish. (or) Let it be any Java framework or architecture your web application is developed in like Spring MVC, EJB, JSF, DAO.<\/p>\n<p>When it comes to administrating the Java (J2EE) application ( WEB or Enterprise EJB), we as developers (or) Administrators always be cautious of performance issues.<\/p>\n<p>One of the <span data-dobid=\"hdw\">excruciating<\/span> performance issues we face in production is that our application is eating a lot of the System Resources like Memory and CPU.<\/p>\n<p><strong>If you are the developer,<\/strong> you will be like &#8220;What the heck!.\u00a0 Everything was perfect across all other environments. Why PROD? Why Now ?&#8221;<\/p>\n<p><strong>If you are the Administrator,<\/strong> you will be like &#8220;Ohh man. Seriously ?. Why do they have to do their development and testing in PROD environment.? &#8221;<\/p>\n<p>Never-ending Ball Game, it is.<\/p>\n<p>But there is a common question both of you ask<\/p>\n<blockquote><p>\u00a0Which Java thread is consuming all these CPU resources?<\/p><\/blockquote>\n<p>Well, That&#8217;s the Objective of this Post. So let us see how to find Java High CPU consuming threads using <strong>Java Thread Top<\/strong><\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h2>The Answer and How to find it?<\/h2>\n<p>Well, the answer to the question of <strong>why this is happening<\/strong> can be as simple as a Simple Mistake in a code (or) Something multifold which may even require the dismantling of the entire application and days of debugging.<\/p>\n<p>Peace!.<\/p>\n<p>We have a tool for you to find <strong>Which Java thread is causing the High CPU Utilization<\/strong> but only if you are the species of the Linux world.\u00a0 (\u00a0 too much exaggeration, is not it!\u00a0 I love Linux)<\/p>\n<p>Enough of Jabbering.<\/p>\n<p>&nbsp;<\/p>\n<h2>Meet The <span style=\"color: #de1d6a;\">Java Thread Top<\/span> &#8211; A Shell Script-based Tool<\/h2>\n<p>Honestly speaking.\u00a0 It is really not First Principle (or) one of its kind type of tool where we have written anything\u00a0 new or original<\/p>\n<p>We have just improvised the already available tools such as <strong>top, jcmd<\/strong>\u00a0 and wrapped them together so that it can serve some ultimate purpose ( or just simply taste good)<\/p>\n<p>Here is the final recipe would look like.<\/p>\n<p><a href=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Screen-Shot-2018-10-23-at-4.27.08-AM.png\"><img class=\"alignnone size-full wp-image-2246\" src=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Screen-Shot-2018-10-23-at-4.27.08-AM.png\" alt=\"\" width=\"1274\" height=\"826\" srcset=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Screen-Shot-2018-10-23-at-4.27.08-AM.png 1274w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Screen-Shot-2018-10-23-at-4.27.08-AM-300x195.png 300w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Screen-Shot-2018-10-23-at-4.27.08-AM-768x498.png 768w, https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Screen-Shot-2018-10-23-at-4.27.08-AM-1024x664.png 1024w\" sizes=\"(max-width: 1274px) 100vw, 1274px\" \/><\/a><\/p>\n<p>Since I have already said its a collective script of various commands. Let us see the prerequisites<\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h2>Prerequisites<\/h2>\n<ul style=\"list-style-type: square;\">\n<li>You must run <strong>Linux <\/strong>based os<\/li>\n<li><strong>The bash<\/strong> shell is important<\/li>\n<li>the <strong>jcmd<\/strong> tool must be there<\/li>\n<li>the <strong>top<\/strong> command with batch sort support. ( &gt;= version 3)<\/li>\n<li><strong>cat<\/strong> (or) <strong>less<\/strong> would just be fine<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<h2>Some Cases where JavaThreadTop can be helpful<\/h2>\n<ul>\n<li>Linux High CPU utilization issue caused by Java-based Application server instance (weblogic, WebSphere, JBoss, Tomcat )<\/li>\n<li>Any Java Application runs on Linux platform is performing poor<\/li>\n<li>Java Web Application (or) Java EJB Enterprise Application is having slowness.<\/li>\n<li>When you want to Debug High CPU using Java Web or Enterprise Application<\/li>\n<li>When you want to know, Which Java Web or Enterprise Application threads are consuming more CPU and identify the actual thread name including the Java File Name along with Stack Trace information.<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<h2><strong>How to use<\/strong><\/h2>\n<p><strong>Step1:<\/strong> Copy the Shell script to your local and save it in some directory<\/p>\n<p><strong>Step2:\u00a0<\/strong> Make sure it has execution privilages<\/p>\n<p><strong>Step3:<\/strong> Just <code>ps -eaf<\/code> and be ready with your JVM ( Java Virtual Machine) or Application server instance PID<\/p>\n<p><strong>Step4:<\/strong> Start the script with the JVM&#8217;s PID as a startup argument. Something just like this<\/p>\n<pre>.\/JavaThreadTop.sh 6693<\/pre>\n<p>&nbsp;<\/p>\n<h2>Where to Download?<\/h2>\n<p>The Code and\u00a0 the execution output along with some sample log produced by <strong>Java Thread Top<\/strong> is\u00a0 available in our <a href=\"https:\/\/github.com\/AKSarav\/JavaThreadTop\">GITHUB PAGE<\/a><\/p>\n<p>&nbsp;<\/p>\n<h2>Trial Run\u00a0 &#8211; J<strong>ava Thread Top in Action.<\/strong><\/h2>\n<p>I honestly believe, &#8220;The best marketing of a tool should be of examples on what it can really do&#8221;. So Let us quickly see this video of <strong>Java Thread Top &#8211; in Action.<\/strong><\/p>\n<p><script id=\"asciicast-EEBebH8MFDTqaGGoQf3ttSyNa\" src=\"https:\/\/asciinema.org\/a\/EEBebH8MFDTqaGGoQf3ttSyNa.js\" async><\/script><\/p>\n<script async src=\"https:\/\/pagead2.googlesyndication.com\/pagead\/js\/adsbygoogle.js\"><\/script>\r\n<ins class=\"adsbygoogle\"\r\n     style=\"display:block; text-align:center;\"\r\n     data-ad-layout=\"in-article\"\r\n     data-ad-format=\"fluid\"\r\n     data-ad-client=\"ca-pub-3398911159151128\"\r\n     data-ad-slot=\"1946393371\"><\/ins>\r\n<script>\r\n     (adsbygoogle = window.adsbygoogle || []).push({});\r\n<\/script>\n<h2>Conclusion<\/h2>\n<p>Nothing much.\u00a0 Same things all over again. ( In fact, I should consider templating it )<\/p>\n<ul style=\"list-style-type: circle;\">\n<li>Hope it helps.<\/li>\n<li>Let us know your feedback by comments<\/li>\n<li>Share it with your fellow colleagues and friends if you like this post and tool.<\/li>\n<li>Contact me over comment for any help or queries<\/li>\n<li>Let me know how good this article is by giving a star rating [ratings]<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<p>Thanks<br \/>\nSaravAK<\/p>\n<div id=\"postfollow\">\r\n<a href='https:\/\/ko-fi.com\/O4O51FG7C' target='_blank'><img height='46' style='border:0px;height:46px;width: 186px' src='https:\/\/az743702.vo.msecnd.net\/cdn\/kofi3.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' \/><\/a>\r\n<p>Follow us on<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a> or<a href=\"http:\/\/www.twitter.com\/mwinventory\">Twitter<\/a>\r\n<\/br>\r\nFor more practical videos and tutorials. <a href=\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw?sub_confirmation=1\">Subscribe to our channel<\/a>\r\n<\/br>\r\nFollow me on Linkedin <a href=\"https:\/\/www.linkedin.com\/comm\/mynetwork\/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=saravakmwinventory\">My Profile<\/a>\r\n<\/br>\r\n<\/i>For any Consultation or to hire us <a href=\"mailto:rumenlishkoff@gmail.com\"> rumenlishkoff@gmail.com<\/a>\r\n<\/br>\r\nIf you like this article. Show your Support! <a href=\"https:\/\/ko-fi.com\/middlewareinventory\">Buy me a Coffee.<\/a>\r\n<\/br>\r\n<\/p>\r\n<p style=\"color: palevioletred !important;\">Signup for Exclusive \"Subscriber-only\" Content<\/p>\r\n\n\t\t<div class=\"emaillist\">\n\t\t\t<form action=\"#\" method=\"post\" class=\"es_subscription_form es_shortcode_form\" id=\"es_subscription_form_1670577243\" data-source=\"ig-es\">\n\t\t\t\t\t\t\t\t<div class=\"es-field-wrap\"><label>Name*<br \/><input type=\"text\" name=\"name\" class=\"ig_es_form_field_name\" placeholder=\"\" value=\"\" required=\"required\" \/><\/label><\/div><div class=\"es-field-wrap\"><label>Email*<br \/><input class=\"es_required_field es_txt_email ig_es_form_field_email\" type=\"email\" name=\"email\" value=\"\" placeholder=\"\" required=\"required\" \/><\/label><\/div><input type=\"hidden\" name=\"lists[]\" value=\"1\" \/><input type=\"hidden\" name=\"form_id\" value=\"3\" \/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page\" value=\"2245\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es_email_page_url\" value=\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"status\" value=\"Unconfirmed\"\/>\n\t\t\t\t<input type=\"hidden\" name=\"es-subscribe\" id=\"es-subscribe\" value=\"7aebfb1a9b\"\/>\n\t\t\t\t<label style=\"position:absolute;top:-99999px;left:-99999px;z-index:-99;\"><input type=\"email\" name=\"es_hp_email\" class=\"es_required_field\" tabindex=\"-1\" autocomplete=\"-1\" value=\"\"\/><\/label>\n\t\t\t\t\t\t\t\t<input type=\"submit\" name=\"submit\" class=\"es_subscription_form_submit es_submit_button es_textbox_button\" id=\"es_subscription_form_submit_1670577243\" value=\"Subscribe\"\/>\n\n\t\t\t\t\n\t\t\t\t<span class=\"es_spinner_image\" id=\"spinner-image\"><img src=\"https:\/\/www.middlewareinventory.com\/wp-content\/plugins\/email-subscribers\/lite\/public\/images\/spinner.gif\" alt=\"Loading\"\/><\/span>\n\n\t\t\t<\/form>\n\n\t\t\t<span class=\"es_subscription_message\" id=\"es_subscription_message_1670577243\"><\/span>\n\t\t<\/div>\n\n\t\t\r\n<\/div>\r\n<hr>\n","protected":false},"excerpt":{"rendered":"<p>The Objective Let it be any Application Server you use such as Weblogic, Websphere, Tomcat, Jboss, Glassfish. (or) Let it be any Java framework or architecture your web application is developed in like Spring MVC, EJB, JSF, DAO. When it comes to administrating the Java (J2EE) application ( WEB or[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":2249,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[12,147,124],"tags":[149,150],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>How to find High CPU Consuming Threads - Java Thread Top<\/title>\n<meta name=\"description\" content=\"Java Thread Top is a simple tool helps you to find the High CPU consuming threads of your Java JVM, Application Server running on Linux. Java High CPU how to handle.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"How to find High CPU Consuming Threads - Java Thread Top\" \/>\n<meta property=\"og:description\" content=\"Java Thread Top is a simple tool helps you to find the High CPU consuming threads of your Java JVM, Application Server running on Linux. Java High CPU how to handle.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2018-10-23T04:02:16+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-06-19T06:02:58+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Untitled-Diagram-4.png\" \/>\n\t<meta property=\"og:image:width\" content=\"724\" \/>\n\t<meta property=\"og:image:height\" content=\"512\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2018\/10\/Untitled-Diagram-4.png\",\"width\":724,\"height\":512,\"caption\":\"JavaThreadTop\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/\",\"name\":\"How to find High CPU Consuming Threads - Java Thread Top\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#primaryimage\"},\"datePublished\":\"2018-10-23T04:02:16+00:00\",\"dateModified\":\"2022-06-19T06:02:58+00:00\",\"description\":\"Java Thread Top is a simple tool helps you to find the High CPU consuming threads of your Java JVM, Application Server running on Linux. Java High CPU how to handle.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"How to find High CPU Consuming Threads &#8211; Java Thread Top\",\"datePublished\":\"2018-10-23T04:02:16+00:00\",\"dateModified\":\"2022-06-19T06:02:58+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#primaryimage\"},\"keywords\":\"Debug High CPU using Java Web or Enterprise Application,Linux High CPU utilization issue caused by Java-based Application server instance weblogic websphere JBoss Tomcat\",\"articleSection\":\"Shell Scripting,tools,Troubleshooting\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/how-to-find-high-cpu-consuming-threads-java-thread-top\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/2245"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=2245"}],"version-history":[{"count":8,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/2245\/revisions"}],"predecessor-version":[{"id":6481,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/2245\/revisions\/6481"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media\/2249"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=2245"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=2245"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=2245"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}