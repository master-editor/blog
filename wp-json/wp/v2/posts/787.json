{"id":787,"date":"2017-11-11T03:39:22","date_gmt":"2017-11-10T22:09:22","guid":{"rendered":"http:\/\/www.mwinventory.in\/?p=787"},"modified":"2018-09-06T05:13:10","modified_gmt":"2018-09-05T23:43:10","slug":"weblogic-toomany-open-files-error","status":"publish","type":"post","link":"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/","title":{"rendered":"How to handle the weblogic too many open files exception"},"content":{"rendered":"<p>How to handle the weblogic Too many open files exceptions in Linux environment.<\/p>\n<h6 style=\"text-align: left;\"><strong>Exception:<\/strong><\/h6>\n<pre>&lt;Jan 9, 2018 11:06:01 AM IST&gt; &lt;Notice&gt; &lt;Server&gt; &lt;mwinventory.in&gt; &lt;mwiserver2&gt; &lt;DynamicListenThread[Default]&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1515557161382&gt; &lt;BEA-002614&gt; &lt;Reopening channel \"Default\" on 192.16.8.34:13004.&gt;\r\n####&lt;Jan 9, 2018 11:06:01 AM IST&gt; &lt;Error&gt; &lt;Server&gt; &lt;mwinventory.in&gt; &lt;mwiserver2&gt; &lt;DynamicListenThread[Default]&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1515557161383&gt; &lt;BEA-002606&gt; &lt;Unable to create a server socket for listening on channel \"Default\". The address 192.16.8.34 might be incorrect or another process is using port 13004: java.net.SocketException: Too many open files.&gt;<\/pre>\n<h3><\/h3>\n<h3 style=\"text-align: left;\"><strong>Root Cause Analysis and Solution:<\/strong><\/h3>\n<p>Too many open files error mean that your JVM is not able to open any new file for processing because of the <strong>ulimit constraints <\/strong>on the box<\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h3 style=\"text-align: left;\"><strong>How to check the ulimit set for your box<\/strong><\/h3>\n<p>ulimit is and being set per userid, so please switch to the user in which weblogic processes are running. Let&#8217;s say <strong>weblogic<\/strong> is the username<\/p>\n<pre>sudo su - weblogic (or) su - weblogic<\/pre>\n<p>Now execute the following command for the weblogic user account<\/p>\n<pre>aksarav@mwinventory#<strong><span style=\"color: #000000;\"> ulimit -a<\/span>\r\n<\/strong>core file size (blocks, -c) 0\r\ndata seg size (kbytes, -d) unlimited\r\nscheduling priority (-e) 0\r\nfile size (blocks, -f) unlimited\r\npending signals (-i) 5289\r\nmax locked memory (kbytes, -l) 32\r\nmax memory size (kbytes, -m) unlimited\r\n<strong>open files (-n) 7200<\/strong>\r\npipe size (512 bytes, -p) 8\r\nPOSIX message queues (bytes, -q) 819200\r\nreal-time priority (-r) 0\r\nstack size (kbytes, -s) 10240\r\ncpu time (seconds, -t) unlimited\r\nmax user processes (-u) 515638\r\nvirtual memory (kbytes, -v) unlimited\r\nfile locks (-x) unlimited\r\n\r\n<\/pre>\n<p>in the output, open files indicate the maximum open file your user account could possibly hold. you can get this info directly using the command\u00a0<code>ulimit -n<\/code><\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h3 style=\"text-align: left;\"><strong>How many open files your JVM is having<\/strong><\/h3>\n<p style=\"text-align: left;\">To see how many files are being held by your <strong>JVM<\/strong>, First get the PID of your JVM using <code>ps -feww<\/code> (or) <code>ps -eaf<\/code>and use the following command<\/p>\n<pre style=\"text-align: left;\">\/usr\/sbin\/lsof -p &lt;pid&gt; |wc -l<\/pre>\n<p style=\"text-align: left;\">in the command, replace <code>&lt;pid&gt;<\/code> with your actual jvm pid<\/p>\n<p>&nbsp;<\/p>\n<h3 style=\"text-align: left;\"><strong>How many open files your useracount is having<\/strong><\/h3>\n<p style=\"text-align: left;\">To see how many files are being held by your <strong>useraccount<\/strong> ( in my case weblogicusr),\u00a0use the following command<\/p>\n<pre style=\"text-align: left;\">\/usr\/sbin\/lsof -u &lt;username&gt; |wc -l<\/pre>\n<p style=\"text-align: left;\">in the command, replace &lt;username&gt; with your actual\u00a0user account name, in my case its <em>weblogicusr<\/em><\/p>\n<p style=\"text-align: left;\">After confirming the open file count you can restart the server as a temporary workaround. the permanent solution could be anything from the following<\/p>\n<ol>\n<li style=\"text-align: left;\">\u00a0Analyze the opened files and see why the JVM is holding all these files, make sure that there is no bug in the deployed application which is leading to massive file opening and\u00a0make sure the code is closing the files properly after opening.<\/li>\n<li style=\"text-align: left;\">when you find no issues at the code, you can consider increasing the open file limit<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n<h2 style=\"text-align: left;\"><strong>How to increase the openfile limit for the user(<\/strong><em>weblogicusr<\/em><strong>)<\/strong><\/h2>\n<p style=\"text-align: left;\">To increase the open file limit for the user account (<em>weblogicusr<\/em>) you can perform the following configuration changes in the server<\/p>\n<p style=\"text-align: left;\">Admin privileges (root) \u00a0is mandatory to perform the below step<\/p>\n<p style=\"text-align: left;\">Add the following lines in the end of\u00a0<strong>\/etc\/security\/limits.conf <\/strong>file<\/p>\n<pre>weblogicusr soft nofile 9384\r\nweblogicusr hard nofile 9384<\/pre>\n<p style=\"text-align: left;\">here <em>9384<\/em> indicates the maximum openfile limit, replace 9384 with the value as per requirement.<\/p>\n<p style=\"text-align: left;\">Hope it helps.<\/p>\n<p style=\"text-align: left;\">Thanks,<\/p>\n<p>A K S A R A V<\/p>\n<p>Write to us at :\u00a0<a href=\"mailto:aksarav@mwinventory.in\">aksarav@mwinventory.in<\/a><\/p>\n<p><i class=\"fa fa-facebook\"><\/i>\u00a0Follow us on\u00a0<a href=\"http:\/\/www.facebook.com\/middlewareinventory\">Facebook<\/a><\/p>\n<p><i class=\"fa fa-whatsapp\"><\/i>\u00a0To Join our\u00a0Community in\u00a0<a href=\"https:\/\/chat.whatsapp.com\/7Wn9PyXGw7GI3MMmFux6kU\">Whatsapp \u2013 Click here\u00a0<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>How to handle the weblogic Too many open files exceptions in Linux environment. Exception: &lt;Jan 9, 2018 11:06:01 AM IST&gt; &lt;Notice&gt; &lt;Server&gt; &lt;mwinventory.in&gt; &lt;mwiserver2&gt; &lt;DynamicListenThread[Default]&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1515557161382&gt; &lt;BEA-002614&gt; &lt;Reopening channel &#8220;Default&#8221; on 192.16.8.34:13004.&gt; ####&lt;Jan 9, 2018 11:06:01 AM IST&gt; &lt;Error&gt; &lt;Server&gt; &lt;mwinventory.in&gt; &lt;mwiserver2&gt; &lt;DynamicListenThread[Default]&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt;[&#8230;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_et_pb_use_builder":"","_et_pb_old_content":"","_et_gb_content_width":""},"categories":[31,21],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.9 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>How to handle the weblogic too many open files exception<\/title>\n<meta name=\"description\" content=\"How to handle the weblogic Too many open files exceptions and how to set ulimit in weblogic and how to find the file usage of a JVM, Root cause analysis and a solution to resolve.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"How to handle the weblogic too many open files exception\" \/>\n<meta property=\"og:description\" content=\"How to handle the weblogic Too many open files exceptions and how to set ulimit in weblogic and how to find the file usage of a JVM, Root cause analysis and a solution to resolve.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/\" \/>\n<meta property=\"og:site_name\" content=\"Middleware Inventory\" \/>\n<meta property=\"article:publisher\" content=\"http:\/\/www.facebook.com\/devopsjunc\" \/>\n<meta property=\"article:published_time\" content=\"2017-11-10T22:09:22+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2018-09-05T23:43:10+00:00\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@mwinventory\" \/>\n<meta name=\"twitter:site\" content=\"@mwinventory\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\",\"name\":\"Middleware Inventory\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"sameAs\":[\"http:\/\/www.facebook.com\/devopsjunc\",\"https:\/\/www.youtube.com\/channel\/UCRuqBFM6ioWwviNJkgOjeWw\",\"https:\/\/twitter.com\/mwinventory\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/www.middlewareinventory.com\/wp-content\/uploads\/2020\/09\/Screenshot-2020-09-18-at-3.49.40-AM.jpg\",\"width\":300,\"height\":107,\"caption\":\"Middleware Inventory\"},\"image\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\",\"url\":\"https:\/\/www.middlewareinventory.com\/\",\"name\":\"Devops Junction\",\"description\":\"An inventory of [i]nformation, Middleware and much more.\",\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.middlewareinventory.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/#webpage\",\"url\":\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/\",\"name\":\"How to handle the weblogic too many open files exception\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#website\"},\"datePublished\":\"2017-11-10T22:09:22+00:00\",\"dateModified\":\"2018-09-05T23:43:10+00:00\",\"description\":\"How to handle the weblogic Too many open files exceptions and how to set ulimit in weblogic and how to find the file usage of a JVM, Root cause analysis and a solution to resolve.\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\"},\"headline\":\"How to handle the weblogic too many open files exception\",\"datePublished\":\"2017-11-10T22:09:22+00:00\",\"dateModified\":\"2018-09-05T23:43:10+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.middlewareinventory.com\/#organization\"},\"articleSection\":\"problem\/solution,weblogic\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.middlewareinventory.com\/blog\/weblogic-toomany-open-files-error\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#\/schema\/person\/050bf13e27b309d29d1bda45c4eb3147\",\"name\":\"Rumen Lishkov\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.middlewareinventory.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/c22e4a54d67750291a9892531f94ffb3?s=96&d=mm&r=g\",\"caption\":\"Rumen Lishkov\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","_links":{"self":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/787"}],"collection":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/comments?post=787"}],"version-history":[{"count":6,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/787\/revisions"}],"predecessor-version":[{"id":1731,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/posts\/787\/revisions\/1731"}],"wp:attachment":[{"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/media?parent=787"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/categories?post=787"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.middlewareinventory.com\/wp-json\/wp\/v2\/tags?post=787"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}